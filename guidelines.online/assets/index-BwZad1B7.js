var t_=t=>{throw TypeError(t)};var Sp=(t,e,n)=>e.has(t)||t_("Cannot "+n);var H=(t,e,n)=>(Sp(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?t_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ie=(t,e,n,r)=>(Sp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qe=(t,e,n)=>(Sp(t,e,"access private method"),n);var Wu=(t,e,n,r)=>({set _(s){Ie(t,e,s,n)},get _(){return H(t,e,r)}});function YR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z1={exports:{}},cf={},J1={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),XR=Symbol.for("react.portal"),ZR=Symbol.for("react.fragment"),JR=Symbol.for("react.strict_mode"),eP=Symbol.for("react.profiler"),tP=Symbol.for("react.provider"),nP=Symbol.for("react.context"),rP=Symbol.for("react.forward_ref"),sP=Symbol.for("react.suspense"),iP=Symbol.for("react.memo"),oP=Symbol.for("react.lazy"),n_=Symbol.iterator;function aP(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var eb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tb=Object.assign,nb={};function yl(t,e,n){this.props=t,this.context=e,this.refs=nb,this.updater=n||eb}yl.prototype.isReactComponent={};yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rb(){}rb.prototype=yl.prototype;function Uy(t,e,n){this.props=t,this.context=e,this.refs=nb,this.updater=n||eb}var By=Uy.prototype=new rb;By.constructor=Uy;tb(By,yl.prototype);By.isPureReactComponent=!0;var r_=Array.isArray,sb=Object.prototype.hasOwnProperty,zy={current:null},ib={key:!0,ref:!0,__self:!0,__source:!0};function ob(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sb.call(e,r)&&!ib.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:au,type:t,key:i,ref:o,props:s,_owner:zy.current}}function lP(t,e){return{$$typeof:au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $y(t){return typeof t=="object"&&t!==null&&t.$$typeof===au}function cP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s_=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cP(""+t.key):e.toString(36)}function Ad(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case au:case XR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Cp(o,0):r,r_(s)?(n="",t!=null&&(n=t.replace(s_,"$&/")+"/"),Ad(s,e,n,"",function(c){return c})):s!=null&&($y(s)&&(s=lP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",r_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Cp(i,a);o+=Ad(i,e,n,l,s)}else if(l=aP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Cp(i,a++),o+=Ad(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(t,e,n){if(t==null)return t;var r=[],s=0;return Ad(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Rd={transition:null},dP={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:zy};function ab(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:qu,forEach:function(t,e,n){qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!$y(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=yl;Ze.Fragment=ZR;Ze.Profiler=eP;Ze.PureComponent=Uy;Ze.StrictMode=JR;Ze.Suspense=sP;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dP;Ze.act=ab;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sb.call(e,l)&&!ib.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:au,type:t.type,key:s,ref:i,props:r,_owner:o}};Ze.createContext=function(t){return t={$$typeof:nP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tP,_context:t},t.Consumer=t};Ze.createElement=ob;Ze.createFactory=function(t){var e=ob.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:rP,render:t}};Ze.isValidElement=$y;Ze.lazy=function(t){return{$$typeof:oP,_payload:{_status:-1,_result:t},_init:uP}};Ze.memo=function(t,e){return{$$typeof:iP,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};Ze.unstable_act=ab;Ze.useCallback=function(t,e){return Nn.current.useCallback(t,e)};Ze.useContext=function(t){return Nn.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return Nn.current.useEffect(t,e)};Ze.useId=function(){return Nn.current.useId()};Ze.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return Nn.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};Ze.useRef=function(t){return Nn.current.useRef(t)};Ze.useState=function(t){return Nn.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return Nn.current.useTransition()};Ze.version="18.3.1";J1.exports=Ze;var b=J1.exports;const pt=Vy(b),vl=YR({__proto__:null,default:pt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP=b,fP=Symbol.for("react.element"),pP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,gP=hP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yP={key:!0,ref:!0,__self:!0,__source:!0};function lb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mP.call(e,r)&&!yP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:fP,type:t,key:i,ref:o,props:s,_owner:gP.current}}cf.Fragment=pP;cf.jsx=lb;cf.jsxs=lb;Z1.exports=cf;var d=Z1.exports,cb={exports:{}},er={},ub={exports:{}},db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,B){var Q=K.length;K.push(B);e:for(;0<Q;){var U=Q-1>>>1,z=K[U];if(0<s(z,B))K[U]=B,K[Q]=z,Q=U;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var B=K[0],Q=K.pop();if(Q!==B){K[0]=Q;e:for(var U=0,z=K.length,he=z>>>1;U<he;){var ue=2*(U+1)-1,pe=K[ue],le=ue+1,$=K[le];if(0>s(pe,Q))le<z&&0>s($,pe)?(K[U]=$,K[le]=Q,U=le):(K[U]=pe,K[ue]=Q,U=ue);else if(le<z&&0>s($,Q))K[U]=$,K[le]=Q,U=le;else break e}}return B}function s(K,B){var Q=K.sortIndex-B.sortIndex;return Q!==0?Q:K.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,x=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=K)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(K){if(m=!1,_(K),!x)if(n(l)!==null)x=!0,oe(P);else{var B=n(c);B!==null&&Z(S,B.startTime-K)}}function P(K,B){x=!1,m&&(m=!1,y(k),k=-1),g=!0;var Q=p;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||K&&!j());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var z=U(f.expirationTime<=B);B=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var ue=n(c);ue!==null&&Z(S,ue.startTime-B),he=!1}return he}finally{f=null,p=Q,g=!1}}var L=!1,T=null,k=-1,C=5,O=-1;function j(){return!(t.unstable_now()-O<C)}function R(){if(T!==null){var K=t.unstable_now();O=K;var B=!0;try{B=T(!0,K)}finally{B?D():(L=!1,T=null)}}else L=!1}var D;if(typeof w=="function")D=function(){w(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=R,D=function(){G.postMessage(null)}}else D=function(){v(R,0)};function oe(K){T=K,L||(L=!0,D())}function Z(K,B){k=v(function(){K(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,oe(P))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Q=p;p=B;try{return K()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,B){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=p;p=K;try{return B()}finally{p=Q}},t.unstable_scheduleCallback=function(K,B,Q){var U=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,K={id:h++,callback:B,priorityLevel:K,startTime:Q,expirationTime:z,sortIndex:-1},Q>U?(K.sortIndex=Q,e(c,K),n(l)===null&&K===n(c)&&(m?(y(k),k=-1):m=!0,Z(S,Q-U))):(K.sortIndex=z,e(l,K),x||g||(x=!0,oe(P))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var B=p;return function(){var Q=p;p=B;try{return K.apply(this,arguments)}finally{p=Q}}}})(db);ub.exports=db;var vP=ub.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=b,Zn=vP;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hb=new Set,Ic={};function Lo(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(Ic[t]=e,t=0;t<e.length;t++)hb.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,_P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i_={},o_={};function xP(t){return Tm.call(o_,t)?!0:Tm.call(i_,t)?!1:_P.test(t)?o_[t]=!0:(i_[t]=!0,!1)}function EP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bP(t,e,n,r){if(e===null||typeof e>"u"||EP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);on[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);on[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wy,Hy);on[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bP(e,n,s,r)&&(n=null),r||s===null?xP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=wP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),oa=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),fb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),mb=Symbol.for("react.offscreen"),a_=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Tp;function nc(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Ip=!1;function kp(t,e){if(!t||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nc(t):""}function SP(t){switch(t.tag){case 5:return nc(t.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return t=kp(t.type,!1),t;case 11:return t=kp(t.type.render,!1),t;case 1:return t=kp(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case oa:return"Portal";case Im:return"Profiler";case Ky:return"StrictMode";case km:return"Suspense";case Nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pb:return(t.displayName||"Context")+".Consumer";case fb:return(t._context.displayName||"Context")+".Provider";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qy:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function CP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TP(t){var e=gb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gu(t){t._valueTracker||(t._valueTracker=TP(t))}function yb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rm(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vb(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function Pm(t,e){vb(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Om(t,e.type,n):e.hasOwnProperty("defaultValue")&&Om(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Om(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rc=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(rc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function wb(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _b(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_b(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,xb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IP=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){IP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function Eb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function bb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Eb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kP=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(t,e){if(e){if(kP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Ea=null,ba=null;function h_(t){if(t=uu(t)){if(typeof Vm!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=pf(e),Vm(t.stateNode,t.type,e))}}function Sb(t){Ea?ba?ba.push(t):ba=[t]:Ea=t}function Cb(){if(Ea){var t=Ea,e=ba;if(ba=Ea=null,h_(t),e)for(t=0;t<e.length;t++)h_(e[t])}}function Tb(t,e){return t(e)}function Ib(){}var Np=!1;function kb(t,e,n){if(Np)return t(e,n);Np=!0;try{return Tb(t,e,n)}finally{Np=!1,(Ea!==null||ba!==null)&&(Ib(),Cb())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Um=!1;if(Is)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Um=!1}function NP(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var fc=!1,oh=null,ah=!1,Bm=null,AP={onError:function(t){fc=!0,oh=t}};function RP(t,e,n,r,s,i,o,a,l){fc=!1,oh=null,NP.apply(AP,arguments)}function PP(t,e,n,r,s,i,o,a,l){if(RP.apply(this,arguments),fc){if(fc){var c=oh;fc=!1,oh=null}else throw Error(_e(198));ah||(ah=!0,Bm=c)}}function Fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f_(t){if(Fo(t)!==t)throw Error(_e(188))}function OP(t){var e=t.alternate;if(!e){if(e=Fo(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return f_(s),t;if(i===r)return f_(s),e;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function Ab(t){return t=OP(t),t!==null?Rb(t):null}function Rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rb(t);if(e!==null)return e;t=t.sibling}return null}var Pb=Zn.unstable_scheduleCallback,p_=Zn.unstable_cancelCallback,DP=Zn.unstable_shouldYield,jP=Zn.unstable_requestPaint,jt=Zn.unstable_now,LP=Zn.unstable_getCurrentPriorityLevel,Xy=Zn.unstable_ImmediatePriority,Ob=Zn.unstable_UserBlockingPriority,lh=Zn.unstable_NormalPriority,FP=Zn.unstable_LowPriority,Db=Zn.unstable_IdlePriority,uf=null,Br=null;function MP(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(uf,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:BP,VP=Math.log,UP=Math.LN2;function BP(t){return t>>>=0,t===0?32:31-(VP(t)/UP|0)|0}var Yu=64,Xu=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ch(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=sc(a):(i&=o,i!==0&&(r=sc(i)))}else o=n&~s,o!==0?r=sc(o):i!==0&&(r=sc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),s=1<<n,r|=t[n],e&=~s;return r}function zP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $P(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Cr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=zP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jb(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function Ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function WP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Cr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function Lb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fb,Jy,Mb,Vb,Ub,$m=!1,Zu=[],mi=null,gi=null,yi=null,Ac=new Map,Rc=new Map,Zs=[],HP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(e.pointerId)}}function Hl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=uu(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qP(t,e,n,r,s){switch(e){case"focusin":return mi=Hl(mi,t,e,n,r,s),!0;case"dragenter":return gi=Hl(gi,t,e,n,r,s),!0;case"mouseover":return yi=Hl(yi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ac.set(i,Hl(Ac.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rc.set(i,Hl(Rc.get(i)||null,t,e,n,r,s)),!0}return!1}function Bb(t){var e=ro(t.target);if(e!==null){var n=Fo(e);if(n!==null){if(e=n.tag,e===13){if(e=Nb(n),e!==null){t.blockedOn=e,Ub(t.priority,function(){Mb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=uu(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function g_(t,e,n){Pd(t)&&n.delete(e)}function KP(){$m=!1,mi!==null&&Pd(mi)&&(mi=null),gi!==null&&Pd(gi)&&(gi=null),yi!==null&&Pd(yi)&&(yi=null),Ac.forEach(g_),Rc.forEach(g_)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,$m||($m=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,KP)))}function Pc(t){function e(s){return ql(s,t)}if(0<Zu.length){ql(Zu[0],t);for(var n=1;n<Zu.length;n++){var r=Zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&ql(mi,t),gi!==null&&ql(gi,t),yi!==null&&ql(yi,t),Ac.forEach(e),Rc.forEach(e),n=0;n<Zs.length;n++)r=Zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zs.length&&(n=Zs[0],n.blockedOn===null);)Bb(n),n.blockedOn===null&&Zs.shift()}var Sa=Vs.ReactCurrentBatchConfig,uh=!0;function GP(t,e,n,r){var s=mt,i=Sa.transition;Sa.transition=null;try{mt=1,ev(t,e,n,r)}finally{mt=s,Sa.transition=i}}function QP(t,e,n,r){var s=mt,i=Sa.transition;Sa.transition=null;try{mt=4,ev(t,e,n,r)}finally{mt=s,Sa.transition=i}}function ev(t,e,n,r){if(uh){var s=Wm(t,e,n,r);if(s===null)Up(t,e,r,dh,n),m_(t,r);else if(qP(s,t,e,n,r))r.stopPropagation();else if(m_(t,r),e&4&&-1<HP.indexOf(t)){for(;s!==null;){var i=uu(s);if(i!==null&&Fb(i),i=Wm(t,e,n,r),i===null&&Up(t,e,r,dh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Up(t,e,r,null,n)}}var dh=null;function Wm(t,e,n,r){if(dh=null,t=Yy(r),t=ro(t),t!==null)if(e=Fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dh=t,null}function zb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LP()){case Xy:return 1;case Ob:return 4;case lh:case FP:return 16;case Db:return 536870912;default:return 16}default:return 16}}var hi=null,tv=null,Od=null;function $b(){if(Od)return Od;var t,e=tv,n=e.length,r,s="value"in hi?hi.value:hi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Od=s.slice(t,1<r?1-r:void 0)}function Dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function y_(){return!1}function tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ju:y_,this.isPropagationStopped=y_,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=tr(wl),cu=Tt({},wl,{view:0,detail:0}),YP=tr(cu),Rp,Pp,Kl,df=Tt({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(Rp=t.screenX-Kl.screenX,Pp=t.screenY-Kl.screenY):Pp=Rp=0,Kl=t),Rp)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),v_=tr(df),XP=Tt({},df,{dataTransfer:0}),ZP=tr(XP),JP=Tt({},cu,{relatedTarget:0}),Op=tr(JP),e2=Tt({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),t2=tr(e2),n2=Tt({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r2=tr(n2),s2=Tt({},wl,{data:0}),w_=tr(s2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a2[t])?!!e[t]:!1}function rv(){return l2}var c2=Tt({},cu,{key:function(t){if(t.key){var e=i2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(t){return t.type==="keypress"?Dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u2=tr(c2),d2=Tt({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=tr(d2),h2=Tt({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),f2=tr(h2),p2=Tt({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),m2=tr(p2),g2=Tt({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y2=tr(g2),v2=[9,13,27,32],sv=Is&&"CompositionEvent"in window,pc=null;Is&&"documentMode"in document&&(pc=document.documentMode);var w2=Is&&"TextEvent"in window&&!pc,Wb=Is&&(!sv||pc&&8<pc&&11>=pc),x_=" ",E_=!1;function Hb(t,e){switch(t){case"keyup":return v2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function _2(t,e){switch(t){case"compositionend":return qb(e);case"keypress":return e.which!==32?null:(E_=!0,x_);case"textInput":return t=e.data,t===x_&&E_?null:t;default:return null}}function x2(t,e){if(la)return t==="compositionend"||!sv&&Hb(t,e)?(t=$b(),Od=tv=hi=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wb&&e.locale!=="ko"?null:e.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E2[t.type]:e==="textarea"}function Kb(t,e,n,r){Sb(r),e=hh(e,"onChange"),0<e.length&&(n=new nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mc=null,Oc=null;function b2(t){sS(t,0)}function hf(t){var e=da(t);if(yb(e))return t}function S2(t,e){if(t==="change")return e}var Gb=!1;if(Is){var Dp;if(Is){var jp="oninput"in document;if(!jp){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),jp=typeof S_.oninput=="function"}Dp=jp}else Dp=!1;Gb=Dp&&(!document.documentMode||9<document.documentMode)}function C_(){mc&&(mc.detachEvent("onpropertychange",Qb),Oc=mc=null)}function Qb(t){if(t.propertyName==="value"&&hf(Oc)){var e=[];Kb(e,Oc,t,Yy(t)),kb(b2,e)}}function C2(t,e,n){t==="focusin"?(C_(),mc=e,Oc=n,mc.attachEvent("onpropertychange",Qb)):t==="focusout"&&C_()}function T2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hf(Oc)}function I2(t,e){if(t==="click")return hf(e)}function k2(t,e){if(t==="input"||t==="change")return hf(e)}function N2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:N2;function Dc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tm.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function T_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=T_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T_(n)}}function Yb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xb(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A2(t){var e=Xb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yb(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=I_(n,i);var o=I_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R2=Is&&"documentMode"in document&&11>=document.documentMode,ca=null,Hm=null,gc=null,qm=!1;function k_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qm||ca==null||ca!==ih(r)||(r=ca,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Dc(gc,r)||(gc=r,r=hh(Hm,"onSelect"),0<r.length&&(e=new nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ca)))}function ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ua={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Lp={},Zb={};Is&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ff(t){if(Lp[t])return Lp[t];if(!ua[t])return t;var e=ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zb)return Lp[t]=e[n];return t}var Jb=ff("animationend"),eS=ff("animationiteration"),tS=ff("animationstart"),nS=ff("transitionend"),rS=new Map,N_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){rS.set(t,e),Lo(e,[t])}for(var Fp=0;Fp<N_.length;Fp++){var Mp=N_[Fp],P2=Mp.toLowerCase(),O2=Mp[0].toUpperCase()+Mp.slice(1);Wi(P2,"on"+O2)}Wi(Jb,"onAnimationEnd");Wi(eS,"onAnimationIteration");Wi(tS,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(nS,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);Lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PP(r,e,void 0,t),t.currentTarget=null}function sS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;A_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;A_(s,a,c),i=l}}}if(ah)throw t=Bm,ah=!1,Bm=null,t}function _t(t,e){var n=e[Xm];n===void 0&&(n=e[Xm]=new Set);var r=t+"__bubble";n.has(r)||(iS(e,t,2,!1),n.add(r))}function Vp(t,e,n){var r=0;e&&(r|=4),iS(n,t,r,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[td]){t[td]=!0,hb.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||Vp(n,!1,t),Vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,Vp("selectionchange",!1,e))}}function iS(t,e,n,r){switch(zb(e)){case 1:var s=GP;break;case 4:s=QP;break;default:s=ev}n=s.bind(null,e,n,t),s=void 0,!Um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Up(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kb(function(){var c=i,h=Yy(n),f=[];e:{var p=rS.get(t);if(p!==void 0){var g=nv,x=t;switch(t){case"keypress":if(Dd(n)===0)break e;case"keydown":case"keyup":g=u2;break;case"focusin":x="focus",g=Op;break;case"focusout":x="blur",g=Op;break;case"beforeblur":case"afterblur":g=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=v_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ZP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=f2;break;case Jb:case eS:case tS:g=t2;break;case nS:g=m2;break;case"scroll":g=YP;break;case"wheel":g=y2;break;case"copy":case"cut":case"paste":g=r2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=__}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var w=c,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=Nc(w,y),S!=null&&m.push(Lc(w,S,_)))),v)break;w=w.return}0<m.length&&(p=new g(p,x,null,n,h),f.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Mm&&(x=n.relatedTarget||n.fromElement)&&(ro(x)||x[ks]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?ro(x):null,x!==null&&(v=Fo(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(m=v_,S="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=__,S="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?p:da(g),_=x==null?p:da(x),p=new m(S,w+"leave",g,n,h),p.target=v,p.relatedTarget=_,S=null,ro(h)===c&&(m=new m(y,w+"enter",x,n,h),m.target=_,m.relatedTarget=v,S=m),v=S,g&&x)t:{for(m=g,y=x,w=0,_=m;_;_=Ho(_))w++;for(_=0,S=y;S;S=Ho(S))_++;for(;0<w-_;)m=Ho(m),w--;for(;0<_-w;)y=Ho(y),_--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ho(m),y=Ho(y)}m=null}else m=null;g!==null&&R_(f,p,g,m,!1),x!==null&&v!==null&&R_(f,v,x,m,!0)}}e:{if(p=c?da(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=S2;else if(b_(p))if(Gb)P=k2;else{P=T2;var L=C2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=I2);if(P&&(P=P(t,c))){Kb(f,P,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Om(p,"number",p.value)}switch(L=c?da(c):window,t){case"focusin":(b_(L)||L.contentEditable==="true")&&(ca=L,Hm=c,gc=null);break;case"focusout":gc=Hm=ca=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,k_(f,n,h);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":k_(f,n,h)}var T;if(sv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else la?Hb(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Wb&&n.locale!=="ko"&&(la||k!=="onCompositionStart"?k==="onCompositionEnd"&&la&&(T=$b()):(hi=h,tv="value"in hi?hi.value:hi.textContent,la=!0)),L=hh(c,k),0<L.length&&(k=new w_(k,t,null,n,h),f.push({event:k,listeners:L}),T?k.data=T:(T=qb(n),T!==null&&(k.data=T)))),(T=w2?_2(t,n):x2(t,n))&&(c=hh(c,"onBeforeInput"),0<c.length&&(h=new w_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}sS(f,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Nc(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nc(n,i),l!=null&&o.unshift(Lc(n,l,a))):s||(l=Nc(n,i),l!=null&&o.push(Lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(j2,`
`).replace(L2,"")}function nd(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error(_e(425))}function fh(){}var Km=null,Gm=null;function Qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(V2)}:Ym;function V2(t){setTimeout(function(){throw t})}function Bp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pc(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Vr="__reactFiber$"+_l,Fc="__reactProps$"+_l,ks="__reactContainer$"+_l,Xm="__reactEvents$"+_l,U2="__reactListeners$"+_l,B2="__reactHandles$"+_l;function ro(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ks]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D_(t);t!==null;){if(n=t[Vr])return n;t=D_(t)}return e}t=n,n=t.parentNode}return null}function uu(t){return t=t[Vr]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function pf(t){return t[Fc]||null}var Zm=[],ha=-1;function Hi(t){return{current:t}}function Et(t){0>ha||(t.current=Zm[ha],Zm[ha]=null,ha--)}function yt(t,e){ha++,Zm[ha]=t.current,t.current=e}var Pi={},wn=Hi(Pi),Ln=Hi(!1),_o=Pi;function Ya(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fn(t){return t=t.childContextTypes,t!=null}function ph(){Et(Ln),Et(wn)}function j_(t,e,n){if(wn.current!==Pi)throw Error(_e(168));yt(wn,e),yt(Ln,n)}function oS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(_e(108,CP(t)||"Unknown",s));return Tt({},n,r)}function mh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,_o=wn.current,yt(wn,t),yt(Ln,Ln.current),!0}function L_(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=oS(t,e,_o),r.__reactInternalMemoizedMergedChildContext=t,Et(Ln),Et(wn),yt(wn,t)):Et(Ln),yt(Ln,n)}var ds=null,mf=!1,zp=!1;function aS(t){ds===null?ds=[t]:ds.push(t)}function z2(t){mf=!0,aS(t)}function qi(){if(!zp&&ds!==null){zp=!0;var t=0,e=mt;try{var n=ds;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ds=null,mf=!1}catch(s){throw ds!==null&&(ds=ds.slice(t+1)),Pb(Xy,qi),s}finally{mt=e,zp=!1}}return null}var fa=[],pa=0,gh=null,yh=0,ir=[],or=0,xo=null,ms=1,gs="";function eo(t,e){fa[pa++]=yh,fa[pa++]=gh,gh=t,yh=e}function lS(t,e,n){ir[or++]=ms,ir[or++]=gs,ir[or++]=xo,xo=t;var r=ms;t=gs;var s=32-Cr(r)-1;r&=~(1<<s),n+=1;var i=32-Cr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ms=1<<32-Cr(e)+s|n<<s|r,gs=i+t}else ms=1<<i|n<<s|r,gs=t}function ov(t){t.return!==null&&(eo(t,1),lS(t,1,0))}function av(t){for(;t===gh;)gh=fa[--pa],fa[pa]=null,yh=fa[--pa],fa[pa]=null;for(;t===xo;)xo=ir[--or],ir[or]=null,gs=ir[--or],ir[or]=null,ms=ir[--or],ir[or]=null}var Yn=null,Qn=null,bt=!1,xr=null;function cS(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Qn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:ms,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Qn=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eg(t){if(bt){var e=Qn;if(e){var n=e;if(!F_(t,e)){if(Jm(t))throw Error(_e(418));e=vi(n.nextSibling);var r=Yn;e&&F_(t,e)?cS(r,n):(t.flags=t.flags&-4097|2,bt=!1,Yn=t)}}else{if(Jm(t))throw Error(_e(418));t.flags=t.flags&-4097|2,bt=!1,Yn=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function rd(t){if(t!==Yn)return!1;if(!bt)return M_(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qm(t.type,t.memoizedProps)),e&&(e=Qn)){if(Jm(t))throw uS(),Error(_e(418));for(;e;)cS(t,e),e=vi(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=Yn?vi(t.stateNode.nextSibling):null;return!0}function uS(){for(var t=Qn;t;)t=vi(t.nextSibling)}function Xa(){Qn=Yn=null,bt=!1}function lv(t){xr===null?xr=[t]:xr.push(t)}var $2=Vs.ReactCurrentBatchConfig;function Gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V_(t){var e=t._init;return e(t._payload)}function dS(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Ei(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,_,S){return w===null||w.tag!==6?(w=Qp(_,y.mode,S),w.return=y,w):(w=s(w,_),w.return=y,w)}function l(y,w,_,S){var P=_.type;return P===aa?h(y,w,_.props.children,S,_.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ys&&V_(P)===w.type)?(S=s(w,_.props),S.ref=Gl(y,w,_),S.return=y,S):(S=Bd(_.type,_.key,_.props,null,y.mode,S),S.ref=Gl(y,w,_),S.return=y,S)}function c(y,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Yp(_,y.mode,S),w.return=y,w):(w=s(w,_.children||[]),w.return=y,w)}function h(y,w,_,S,P){return w===null||w.tag!==7?(w=yo(_,y.mode,S,P),w.return=y,w):(w=s(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qp(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ku:return _=Bd(w.type,w.key,w.props,null,y.mode,_),_.ref=Gl(y,null,w),_.return=y,_;case oa:return w=Yp(w,y.mode,_),w.return=y,w;case Ys:var S=w._init;return f(y,S(w._payload),_)}if(rc(w)||$l(w))return w=yo(w,y.mode,_,null),w.return=y,w;sd(y,w)}return null}function p(y,w,_,S){var P=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:a(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return _.key===P?l(y,w,_,S):null;case oa:return _.key===P?c(y,w,_,S):null;case Ys:return P=_._init,p(y,w,P(_._payload),S)}if(rc(_)||$l(_))return P!==null?null:h(y,w,_,S,null);sd(y,_)}return null}function g(y,w,_,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,a(w,y,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ku:return y=y.get(S.key===null?_:S.key)||null,l(w,y,S,P);case oa:return y=y.get(S.key===null?_:S.key)||null,c(w,y,S,P);case Ys:var L=S._init;return g(y,w,_,L(S._payload),P)}if(rc(S)||$l(S))return y=y.get(_)||null,h(w,y,S,P,null);sd(w,S)}return null}function x(y,w,_,S){for(var P=null,L=null,T=w,k=w=0,C=null;T!==null&&k<_.length;k++){T.index>k?(C=T,T=null):C=T.sibling;var O=p(y,T,_[k],S);if(O===null){T===null&&(T=C);break}t&&T&&O.alternate===null&&e(y,T),w=i(O,w,k),L===null?P=O:L.sibling=O,L=O,T=C}if(k===_.length)return n(y,T),bt&&eo(y,k),P;if(T===null){for(;k<_.length;k++)T=f(y,_[k],S),T!==null&&(w=i(T,w,k),L===null?P=T:L.sibling=T,L=T);return bt&&eo(y,k),P}for(T=r(y,T);k<_.length;k++)C=g(T,y,k,_[k],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?k:C.key),w=i(C,w,k),L===null?P=C:L.sibling=C,L=C);return t&&T.forEach(function(j){return e(y,j)}),bt&&eo(y,k),P}function m(y,w,_,S){var P=$l(_);if(typeof P!="function")throw Error(_e(150));if(_=P.call(_),_==null)throw Error(_e(151));for(var L=P=null,T=w,k=w=0,C=null,O=_.next();T!==null&&!O.done;k++,O=_.next()){T.index>k?(C=T,T=null):C=T.sibling;var j=p(y,T,O.value,S);if(j===null){T===null&&(T=C);break}t&&T&&j.alternate===null&&e(y,T),w=i(j,w,k),L===null?P=j:L.sibling=j,L=j,T=C}if(O.done)return n(y,T),bt&&eo(y,k),P;if(T===null){for(;!O.done;k++,O=_.next())O=f(y,O.value,S),O!==null&&(w=i(O,w,k),L===null?P=O:L.sibling=O,L=O);return bt&&eo(y,k),P}for(T=r(y,T);!O.done;k++,O=_.next())O=g(T,y,k,O.value,S),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?k:O.key),w=i(O,w,k),L===null?P=O:L.sibling=O,L=O);return t&&T.forEach(function(R){return e(y,R)}),bt&&eo(y,k),P}function v(y,w,_,S){if(typeof _=="object"&&_!==null&&_.type===aa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:e:{for(var P=_.key,L=w;L!==null;){if(L.key===P){if(P=_.type,P===aa){if(L.tag===7){n(y,L.sibling),w=s(L,_.props.children),w.return=y,y=w;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ys&&V_(P)===L.type){n(y,L.sibling),w=s(L,_.props),w.ref=Gl(y,L,_),w.return=y,y=w;break e}n(y,L);break}else e(y,L);L=L.sibling}_.type===aa?(w=yo(_.props.children,y.mode,S,_.key),w.return=y,y=w):(S=Bd(_.type,_.key,_.props,null,y.mode,S),S.ref=Gl(y,w,_),S.return=y,y=S)}return o(y);case oa:e:{for(L=_.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=s(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Yp(_,y.mode,S),w.return=y,y=w}return o(y);case Ys:return L=_._init,v(y,w,L(_._payload),S)}if(rc(_))return x(y,w,_,S);if($l(_))return m(y,w,_,S);sd(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,_),w.return=y,y=w):(n(y,w),w=Qp(_,y.mode,S),w.return=y,y=w),o(y)):n(y,w)}return v}var Za=dS(!0),hS=dS(!1),vh=Hi(null),wh=null,ma=null,cv=null;function uv(){cv=ma=wh=null}function dv(t){var e=vh.current;Et(vh),t._currentValue=e}function tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){wh=t,cv=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(cv!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(wh===null)throw Error(_e(308));ma=t,wh.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var so=null;function hv(t){so===null?so=[t]:so.push(t)}function fS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ns(t,r)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xs=!1;function fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ns(t,n)}return s=r.interleaved,s===null?(e.next=e,hv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ns(t,n)}function jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}function U_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var s=t.updateQueue;Xs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,m=a;switch(p=e,g=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=Tt({},f,p);break e;case 2:Xs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bo|=o,t.lanes=o,t.memoizedState=f}}function B_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_e(191,s));s.call(r)}}}var du={},zr=Hi(du),Mc=Hi(du),Vc=Hi(du);function io(t){if(t===du)throw Error(_e(174));return t}function pv(t,e){switch(yt(Vc,e),yt(Mc,t),yt(zr,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jm(e,t)}Et(zr),yt(zr,e)}function Ja(){Et(zr),Et(Mc),Et(Vc)}function mS(t){io(Vc.current);var e=io(zr.current),n=jm(e,t.type);e!==n&&(yt(Mc,t),yt(zr,n))}function mv(t){Mc.current===t&&(Et(zr),Et(Mc))}var St=Hi(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function gv(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Ld=Vs.ReactCurrentDispatcher,Wp=Vs.ReactCurrentBatchConfig,Eo=0,Ct=null,Wt=null,Xt=null,Eh=!1,yc=!1,Uc=0,W2=0;function hn(){throw Error(_e(321))}function yv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function vv(t,e,n,r,s,i){if(Eo=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?G2:Q2,t=n(r,s),yc){i=0;do{if(yc=!1,Uc=0,25<=i)throw Error(_e(301));i+=1,Xt=Wt=null,e.updateQueue=null,Ld.current=Y2,t=n(r,s)}while(yc)}if(Ld.current=bh,e=Wt!==null&&Wt.next!==null,Eo=0,Xt=Wt=Ct=null,Eh=!1,e)throw Error(_e(300));return t}function wv(){var t=Uc!==0;return Uc=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function dr(){if(Wt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Xt===null?Ct.memoizedState:Xt.next;if(e!==null)Xt=e,Wt=t;else{if(t===null)throw Error(_e(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Xt===null?Ct.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Bc(t,e){return typeof e=="function"?e(t):e}function Hp(t){var e=dr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Eo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ct.lanes|=h,bo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ct.lanes|=i,bo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qp(t){var e=dr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nr(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gS(){}function yS(t,e){var n=Ct,r=dr(),s=e(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,jn=!0),r=r.queue,_v(_S.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,zc(9,wS.bind(null,n,r,s,e),void 0,null),Zt===null)throw Error(_e(349));Eo&30||vS(n,e,s)}return s}function vS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wS(t,e,n,r){e.value=n,e.getSnapshot=r,xS(e)&&ES(t)}function _S(t,e,n){return n(function(){xS(e)&&ES(t)})}function xS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function ES(t){var e=Ns(t,1);e!==null&&Tr(e,t,1,-1)}function z_(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=K2.bind(null,Ct,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bS(){return dr().memoizedState}function Fd(t,e,n,r){var s=Dr();Ct.flags|=t,s.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function gf(t,e,n,r){var s=dr();r=r===void 0?null:r;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,r!==null&&yv(r,o.deps)){s.memoizedState=zc(e,n,i,r);return}}Ct.flags|=t,s.memoizedState=zc(1|e,n,i,r)}function $_(t,e){return Fd(8390656,8,t,e)}function _v(t,e){return gf(2048,8,t,e)}function SS(t,e){return gf(4,2,t,e)}function CS(t,e){return gf(4,4,t,e)}function TS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IS(t,e,n){return n=n!=null?n.concat([t]):null,gf(4,4,TS.bind(null,e,t),n)}function xv(){}function kS(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NS(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AS(t,e,n){return Eo&21?(Nr(n,e)||(n=jb(),Ct.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function H2(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=Wp.transition;Wp.transition={};try{t(!1),e()}finally{mt=n,Wp.transition=r}}function RS(){return dr().memoizedState}function q2(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PS(t))OS(e,n);else if(n=fS(t,e,n,r),n!==null){var s=kn();Tr(n,t,r,s),DS(n,e,r)}}function K2(t,e,n){var r=xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PS(t))OS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(s.next=s,hv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=fS(t,e,s,r),n!==null&&(s=kn(),Tr(n,t,r,s),DS(n,e,r))}}function PS(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function OS(t,e){yc=Eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}var bh={readContext:ur,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},G2={readContext:ur,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:$_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4194308,4,TS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fd(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q2.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:z_,useDebugValue:xv,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=z_(!1),e=t[0];return t=H2.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,s=Dr();if(bt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Zt===null)throw Error(_e(349));Eo&30||vS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$_(_S.bind(null,r,i,t),[t]),r.flags|=2048,zc(9,wS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dr(),e=Zt.identifierPrefix;if(bt){var n=gs,r=ms;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=W2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q2={readContext:ur,useCallback:kS,useContext:ur,useEffect:_v,useImperativeHandle:IS,useInsertionEffect:SS,useLayoutEffect:CS,useMemo:NS,useReducer:Hp,useRef:bS,useState:function(){return Hp(Bc)},useDebugValue:xv,useDeferredValue:function(t){var e=dr();return AS(e,Wt.memoizedState,t)},useTransition:function(){var t=Hp(Bc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:yS,useId:RS,unstable_isNewReconciler:!1},Y2={readContext:ur,useCallback:kS,useContext:ur,useEffect:_v,useImperativeHandle:IS,useInsertionEffect:SS,useLayoutEffect:CS,useMemo:NS,useReducer:qp,useRef:bS,useState:function(){return qp(Bc)},useDebugValue:xv,useDeferredValue:function(t){var e=dr();return Wt===null?e.memoizedState=t:AS(e,Wt.memoizedState,t)},useTransition:function(){var t=qp(Bc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:yS,useId:RS,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ng(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yf={isMounted:function(t){return(t=t._reactInternals)?Fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=xi(t),i=Es(r,s);i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,s),e!==null&&(Tr(e,t,s,r),jd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=xi(t),i=Es(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,s),e!==null&&(Tr(e,t,s,r),jd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=xi(t),s=Es(n,r);s.tag=2,e!=null&&(s.callback=e),e=wi(t,s,r),e!==null&&(Tr(e,t,r,n),jd(e,t,r))}};function W_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(s,i):!0}function jS(t,e,n){var r=!1,s=Pi,i=e.contextType;return typeof i=="object"&&i!==null?i=ur(i):(s=Fn(e)?_o:wn.current,r=e.contextTypes,i=(r=r!=null)?Ya(t,s):Pi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function H_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yf.enqueueReplaceState(e,e.state,null)}function rg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ur(i):(i=Fn(e)?_o:wn.current,s.context=Ya(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ng(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yf.enqueueReplaceState(s,s.state,null),_h(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function el(t,e){try{var n="",r=e;do n+=SP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X2=typeof WeakMap=="function"?WeakMap:Map;function LS(t,e,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ch||(Ch=!0,pg=r),sg(t,e)},n}function FS(t,e,n){n=Es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sg(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dO.bind(null,t,e,n),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Es(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var Z2=Vs.ReactCurrentOwner,jn=!1;function Tn(t,e,n,r){e.child=t===null?hS(e,null,n,r):Za(e,t.child,n,r)}function Q_(t,e,n,r,s){n=n.render;var i=e.ref;return Ca(e,s),r=vv(t,e,n,r,i,s),n=wv(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(bt&&n&&ov(e),e.flags|=1,Tn(t,e,r,s),e.child)}function Y_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Nv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MS(t,e,i,r,s)):(t=Bd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(o,r)&&t.ref===e.ref)return As(t,e,s)}return e.flags|=1,t=Ei(i,r),t.ref=e.ref,t.return=e,e.child=t}function MS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dc(i,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,As(t,e,s)}return ig(t,e,n,r,s)}function VS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(ya,Wn),Wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(ya,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yt(ya,Wn),Wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,yt(ya,Wn),Wn|=r;return Tn(t,e,s,n),e.child}function US(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ig(t,e,n,r,s){var i=Fn(n)?_o:wn.current;return i=Ya(e,i),Ca(e,s),n=vv(t,e,n,r,i,s),r=wv(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(bt&&r&&ov(e),e.flags|=1,Tn(t,e,n,s),e.child)}function X_(t,e,n,r,s){if(Fn(n)){var i=!0;mh(e)}else i=!1;if(Ca(e,s),e.stateNode===null)Md(t,e),jS(e,n,r),rg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ur(c):(c=Fn(n)?_o:wn.current,c=Ya(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H_(e,o,r,c),Xs=!1;var p=e.memoizedState;o.state=p,_h(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ln.current||Xs?(typeof h=="function"&&(ng(e,n,h,r),l=e.memoizedState),(a=Xs||W_(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Fn(n)?_o:wn.current,l=Ya(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&H_(e,o,r,l),Xs=!1,p=e.memoizedState,o.state=p,_h(e,r,o,s);var x=e.memoizedState;a!==f||p!==x||Ln.current||Xs?(typeof g=="function"&&(ng(e,n,g,r),x=e.memoizedState),(c=Xs||W_(e,n,c,r,p,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return og(t,e,n,r,i,s)}function og(t,e,n,r,s,i){US(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&L_(e,n,!1),As(t,e,i);r=e.stateNode,Z2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Za(e,t.child,null,i),e.child=Za(e,null,a,i)):Tn(t,e,a,i),e.memoizedState=r.state,s&&L_(e,n,!0),e.child}function BS(t){var e=t.stateNode;e.pendingContext?j_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j_(t,e.context,!1),pv(t,e.containerInfo)}function Z_(t,e,n,r,s){return Xa(),lv(s),e.flags|=256,Tn(t,e,n,r),e.child}var ag={dehydrated:null,treeContext:null,retryLane:0};function lg(t){return{baseLanes:t,cachePool:null,transitions:null}}function zS(t,e,n){var r=e.pendingProps,s=St.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yt(St,s&1),t===null)return eg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_f(o,r,0,null),t=yo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lg(n),e.memoizedState=ag,t):Ev(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return J2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ei(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ei(a,i):(i=yo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?lg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ag,r}return i=t.child,t=i.sibling,r=Ei(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ev(t,e){return e=_f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function id(t,e,n,r){return r!==null&&lv(r),Za(e,t.child,null,n),t=Ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(_e(422))),id(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_f({mode:"visible",children:r.children},s,0,null),i=yo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Za(e,t.child,null,o),e.child.memoizedState=lg(o),e.memoizedState=ag,i);if(!(e.mode&1))return id(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(_e(419)),r=Kp(i,r,void 0),id(t,e,o,r)}if(a=(o&t.childLanes)!==0,jn||a){if(r=Zt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ns(t,s),Tr(r,t,s,-1))}return kv(),r=Kp(Error(_e(421))),id(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qn=vi(s.nextSibling),Yn=e,bt=!0,xr=null,t!==null&&(ir[or++]=ms,ir[or++]=gs,ir[or++]=xo,ms=t.id,gs=t.overflow,xo=e),e=Ev(e,r.children),e.flags|=4096,e)}function J_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tg(t.return,e,n)}function Gp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $S(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J_(t,n,e);else if(t.tag===19)J_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(St,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gp(e,!0,n,null,i);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eO(t,e,n){switch(e.tag){case 3:BS(e),Xa();break;case 5:mS(e);break;case 1:Fn(e.type)&&mh(e);break;case 4:pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yt(vh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?zS(t,e,n):(yt(St,St.current&1),t=As(t,e,n),t!==null?t.sibling:null);yt(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $S(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,VS(t,e,n)}return As(t,e,n)}var WS,cg,HS,qS;WS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cg=function(){};HS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,io(zr.current);var i=null;switch(n){case"input":s=Rm(t,s),r=Rm(t,r),i=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":s=Dm(t,s),r=Dm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fh)}Lm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ic.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tO(t,e,n){var r=e.pendingProps;switch(av(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Fn(e.type)&&ph(),fn(e),null;case 3:return r=e.stateNode,Ja(),Et(Ln),Et(wn),gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(yg(xr),xr=null))),cg(t,e),fn(e),null;case 5:mv(e);var s=io(Vc.current);if(n=e.type,t!==null&&e.stateNode!=null)HS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return fn(e),null}if(t=io(zr.current),rd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vr]=e,r[Fc]=i,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(s=0;s<ic.length;s++)_t(ic[s],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":l_(r,i),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_t("invalid",r);break;case"textarea":u_(r,i),_t("invalid",r)}Lm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",""+a]):Ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":Gu(r),c_(r,i,!0);break;case"textarea":Gu(r),d_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_b(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vr]=e,t[Fc]=r,WS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fm(n,r),n){case"dialog":_t("cancel",t),_t("close",t),s=r;break;case"iframe":case"object":case"embed":_t("load",t),s=r;break;case"video":case"audio":for(s=0;s<ic.length;s++)_t(ic[s],t);s=r;break;case"source":_t("error",t),s=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=r;break;case"details":_t("toggle",t),s=r;break;case"input":l_(t,r),s=Rm(t,r),_t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":u_(t,r),s=Dm(t,r),_t("invalid",t);break;default:s=r}Lm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?bb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xb(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ic.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_t("scroll",t):l!=null&&qy(t,i,l,o))}switch(n){case"input":Gu(t),c_(t,r,!1);break;case"textarea":Gu(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xa(t,!!r.multiple,i,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)qS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=io(Vc.current),io(zr.current),rd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(i=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return fn(e),null;case 13:if(Et(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&Qn!==null&&e.mode&1&&!(e.flags&128))uS(),Xa(),e.flags|=98560,i=!1;else if(i=rd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(_e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Vr]=e}else Xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),i=!1}else xr!==null&&(yg(xr),xr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?qt===0&&(qt=3):kv())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Ja(),cg(t,e),t===null&&jc(e.stateNode.containerInfo),fn(e),null;case 10:return dv(e.type._context),fn(e),null;case 17:return Fn(e.type)&&ph(),fn(e),null;case 19:if(Et(St),i=e.memoizedState,i===null)return fn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ql(i,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,Ql(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(St,St.current&1|2),e.child}t=t.sibling}i.tail!==null&&jt()>tl&&(e.flags|=128,r=!0,Ql(i,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return fn(e),null}else 2*jt()-i.renderingStartTime>tl&&n!==1073741824&&(e.flags|=128,r=!0,Ql(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jt(),e.sibling=null,n=St.current,yt(St,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return Iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function nO(t,e){switch(av(e),e.tag){case 1:return Fn(e.type)&&ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ja(),Et(Ln),Et(wn),gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mv(e),null;case 13:if(Et(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(St),null;case 4:return Ja(),null;case 10:return dv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var od=!1,yn=!1,rO=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function ug(t,e,n){try{n()}catch(r){At(t,e,r)}}var ex=!1;function sO(t,e){if(Km=uh,t=Xb(),iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gm={focusedElem:t,selectionRange:n},uh=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,v=x.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:vr(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(S){At(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return x=ex,ex=!1,x}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ug(e,n,i)}s=s.next}while(s!==r)}}function vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KS(t){var e=t.alternate;e!==null&&(t.alternate=null,KS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[Fc],delete e[Xm],delete e[U2],delete e[B2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GS(t){return t.tag===5||t.tag===3||t.tag===4}function tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fh));else if(r!==4&&(t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}var tn=null,_r=!1;function $s(t,e,n){for(n=n.child;n!==null;)QS(t,e,n),n=n.sibling}function QS(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:yn||ga(n,e);case 6:var r=tn,s=_r;tn=null,$s(t,e,n),tn=r,_r=s,tn!==null&&(_r?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(_r?(t=tn,n=n.stateNode,t.nodeType===8?Bp(t.parentNode,n):t.nodeType===1&&Bp(t,n),Pc(t)):Bp(tn,n.stateNode));break;case 4:r=tn,s=_r,tn=n.stateNode.containerInfo,_r=!0,$s(t,e,n),tn=r,_r=s;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ug(n,e,o),s=s.next}while(s!==r)}$s(t,e,n);break;case 1:if(!yn&&(ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}$s(t,e,n);break;case 21:$s(t,e,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,$s(t,e,n),yn=r):$s(t,e,n);break;default:$s(t,e,n)}}function nx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rO),e.forEach(function(r){var s=fO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,_r=!1;break e;case 3:tn=a.stateNode.containerInfo,_r=!0;break e;case 4:tn=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(tn===null)throw Error(_e(160));QS(i,o,s),tn=null,_r=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){At(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YS(e,t),e=e.sibling}function YS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Or(t),r&4){try{vc(3,t,t.return),vf(3,t)}catch(m){At(t,t.return,m)}try{vc(5,t,t.return)}catch(m){At(t,t.return,m)}}break;case 1:mr(e,t),Or(t),r&512&&n!==null&&ga(n,n.return);break;case 5:if(mr(e,t),Or(t),r&512&&n!==null&&ga(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(m){At(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vb(s,i),Fm(a,o);var c=Fm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?bb(s,f):h==="dangerouslySetInnerHTML"?xb(s,f):h==="children"?kc(s,f):qy(s,h,f,c)}switch(a){case"input":Pm(s,i);break;case"textarea":wb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xa(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?xa(s,!!i.multiple,i.defaultValue,!0):xa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fc]=i}catch(m){At(t,t.return,m)}}break;case 6:if(mr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(_e(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){At(t,t.return,m)}}break;case 3:if(mr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(m){At(t,t.return,m)}break;case 4:mr(e,t),Or(t);break;case 13:mr(e,t),Or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cv=jt())),r&4&&nx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(c=yn)||h,mr(e,t),yn=c):mr(e,t),Or(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Ne=t,h=t.child;h!==null;){for(f=Ne=h;Ne!==null;){switch(p=Ne,g=p.child,p.tag){case 0:case 11:case 14:case 15:vc(4,p,p.return);break;case 1:ga(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){At(r,n,m)}}break;case 5:ga(p,p.return);break;case 22:if(p.memoizedState!==null){sx(f);continue}}g!==null?(g.return=p,Ne=g):sx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Eb("display",o))}catch(m){At(t,t.return,m)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){At(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mr(e,t),Or(t),r&4&&nx(t);break;case 21:break;default:mr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GS(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=tx(t);fg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tx(t);hg(t,a,o);break;default:throw Error(_e(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iO(t,e,n){Ne=t,XS(t)}function XS(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var s=Ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||od;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yn;a=od;var c=yn;if(od=o,(yn=l)&&!c)for(Ne=s;Ne!==null;)o=Ne,l=o.child,o.tag===22&&o.memoizedState!==null?ix(s):l!==null?(l.return=o,Ne=l):ix(s);for(;i!==null;)Ne=i,XS(i),i=i.sibling;Ne=s,od=a,yn=c}rx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ne=i):rx(t)}}function rx(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||vf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&B_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}yn||e.flags&512&&dg(e)}catch(p){At(e,e.return,p)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function sx(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function ix(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vf(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){At(e,s,l)}}var i=e.return;try{dg(e)}catch(l){At(e,i,l)}break;case 5:var o=e.return;try{dg(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){Ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ne=a;break}Ne=e.return}}var oO=Math.ceil,Sh=Vs.ReactCurrentDispatcher,bv=Vs.ReactCurrentOwner,lr=Vs.ReactCurrentBatchConfig,it=0,Zt=null,Bt=null,sn=0,Wn=0,ya=Hi(0),qt=0,$c=null,bo=0,wf=0,Sv=0,wc=null,Dn=null,Cv=0,tl=1/0,ls=null,Ch=!1,pg=null,_i=null,ad=!1,fi=null,Th=0,_c=0,mg=null,Vd=-1,Ud=0;function kn(){return it&6?jt():Vd!==-1?Vd:Vd=jt()}function xi(t){return t.mode&1?it&2&&sn!==0?sn&-sn:$2.transition!==null?(Ud===0&&(Ud=jb()),Ud):(t=mt,t!==0||(t=window.event,t=t===void 0?16:zb(t.type)),t):1}function Tr(t,e,n,r){if(50<_c)throw _c=0,mg=null,Error(_e(185));lu(t,n,r),(!(it&2)||t!==Zt)&&(t===Zt&&(!(it&2)&&(wf|=n),qt===4&&Js(t,sn)),Mn(t,r),n===1&&it===0&&!(e.mode&1)&&(tl=jt()+500,mf&&qi()))}function Mn(t,e){var n=t.callbackNode;$P(t,e);var r=ch(t,t===Zt?sn:0);if(r===0)n!==null&&p_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p_(n),e===1)t.tag===0?z2(ox.bind(null,t)):aS(ox.bind(null,t)),M2(function(){!(it&6)&&qi()}),n=null;else{switch(Lb(r)){case 1:n=Xy;break;case 4:n=Ob;break;case 16:n=lh;break;case 536870912:n=Db;break;default:n=lh}n=iC(n,ZS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZS(t,e){if(Vd=-1,Ud=0,it&6)throw Error(_e(327));var n=t.callbackNode;if(Ta()&&t.callbackNode!==n)return null;var r=ch(t,t===Zt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ih(t,r);else{e=r;var s=it;it|=2;var i=eC();(Zt!==t||sn!==e)&&(ls=null,tl=jt()+500,go(t,e));do try{cO();break}catch(a){JS(t,a)}while(!0);uv(),Sh.current=i,it=s,Bt!==null?e=0:(Zt=null,sn=0,e=qt)}if(e!==0){if(e===2&&(s=zm(t),s!==0&&(r=s,e=gg(t,s))),e===1)throw n=$c,go(t,0),Js(t,r),Mn(t,jt()),n;if(e===6)Js(t,r);else{if(s=t.current.alternate,!(r&30)&&!aO(s)&&(e=Ih(t,r),e===2&&(i=zm(t),i!==0&&(r=i,e=gg(t,i))),e===1))throw n=$c,go(t,0),Js(t,r),Mn(t,jt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:to(t,Dn,ls);break;case 3:if(Js(t,r),(r&130023424)===r&&(e=Cv+500-jt(),10<e)){if(ch(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ym(to.bind(null,t,Dn,ls),e);break}to(t,Dn,ls);break;case 4:if(Js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Cr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oO(r/1960))-r,10<r){t.timeoutHandle=Ym(to.bind(null,t,Dn,ls),r);break}to(t,Dn,ls);break;case 5:to(t,Dn,ls);break;default:throw Error(_e(329))}}}return Mn(t,jt()),t.callbackNode===n?ZS.bind(null,t):null}function gg(t,e){var n=wc;return t.current.memoizedState.isDehydrated&&(go(t,e).flags|=256),t=Ih(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&yg(e)),t}function yg(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function aO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~Sv,e&=~wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function ox(t){if(it&6)throw Error(_e(327));Ta();var e=ch(t,0);if(!(e&1))return Mn(t,jt()),null;var n=Ih(t,e);if(t.tag!==0&&n===2){var r=zm(t);r!==0&&(e=r,n=gg(t,r))}if(n===1)throw n=$c,go(t,0),Js(t,e),Mn(t,jt()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,Dn,ls),Mn(t,jt()),null}function Tv(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(tl=jt()+500,mf&&qi())}}function So(t){fi!==null&&fi.tag===0&&!(it&6)&&Ta();var e=it;it|=1;var n=lr.transition,r=mt;try{if(lr.transition=null,mt=1,t)return t()}finally{mt=r,lr.transition=n,it=e,!(it&6)&&qi()}}function Iv(){Wn=ya.current,Et(ya)}function go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F2(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ph();break;case 3:Ja(),Et(Ln),Et(wn),gv();break;case 5:mv(r);break;case 4:Ja();break;case 13:Et(St);break;case 19:Et(St);break;case 10:dv(r.type._context);break;case 22:case 23:Iv()}n=n.return}if(Zt=t,Bt=t=Ei(t.current,null),sn=Wn=e,qt=0,$c=null,Sv=wf=bo=0,Dn=wc=null,so!==null){for(e=0;e<so.length;e++)if(n=so[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}so=null}return t}function JS(t,e){do{var n=Bt;try{if(uv(),Ld.current=bh,Eh){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eh=!1}if(Eo=0,Xt=Wt=Ct=null,yc=!1,Uc=0,bv.current=null,n===null||n.return===null){qt=1,$c=e,Bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=K_(o);if(g!==null){g.flags&=-257,G_(g,o,a,i,e),g.mode&1&&q_(i,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var m=new Set;m.add(l),e.updateQueue=m}else x.add(l);break e}else{if(!(e&1)){q_(i,c,e),kv();break e}l=Error(_e(426))}}else if(bt&&a.mode&1){var v=K_(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),G_(v,o,a,i,e),lv(el(l,a));break e}}i=l=el(l,a),qt!==4&&(qt=2),wc===null?wc=[i]:wc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=LS(i,l,e);U_(i,y);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_i===null||!_i.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=FS(i,a,e);U_(i,S);break e}}i=i.return}while(i!==null)}nC(n)}catch(P){e=P,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function eC(){var t=Sh.current;return Sh.current=bh,t===null?bh:t}function kv(){(qt===0||qt===3||qt===2)&&(qt=4),Zt===null||!(bo&268435455)&&!(wf&268435455)||Js(Zt,sn)}function Ih(t,e){var n=it;it|=2;var r=eC();(Zt!==t||sn!==e)&&(ls=null,go(t,e));do try{lO();break}catch(s){JS(t,s)}while(!0);if(uv(),it=n,Sh.current=r,Bt!==null)throw Error(_e(261));return Zt=null,sn=0,qt}function lO(){for(;Bt!==null;)tC(Bt)}function cO(){for(;Bt!==null&&!DP();)tC(Bt)}function tC(t){var e=sC(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?nC(t):Bt=e,bv.current=null}function nC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nO(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Bt=null;return}}else if(n=tO(n,e,Wn),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);qt===0&&(qt=5)}function to(t,e,n){var r=mt,s=lr.transition;try{lr.transition=null,mt=1,uO(t,e,n,r)}finally{lr.transition=s,mt=r}return null}function uO(t,e,n,r){do Ta();while(fi!==null);if(it&6)throw Error(_e(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WP(t,i),t===Zt&&(Bt=Zt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,iC(lh,function(){return Ta(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lr.transition,lr.transition=null;var o=mt;mt=1;var a=it;it|=4,bv.current=null,sO(t,n),YS(n,t),A2(Gm),uh=!!Km,Gm=Km=null,t.current=n,iO(n),jP(),it=a,mt=o,lr.transition=i}else t.current=n;if(ad&&(ad=!1,fi=t,Th=s),i=t.pendingLanes,i===0&&(_i=null),MP(n.stateNode),Mn(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ch)throw Ch=!1,t=pg,pg=null,t;return Th&1&&t.tag!==0&&Ta(),i=t.pendingLanes,i&1?t===mg?_c++:(_c=0,mg=t):_c=0,qi(),null}function Ta(){if(fi!==null){var t=Lb(Th),e=lr.transition,n=mt;try{if(lr.transition=null,mt=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,Th=0,it&6)throw Error(_e(331));var s=it;for(it|=4,Ne=t.current;Ne!==null;){var i=Ne,o=i.child;if(Ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ne=c;Ne!==null;){var h=Ne;switch(h.tag){case 0:case 11:case 15:vc(8,h,i)}var f=h.child;if(f!==null)f.return=h,Ne=f;else for(;Ne!==null;){h=Ne;var p=h.sibling,g=h.return;if(KS(h),h===c){Ne=null;break}if(p!==null){p.return=g,Ne=p;break}Ne=g}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ne=o;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ne=y;break e}Ne=i.return}}var w=t.current;for(Ne=w;Ne!==null;){o=Ne;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ne=_;else e:for(o=w;Ne!==null;){if(a=Ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vf(9,a)}}catch(P){At(a,a.return,P)}if(a===o){Ne=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ne=S;break e}Ne=a.return}}if(it=s,qi(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(uf,t)}catch{}r=!0}return r}finally{mt=n,lr.transition=e}}return!1}function ax(t,e,n){e=el(n,e),e=LS(t,e,1),t=wi(t,e,1),e=kn(),t!==null&&(lu(t,1,e),Mn(t,e))}function At(t,e,n){if(t.tag===3)ax(t,t,n);else for(;e!==null;){if(e.tag===3){ax(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=el(n,t),t=FS(e,t,1),e=wi(e,t,1),t=kn(),e!==null&&(lu(e,1,t),Mn(e,t));break}}e=e.return}}function dO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(sn&n)===n&&(qt===4||qt===3&&(sn&130023424)===sn&&500>jt()-Cv?go(t,0):Sv|=n),Mn(t,e)}function rC(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=kn();t=Ns(t,e),t!==null&&(lu(t,e,n),Mn(t,n))}function hO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rC(t,n)}function fO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),rC(t,n)}var sC;sC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,eO(t,e,n);jn=!!(t.flags&131072)}else jn=!1,bt&&e.flags&1048576&&lS(e,yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var s=Ya(e,wn.current);Ca(e,n),s=vv(null,e,r,t,s,n);var i=wv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(i=!0,mh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fv(e),s.updater=yf,e.stateNode=s,s._reactInternals=e,rg(e,r,t,n),e=og(null,e,r,!0,i,n)):(e.tag=0,bt&&i&&ov(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mO(r),t=vr(r,t),s){case 0:e=ig(null,e,r,t,n);break e;case 1:e=X_(null,e,r,t,n);break e;case 11:e=Q_(null,e,r,t,n);break e;case 14:e=Y_(null,e,r,vr(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),ig(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),X_(t,e,r,s,n);case 3:e:{if(BS(e),t===null)throw Error(_e(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pS(t,e),_h(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=el(Error(_e(423)),e),e=Z_(t,e,r,n,s);break e}else if(r!==s){s=el(Error(_e(424)),e),e=Z_(t,e,r,n,s);break e}else for(Qn=vi(e.stateNode.containerInfo.firstChild),Yn=e,bt=!0,xr=null,n=hS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===s){e=As(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return mS(e),t===null&&eg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qm(r,s)?o=null:i!==null&&Qm(r,i)&&(e.flags|=32),US(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&eg(e),null;case 13:return zS(t,e,n);case 4:return pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Za(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),Q_(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,yt(vh,r._currentValue),r._currentValue=o,i!==null)if(Nr(i.value,o)){if(i.children===s.children&&!Ln.current){e=As(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Es(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ca(e,n),s=ur(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=vr(r,e.pendingProps),s=vr(r.type,s),Y_(t,e,r,s,n);case 15:return MS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),Md(t,e),e.tag=1,Fn(r)?(t=!0,mh(e)):t=!1,Ca(e,n),jS(e,r,s),rg(e,r,s,n),og(null,e,r,!0,t,n);case 19:return $S(t,e,n);case 22:return VS(t,e,n)}throw Error(_e(156,e.tag))};function iC(t,e){return Pb(t,e)}function pO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new pO(t,e,n,r)}function Nv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mO(t){if(typeof t=="function")return Nv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gy)return 11;if(t===Qy)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Nv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case aa:return yo(n.children,s,i,e);case Ky:o=8,s|=8;break;case Im:return t=ar(12,n,e,s|2),t.elementType=Im,t.lanes=i,t;case km:return t=ar(13,n,e,s),t.elementType=km,t.lanes=i,t;case Nm:return t=ar(19,n,e,s),t.elementType=Nm,t.lanes=i,t;case mb:return _f(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fb:o=10;break e;case pb:o=9;break e;case Gy:o=11;break e;case Qy:o=14;break e;case Ys:o=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=ar(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yo(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function _f(t,e,n,r){return t=ar(22,t,r,e),t.elementType=mb,t.lanes=n,t.stateNode={isHidden:!1},t}function Qp(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function Yp(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Av(t,e,n,r,s,i,o,a,l){return t=new gO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(i),t}function yO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return Pi;t=t._reactInternals;e:{if(Fo(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Fn(n))return oS(t,n,e)}return e}function aC(t,e,n,r,s,i,o,a,l){return t=Av(n,r,!0,t,s,i,o,a,l),t.context=oC(null),n=t.current,r=kn(),s=xi(n),i=Es(r,s),i.callback=e??null,wi(n,i,s),t.current.lanes=s,lu(t,s,r),Mn(t,r),t}function xf(t,e,n,r){var s=e.current,i=kn(),o=xi(s);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=Es(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(s,e,o),t!==null&&(Tr(t,s,o,i),jd(t,s,o)),o}function kh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rv(t,e){lx(t,e),(t=t.alternate)&&lx(t,e)}function vO(){return null}var lC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}Ef.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));xf(t,e,null,null)};Ef.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){xf(null,t,null,null)}),e[ks]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zs.length&&e!==0&&e<Zs[n].priority;n++);Zs.splice(n,0,t),n===0&&Bb(t)}};function Ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cx(){}function wO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=kh(o);i.call(c)}}var o=aC(e,r,t,0,null,!1,!1,"",cx);return t._reactRootContainer=o,t[ks]=o.current,jc(t.nodeType===8?t.parentNode:t),So(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=kh(l);a.call(c)}}var l=Av(t,0,!1,null,null,!1,!1,"",cx);return t._reactRootContainer=l,t[ks]=l.current,jc(t.nodeType===8?t.parentNode:t),So(function(){xf(e,l,n,r)}),l}function Sf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=kh(o);a.call(l)}}xf(e,o,t,s)}else o=wO(n,e,t,s,r);return kh(o)}Fb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sc(e.pendingLanes);n!==0&&(Zy(e,n|1),Mn(e,jt()),!(it&6)&&(tl=jt()+500,qi()))}break;case 13:So(function(){var r=Ns(t,1);if(r!==null){var s=kn();Tr(r,t,1,s)}}),Rv(t,1)}};Jy=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var n=kn();Tr(e,t,134217728,n)}Rv(t,134217728)}};Mb=function(t){if(t.tag===13){var e=xi(t),n=Ns(t,e);if(n!==null){var r=kn();Tr(n,t,e,r)}Rv(t,e)}};Vb=function(){return mt};Ub=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};Vm=function(t,e,n){switch(e){case"input":if(Pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pf(r);if(!s)throw Error(_e(90));yb(r),Pm(r,s)}}}break;case"textarea":wb(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};Tb=Tv;Ib=So;var _O={usingClientEntryPoint:!1,Events:[uu,da,pf,Sb,Cb,Tv]},Yl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xO={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ab(t),t===null?null:t.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||vO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{uf=ld.inject(xO),Br=ld}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_O;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(e))throw Error(_e(200));return yO(t,e,null,n)};er.createRoot=function(t,e){if(!Ov(t))throw Error(_e(299));var n=!1,r="",s=lC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Av(t,1,!1,null,null,n,!1,r,s),t[ks]=e.current,jc(t.nodeType===8?t.parentNode:t),new Pv(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=Ab(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return So(t)};er.hydrate=function(t,e,n){if(!bf(e))throw Error(_e(200));return Sf(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!Ov(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aC(e,null,t,1,n??null,s,!1,i,o),t[ks]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ef(e)};er.render=function(t,e,n){if(!bf(e))throw Error(_e(200));return Sf(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!bf(t))throw Error(_e(40));return t._reactRootContainer?(So(function(){Sf(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};er.unstable_batchedUpdates=Tv;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bf(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Sf(t,e,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function cC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cC)}catch(t){console.error(t)}}cC(),cb.exports=er;var Ki=cb.exports;const uC=Vy(Ki);var dC,ux=Ki;dC=ux.createRoot,ux.hydrateRoot;var xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Co=typeof window>"u"||"Deno"in globalThis;function sr(){}function EO(t,e){return typeof t=="function"?t(e):t}function vg(t){return typeof t=="number"&&t>=0&&t!==1/0}function hC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ia(t,e){return typeof t=="function"?t(e):t}function Er(t,e){return typeof t=="function"?t(e):t}function dx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Dv(o,e.options))return!1}else if(!Wc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function hx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(To(e.options.mutationKey)!==To(i))return!1}else if(!Wc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Dv(t,e){return((e==null?void 0:e.queryKeyHashFn)||To)(t)}function To(t){return JSON.stringify(t,(e,n)=>wg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Wc(t[n],e[n])):!1}function fC(t,e){if(t===e)return t;const n=fx(t)&&fx(e);if(n||wg(t)&&wg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=fC(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Nh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wg(t){if(!px(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!px(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function px(t){return Object.prototype.toString.call(t)==="[object Object]"}function bO(t){return new Promise(e=>{setTimeout(e,t)})}function _g(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fC(t,e):e}function SO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jv=Symbol();function pC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===jv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var lo,ri,La,z1,TO=(z1=class extends xl{constructor(){super();je(this,lo);je(this,ri);je(this,La);Ie(this,La,e=>{if(!Co&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,ri)||this.setEventListener(H(this,La))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,ri))==null||e.call(this),Ie(this,ri,void 0))}setEventListener(e){var n;Ie(this,La,e),(n=H(this,ri))==null||n.call(this),Ie(this,ri,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,lo)!==e&&(Ie(this,lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,lo)=="boolean"?H(this,lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},lo=new WeakMap,ri=new WeakMap,La=new WeakMap,z1),Lv=new TO,Fa,si,Ma,$1,IO=($1=class extends xl{constructor(){super();je(this,Fa,!0);je(this,si);je(this,Ma);Ie(this,Ma,e=>{if(!Co&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,si)||this.setEventListener(H(this,Ma))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,si))==null||e.call(this),Ie(this,si,void 0))}setEventListener(e){var n;Ie(this,Ma,e),(n=H(this,si))==null||n.call(this),Ie(this,si,e(this.setOnline.bind(this)))}setOnline(e){H(this,Fa)!==e&&(Ie(this,Fa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,Fa)}},Fa=new WeakMap,si=new WeakMap,Ma=new WeakMap,$1),Ah=new IO;function xg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kO(t){return Math.min(1e3*2**t,3e4)}function mC(t){return(t??"online")==="online"?Ah.isOnline():!0}var gC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xp(t){return t instanceof gC}function yC(t){let e=!1,n=0,r=!1,s;const i=xg(),o=m=>{var v;r||(p(new gC(m)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Lv.isFocused()&&(t.networkMode==="always"||Ah.isOnline())&&t.canRun(),h=()=>mC(t.networkMode)&&t.canRun(),f=m=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,m),s==null||s(),i.resolve(m))},p=m=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,m),s==null||s(),i.reject(m))},g=()=>new Promise(m=>{var v;s=y=>{(r||c())&&m(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),x=()=>{if(r)return;let m;const v=n===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var L;if(r)return;const w=t.retry??(Co?0:3),_=t.retryDelay??kO,S=typeof _=="function"?_(n,y):_,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(e||!P){p(y);return}n++,(L=t.onFail)==null||L.call(t,n,y),bO(S).then(()=>c()?void 0:g()).then(()=>{e?p(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?x():g().then(x),i)}}function NO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ht=NO(),co,W1,vC=(W1=class{constructor(){je(this,co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vg(this.gcTime)&&Ie(this,co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Co?1/0:5*60*1e3))}clearGcTimeout(){H(this,co)&&(clearTimeout(H(this,co)),Ie(this,co,void 0))}},co=new WeakMap,W1),Va,Ua,rr,mn,ru,uo,wr,is,H1,AO=(H1=class extends vC{constructor(n){super();je(this,wr);je(this,Va);je(this,Ua);je(this,rr);je(this,mn);je(this,ru);je(this,uo);Ie(this,uo,!1),Ie(this,ru,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ie(this,rr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ie(this,Va,RO(this.options)),this.state=n.state??H(this,Va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,mn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,ru),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,rr).remove(this)}setData(n,r){const s=_g(this.state.data,n,this.options);return qe(this,wr,is).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){qe(this,wr,is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,mn))==null?void 0:s.promise;return(i=H(this,mn))==null||i.cancel(n),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Va))}isActive(){return this.observers.some(n=>Er(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!hC(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,mn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,rr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,mn)&&(H(this,uo)?H(this,mn).cancel({revert:!0}):H(this,mn).cancelRetry()),this.scheduleGc()),H(this,rr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,wr,is).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,mn))return H(this,mn).continueRetry(),H(this,mn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ie(this,uo,!0),s.signal)})},o=()=>{const p=pC(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Ie(this,uo,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ie(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&qe(this,wr,is).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,x,m,v;Xp(p)&&p.silent||qe(this,wr,is).call(this,{type:"error",error:p}),Xp(p)||((x=(g=H(this,rr).config).onError)==null||x.call(g,p,this),(v=(m=H(this,rr).config).onSettled)==null||v.call(m,this.state.data,p,this)),this.scheduleGc()};return Ie(this,mn,yC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,x,m,v;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){l(y);return}(x=(g=H(this,rr).config).onSuccess)==null||x.call(g,p,this),(v=(m=H(this,rr).config).onSettled)==null||v.call(m,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{qe(this,wr,is).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{qe(this,wr,is).call(this,{type:"pause"})},onContinue:()=>{qe(this,wr,is).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,mn).start()}},Va=new WeakMap,Ua=new WeakMap,rr=new WeakMap,mn=new WeakMap,ru=new WeakMap,uo=new WeakMap,wr=new WeakSet,is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...wC(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Xp(i)&&i.revert&&H(this,Ua)?{...H(this,Ua),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,rr).notify({query:this,type:"updated",action:n})})},H1);function wC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var jr,q1,PO=(q1=class extends xl{constructor(e={}){super();je(this,jr);this.config=e,Ie(this,jr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Dv(s,n);let o=this.get(i);return o||(o=new AO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,jr).has(e.queryHash)||(H(this,jr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,jr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,jr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,jr).get(e)}getAll(){return[...H(this,jr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dx(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jr=new WeakMap,q1),Lr,Sn,ho,Fr,Gs,K1,OO=(K1=class extends vC{constructor(n){super();je(this,Fr);je(this,Lr);je(this,Sn);je(this,ho);this.mutationId=n.mutationId,Ie(this,Sn,n.mutationCache),Ie(this,Lr,[]),this.state=n.state||_C(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,Lr).includes(n)||(H(this,Lr).push(n),this.clearGcTimeout(),H(this,Sn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ie(this,Lr,H(this,Lr).filter(r=>r!==n)),this.scheduleGc(),H(this,Sn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():H(this,Sn).remove(this))}continue(){var n;return((n=H(this,ho))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,f,p,g,x,m,v,y,w,_,S,P,L,T,k;Ie(this,ho,yC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{qe(this,Fr,Gs).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{qe(this,Fr,Gs).call(this,{type:"pause"})},onContinue:()=>{qe(this,Fr,Gs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Sn).canRun(this)}));const r=this.state.status==="pending",s=!H(this,ho).canStart();try{if(!r){qe(this,Fr,Gs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Sn).config).onMutate)==null?void 0:o.call(i,n,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));O!==this.state.context&&qe(this,Fr,Gs).call(this,{type:"pending",context:O,variables:n,isPaused:s})}const C=await H(this,ho).start();return await((h=(c=H(this,Sn).config).onSuccess)==null?void 0:h.call(c,C,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,n,this.state.context)),await((x=(g=H(this,Sn).config).onSettled)==null?void 0:x.call(g,C,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,C,null,n,this.state.context)),qe(this,Fr,Gs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(y=H(this,Sn).config).onError)==null?void 0:w.call(y,C,n,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,C,n,this.state.context)),await((L=(P=H(this,Sn).config).onSettled)==null?void 0:L.call(P,void 0,C,this.state.variables,this.state.context,this)),await((k=(T=this.options).onSettled)==null?void 0:k.call(T,void 0,C,n,this.state.context)),C}finally{qe(this,Fr,Gs).call(this,{type:"error",error:C})}}finally{H(this,Sn).runNext(this)}}},Lr=new WeakMap,Sn=new WeakMap,ho=new WeakMap,Fr=new WeakSet,Gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{H(this,Lr).forEach(s=>{s.onMutationUpdate(n)}),H(this,Sn).notify({mutation:this,type:"updated",action:n})})},K1);function _C(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,su,G1,DO=(G1=class extends xl{constructor(e={}){super();je(this,$n);je(this,su);this.config=e,Ie(this,$n,new Map),Ie(this,su,Date.now())}build(e,n,r){const s=new OO({mutationCache:this,mutationId:++Wu(this,su)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=cd(e),r=H(this,$n).get(n)??[];r.push(e),H(this,$n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=cd(e);if(H(this,$n).has(n)){const s=(r=H(this,$n).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,$n).delete(n):H(this,$n).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,$n).get(cd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,$n).get(cd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,$n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hx(n,r))}findAll(e={}){return this.getAll().filter(n=>hx(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},$n=new WeakMap,su=new WeakMap,G1);function cd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mx(t){return{onFetch:(e,n)=>{var h,f,p,g,x;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=pC(e.options,e.fetchOptions),w=async(_,S,P)=>{if(m)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const L={queryKey:e.queryKey,pageParam:S,direction:P?"backward":"forward",meta:e.options.meta};v(L);const T=await y(L),{maxPages:k}=e.options,C=P?CO:SO;return{pages:C(_.pages,T,k),pageParams:C(_.pageParams,S,k)}};if(s&&i.length){const _=s==="backward",S=_?jO:gx,P={pages:i,pageParams:o},L=S(r,P);a=await w(P,L,_)}else{const _=t??i.length;do{const S=l===0?o[0]??r.initialPageParam:gx(r,a);if(l>0&&S==null)break;a=await w(a,S),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function jO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nt,ii,oi,Ba,za,ai,$a,Wa,Q1,LO=(Q1=class{constructor(t={}){je(this,Nt);je(this,ii);je(this,oi);je(this,Ba);je(this,za);je(this,ai);je(this,$a);je(this,Wa);Ie(this,Nt,t.queryCache||new PO),Ie(this,ii,t.mutationCache||new DO),Ie(this,oi,t.defaultOptions||{}),Ie(this,Ba,new Map),Ie(this,za,new Map),Ie(this,ai,0)}mount(){Wu(this,ai)._++,H(this,ai)===1&&(Ie(this,$a,Lv.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,Nt).onFocus())})),Ie(this,Wa,Ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,Nt).onOnline())})))}unmount(){var t,e;Wu(this,ai)._--,H(this,ai)===0&&((t=H(this,$a))==null||t.call(this),Ie(this,$a,void 0),(e=H(this,Wa))==null||e.call(this),Ie(this,Wa,void 0))}isFetching(t){return H(this,Nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,Nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,Nt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ia(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,Nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,Nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=EO(e,i);if(o!==void 0)return H(this,Nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>H(this,Nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,Nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,Nt);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,Nt),r={type:"active",...t};return Ht.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>H(this,Nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t,e={}){return Ht.batch(()=>{if(H(this,Nt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const n={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>H(this,Nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,Nt).build(this,e);return n.isStaleByTime(Ia(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=mx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=mx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ah.isOnline()?H(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Nt)}getMutationCache(){return H(this,ii)}getDefaultOptions(){return H(this,oi)}setDefaultOptions(t){Ie(this,oi,t)}setQueryDefaults(t,e){H(this,Ba).set(To(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Ba).values()],n={};return e.forEach(r=>{Wc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,za).set(To(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,za).values()];let n={};return e.forEach(r=>{Wc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Dv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,Nt).clear(),H(this,ii).clear()}},Nt=new WeakMap,ii=new WeakMap,oi=new WeakMap,Ba=new WeakMap,za=new WeakMap,ai=new WeakMap,$a=new WeakMap,Wa=new WeakMap,Q1),Rn,tt,iu,Cn,fo,Ha,li,Mr,ou,qa,Ka,po,mo,ci,Ga,ut,oc,Eg,bg,Sg,Cg,Tg,Ig,kg,xC,Y1,FO=(Y1=class extends xl{constructor(e,n){super();je(this,ut);je(this,Rn);je(this,tt);je(this,iu);je(this,Cn);je(this,fo);je(this,Ha);je(this,li);je(this,Mr);je(this,ou);je(this,qa);je(this,Ka);je(this,po);je(this,mo);je(this,ci);je(this,Ga,new Set);this.options=n,Ie(this,Rn,e),Ie(this,Mr,null),Ie(this,li,xg()),this.options.experimental_prefetchInRender||H(this,li).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,tt).addObserver(this),yx(H(this,tt),this.options)?qe(this,ut,oc).call(this):this.updateResult(),qe(this,ut,Cg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ng(H(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ng(H(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,ut,Tg).call(this),qe(this,ut,Ig).call(this),H(this,tt).removeObserver(this)}setOptions(e,n){const r=this.options,s=H(this,tt);if(this.options=H(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Er(this.options.enabled,H(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,ut,kg).call(this),H(this,tt).setOptions(this.options),r._defaulted&&!Nh(this.options,r)&&H(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,tt),observer:this});const i=this.hasListeners();i&&vx(H(this,tt),s,this.options,r)&&qe(this,ut,oc).call(this),this.updateResult(n),i&&(H(this,tt)!==s||Er(this.options.enabled,H(this,tt))!==Er(r.enabled,H(this,tt))||Ia(this.options.staleTime,H(this,tt))!==Ia(r.staleTime,H(this,tt)))&&qe(this,ut,Eg).call(this);const o=qe(this,ut,bg).call(this);i&&(H(this,tt)!==s||Er(this.options.enabled,H(this,tt))!==Er(r.enabled,H(this,tt))||o!==H(this,ci))&&qe(this,ut,Sg).call(this,o)}getOptimisticResult(e){const n=H(this,Rn).getQueryCache().build(H(this,Rn),e),r=this.createResult(n,e);return VO(this,r)&&(Ie(this,Cn,r),Ie(this,Ha,this.options),Ie(this,fo,H(this,tt).state)),r}getCurrentResult(){return H(this,Cn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){H(this,Ga).add(e)}getCurrentQuery(){return H(this,tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=H(this,Rn).defaultQueryOptions(e),r=H(this,Rn).getQueryCache().build(H(this,Rn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return qe(this,ut,oc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Cn)))}createResult(e,n){var k;const r=H(this,tt),s=this.options,i=H(this,Cn),o=H(this,fo),a=H(this,Ha),c=e!==r?e.state:H(this,iu),{state:h}=e;let f={...h},p=!1,g;if(n._optimisticResults){const C=this.hasListeners(),O=!C&&yx(e,n),j=C&&vx(e,r,n,s);(O||j)&&(f={...f,...wC(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:v}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===H(this,ou))g=H(this,qa);else try{Ie(this,ou,n.select),g=n.select(f.data),g=_g(i==null?void 0:i.data,g,n),Ie(this,qa,g),Ie(this,Mr,null)}catch(C){Ie(this,Mr,C)}else g=f.data;if(n.placeholderData!==void 0&&g===void 0&&v==="pending"){let C;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=i.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((k=H(this,Ka))==null?void 0:k.state.data,H(this,Ka)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),Ie(this,Mr,null)}catch(O){Ie(this,Mr,O)}C!==void 0&&(v="success",g=_g(i==null?void 0:i.data,C,n),p=!0)}H(this,Mr)&&(x=H(this,Mr),g=H(this,qa),m=Date.now(),v="error");const y=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",S=w&&y,P=g!==void 0,T={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&P,isStale:Fv(e,n),refetch:this.refetch,promise:H(this,li)};if(this.options.experimental_prefetchInRender){const C=R=>{T.status==="error"?R.reject(T.error):T.data!==void 0&&R.resolve(T.data)},O=()=>{const R=Ie(this,li,T.promise=xg());C(R)},j=H(this,li);switch(j.status){case"pending":e.queryHash===r.queryHash&&C(j);break;case"fulfilled":(T.status==="error"||T.data!==j.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==j.reason)&&O();break}}return T}updateResult(e){const n=H(this,Cn),r=this.createResult(H(this,tt),this.options);if(Ie(this,fo,H(this,tt).state),Ie(this,Ha,this.options),H(this,fo).data!==void 0&&Ie(this,Ka,H(this,tt)),Nh(r,n))return;Ie(this,Cn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!H(this,Ga).size)return!0;const l=new Set(a??H(this,Ga));return this.options.throwOnError&&l.add("error"),Object.keys(H(this,Cn)).some(c=>{const h=c;return H(this,Cn)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),qe(this,ut,xC).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,ut,Cg).call(this)}},Rn=new WeakMap,tt=new WeakMap,iu=new WeakMap,Cn=new WeakMap,fo=new WeakMap,Ha=new WeakMap,li=new WeakMap,Mr=new WeakMap,ou=new WeakMap,qa=new WeakMap,Ka=new WeakMap,po=new WeakMap,mo=new WeakMap,ci=new WeakMap,Ga=new WeakMap,ut=new WeakSet,oc=function(e){qe(this,ut,kg).call(this);let n=H(this,tt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(sr)),n},Eg=function(){qe(this,ut,Tg).call(this);const e=Ia(this.options.staleTime,H(this,tt));if(Co||H(this,Cn).isStale||!vg(e))return;const r=hC(H(this,Cn).dataUpdatedAt,e)+1;Ie(this,po,setTimeout(()=>{H(this,Cn).isStale||this.updateResult()},r))},bg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,tt)):this.options.refetchInterval)??!1},Sg=function(e){qe(this,ut,Ig).call(this),Ie(this,ci,e),!(Co||Er(this.options.enabled,H(this,tt))===!1||!vg(H(this,ci))||H(this,ci)===0)&&Ie(this,mo,setInterval(()=>{(this.options.refetchIntervalInBackground||Lv.isFocused())&&qe(this,ut,oc).call(this)},H(this,ci)))},Cg=function(){qe(this,ut,Eg).call(this),qe(this,ut,Sg).call(this,qe(this,ut,bg).call(this))},Tg=function(){H(this,po)&&(clearTimeout(H(this,po)),Ie(this,po,void 0))},Ig=function(){H(this,mo)&&(clearInterval(H(this,mo)),Ie(this,mo,void 0))},kg=function(){const e=H(this,Rn).getQueryCache().build(H(this,Rn),this.options);if(e===H(this,tt))return;const n=H(this,tt);Ie(this,tt,e),Ie(this,iu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},xC=function(e){Ht.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(H(this,Cn))}),H(this,Rn).getQueryCache().notify({query:H(this,tt),type:"observerResultsUpdated"})})},Y1);function MO(t,e){return Er(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yx(t,e){return MO(t,e)||t.state.data!==void 0&&Ng(t,e,e.refetchOnMount)}function Ng(t,e,n){if(Er(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Fv(t,e)}return!1}function vx(t,e,n,r){return(t!==e||Er(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Fv(t,n)}function Fv(t,e){return Er(e.enabled,t)!==!1&&t.isStaleByTime(Ia(e.staleTime,t))}function VO(t,e){return!Nh(t.getCurrentResult(),e)}var ui,di,Pn,hs,Ts,zd,Ag,X1,UO=(X1=class extends xl{constructor(n,r){super();je(this,Ts);je(this,ui);je(this,di);je(this,Pn);je(this,hs);Ie(this,ui,n),this.setOptions(r),this.bindMethods(),qe(this,Ts,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=H(this,ui).defaultMutationOptions(n),Nh(this.options,r)||H(this,ui).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,Pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&To(r.mutationKey)!==To(this.options.mutationKey)?this.reset():((s=H(this,Pn))==null?void 0:s.state.status)==="pending"&&H(this,Pn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=H(this,Pn))==null||n.removeObserver(this)}onMutationUpdate(n){qe(this,Ts,zd).call(this),qe(this,Ts,Ag).call(this,n)}getCurrentResult(){return H(this,di)}reset(){var n;(n=H(this,Pn))==null||n.removeObserver(this),Ie(this,Pn,void 0),qe(this,Ts,zd).call(this),qe(this,Ts,Ag).call(this)}mutate(n,r){var s;return Ie(this,hs,r),(s=H(this,Pn))==null||s.removeObserver(this),Ie(this,Pn,H(this,ui).getMutationCache().build(H(this,ui),this.options)),H(this,Pn).addObserver(this),H(this,Pn).execute(n)}},ui=new WeakMap,di=new WeakMap,Pn=new WeakMap,hs=new WeakMap,Ts=new WeakSet,zd=function(){var r;const n=((r=H(this,Pn))==null?void 0:r.state)??_C();Ie(this,di,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ag=function(n){Ht.batch(()=>{var r,s,i,o,a,l,c,h;if(H(this,hs)&&this.hasListeners()){const f=H(this,di).variables,p=H(this,di).context;(n==null?void 0:n.type)==="success"?((s=(r=H(this,hs)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=H(this,hs)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=H(this,hs)).onError)==null||l.call(a,n.error,f,p),(h=(c=H(this,hs)).onSettled)==null||h.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(H(this,di))})})},X1),EC=b.createContext(void 0),Cf=t=>{const e=b.useContext(EC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},BO=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(EC.Provider,{value:t,children:e})),bC=b.createContext(!1),zO=()=>b.useContext(bC);bC.Provider;function $O(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var WO=b.createContext($O()),HO=()=>b.useContext(WO);function SC(t,e){return typeof t=="function"?t(...e):!!t}function Rg(){}var qO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},KO=t=>{b.useEffect(()=>{t.clearReset()},[t])},GO=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&SC(n,[t.error,r]),QO=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},YO=(t,e)=>t.isLoading&&t.isFetching&&!e,XO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ZO(t,e,n){var h,f,p,g,x;const r=Cf(),s=zO(),i=HO(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",QO(o),qO(o,i),KO(i);const a=!r.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(m=>{const v=s?Rg:l.subscribe(Ht.batchCalls(m));return l.updateResult(),v},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),XO(o,c))throw wx(o,l,i);if(GO({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,c),o.experimental_prefetchInRender&&!Co&&YO(c,s)){const m=a?wx(o,l,i):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(Rg).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Tf(t,e){return ZO(t,FO)}function Pg(t,e){const n=Cf(),[r]=b.useState(()=>new UO(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const s=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Ht.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,a)=>{r.mutate(o,a).catch(Rg)},[r]);if(s.error&&SC(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const CC=new LO({defaultOptions:{queries:{queryFn:async({queryKey:t})=>{const e=await fetch(t[0],{credentials:"include"});if(!e.ok)throw e.status>=500?new Error(`${e.status}: ${e.statusText}`):new Error(`${e.status}: ${await e.text()}`);return e.json()},refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),JO=1,eD=1e6;let Zp=0;function tD(){return Zp=(Zp+1)%Number.MAX_SAFE_INTEGER,Zp.toString()}const Jp=new Map,_x=t=>{if(Jp.has(t))return;const e=setTimeout(()=>{Jp.delete(t),xc({type:"REMOVE_TOAST",toastId:t})},eD);Jp.set(t,e)},nD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_x(n):t.toasts.forEach(r=>{_x(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$d=[];let Wd={toasts:[]};function xc(t){Wd=nD(Wd,t),$d.forEach(e=>{e(Wd)})}function rD({...t}){const e=tD(),n=s=>xc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xc({type:"DISMISS_TOAST",toastId:e});return xc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gi(){const[t,e]=b.useState(Wd);return b.useEffect(()=>($d.push(e),()=>{const n=$d.indexOf(e);n>-1&&$d.splice(n,1)}),[t]),{...t,toast:rD,dismiss:n=>xc({type:"DISMISS_TOAST",toastId:n})}}function Gn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function TC(...t){return e=>t.forEach(n=>sD(n,e))}function Io(...t){return b.useCallback(TC(...t),t)}function iD(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[t][l])||a,v=b.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:v,children:g})}function h(f,p){const g=(p==null?void 0:p[t][l])||a,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,oD(s,...e)]}function oD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Hc=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),i=s.find(lD);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return d.jsx(Og,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return d.jsx(Og,{...r,ref:e,children:n})});Hc.displayName="Slot";var Og=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=uD(n);return b.cloneElement(n,{...cD(r,n.props),ref:e?TC(e,s):s})}return b.Children.count(n)>1?b.Children.only(null):null});Og.displayName="SlotClone";var aD=({children:t})=>d.jsx(d.Fragment,{children:t});function lD(t){return b.isValidElement(t)&&t.type===aD}function cD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dD(t){const e=t+"CollectionProvider",[n,r]=iD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:m}=g,v=pt.useRef(null),y=pt.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:y,collectionRef:v,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=pt.forwardRef((g,x)=>{const{scope:m,children:v}=g,y=i(a,m),w=Io(x,y.collectionRef);return d.jsx(Hc,{ref:w,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=pt.forwardRef((g,x)=>{const{scope:m,children:v,...y}=g,w=pt.useRef(null),_=Io(x,w),S=i(c,m);return pt.useEffect(()=>(S.itemMap.set(w,{ref:w,...y}),()=>void S.itemMap.delete(w))),d.jsx(Hc,{[h]:"",ref:_,children:v})});f.displayName=c;function p(g){const x=i(t+"CollectionConsumer",g);return pt.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((S,P)=>y.indexOf(S.ref.current)-y.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function IC(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=b.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:v,children:g})};c.displayName=i+"Provider";function h(f,p){var m;const g=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,hD(s,...e)]}function hD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var fD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zr=fD.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Hc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kC(t,e){t&&Ki.flushSync(()=>t.dispatchEvent(e))}function Rs(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pD(t,e=globalThis==null?void 0:globalThis.document){const n=Rs(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mD="DismissableLayer",Dg="dismissableLayer.update",gD="dismissableLayer.pointerDownOutside",yD="dismissableLayer.focusOutside",xx,NC=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AC=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(NC),[h,f]=b.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),x=Io(e,T=>f(T)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=h?m.indexOf(h):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,P=wD(T=>{const k=T.target,C=[...c.branches].some(O=>O.contains(k));!S||C||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),L=_D(T=>{const k=T.target;[...c.branches].some(O=>O.contains(k))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return pD(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),b.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Ex(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=xx)}},[h,p,n,c]),b.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Ex())},[h,c]),b.useEffect(()=>{const T=()=>g({});return document.addEventListener(Dg,T),()=>document.removeEventListener(Dg,T)},[]),d.jsx(Zr.div,{...l,ref:x,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Gn(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Gn(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Gn(t.onPointerDownCapture,P.onPointerDownCapture)})});AC.displayName=mD;var vD="DismissableLayerBranch",RC=b.forwardRef((t,e)=>{const n=b.useContext(NC),r=b.useRef(null),s=Io(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Zr.div,{...t,ref:s})});RC.displayName=vD;function wD(t,e=globalThis==null?void 0:globalThis.document){const n=Rs(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){PC(gD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _D(t,e=globalThis==null?void 0:globalThis.document){const n=Rs(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&PC(yD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ex(){const t=new CustomEvent(Dg);document.dispatchEvent(t)}function PC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var xD=AC,ED=RC,Oi=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},bD="Portal",OC=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Oi(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uC.createPortal(d.jsx(Zr.div,{...r,ref:e}),o):null});OC.displayName=bD;function SD(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var DC=t=>{const{present:e,children:n}=t,r=CD(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Io(r.ref,TD(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};DC.displayName="Presence";function CD(t){const[e,n]=b.useState(),r=b.useRef({}),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=SD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=ud(r.current);i.current=a==="mounted"?c:"none"},[a]),Oi(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=ud(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Oi(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=g=>{const m=ud(r.current).includes(g.animationName);if(g.target===e&&m&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=g=>{g.target===e&&(i.current=ud(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ud(t){return(t==null?void 0:t.animationName)||"none"}function TD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ID({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Rs(n),l=b.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function ID({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,s=b.useRef(r),i=Rs(e);return b.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var kD="VisuallyHidden",Mv=b.forwardRef((t,e)=>d.jsx(Zr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Mv.displayName=kD;var Vv="ToastProvider",[Uv,ND,AD]=dD("Toast"),[LC,Z9]=IC("Toast",[AD]),[RD,If]=LC(Vv),FC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[c,h]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vv}\`. Expected non-empty \`string\`.`),d.jsx(Uv.Provider,{scope:e,children:d.jsx(RD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>h(g=>g+1),[]),onToastRemove:b.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};FC.displayName=Vv;var MC="ToastViewport",PD=["F8"],jg="toast.viewportPause",Lg="toast.viewportResume",VC=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=PD,label:s="Notifications ({hotkey})",...i}=t,o=If(MC,n),a=ND(n),l=b.useRef(null),c=b.useRef(null),h=b.useRef(null),f=b.useRef(null),p=Io(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const v=y=>{var _;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,y=f.current;if(x&&v&&y){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(jg);y.dispatchEvent(L),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Lg);y.dispatchEvent(L),o.isClosePausedRef.current=!1}},S=L=>{!v.contains(L.relatedTarget)&&_()},P=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[x,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:v})=>{const w=a().map(_=>{const S=_.ref.current,P=[S,...HD(S)];return v==="forwards"?P:P.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const y=w=>{var P,L,T;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const k=document.activeElement,C=w.shiftKey;if(w.target===v&&C){(P=c.current)==null||P.focus();return}const R=m({tabbingDirection:C?"backwards":"forwards"}),D=R.findIndex(N=>N===k);em(R.slice(D+1))?w.preventDefault():C?(L=c.current)==null||L.focus():(T=h.current)==null||T.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,m]),d.jsxs(ED,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(Fg,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});em(v)}}),d.jsx(Uv.Slot,{scope:n,children:d.jsx(Zr.ol,{tabIndex:-1,...i,ref:p})}),x&&d.jsx(Fg,{ref:h,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});em(v)}})]})});VC.displayName=MC;var UC="ToastFocusProxy",Fg=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=If(UC,n);return d.jsx(Mv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Fg.displayName=UC;var kf="Toast",OD="toast.swipeStart",DD="toast.swipeMove",jD="toast.swipeCancel",LD="toast.swipeEnd",BC=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=jC({prop:r,defaultProp:s,onChange:i});return d.jsx(DC,{present:n||a,children:d.jsx(VD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Rs(t.onPause),onResume:Rs(t.onResume),onSwipeStart:Gn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Gn(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Gn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Gn(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});BC.displayName=kf;var[FD,MD]=LC(kf,{onClose(){}}),VD=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...x}=t,m=If(kf,n),[v,y]=b.useState(null),w=Io(e,N=>y(N)),_=b.useRef(null),S=b.useRef(null),P=s||m.duration,L=b.useRef(0),T=b.useRef(P),k=b.useRef(0),{onToastAdd:C,onToastRemove:O}=m,j=Rs(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),R=b.useCallback(N=>{!N||N===1/0||(window.clearTimeout(k.current),L.current=new Date().getTime(),k.current=window.setTimeout(j,N))},[j]);b.useEffect(()=>{const N=m.viewport;if(N){const G=()=>{R(T.current),c==null||c()},oe=()=>{const Z=new Date().getTime()-L.current;T.current=T.current-Z,window.clearTimeout(k.current),l==null||l()};return N.addEventListener(jg,oe),N.addEventListener(Lg,G),()=>{N.removeEventListener(jg,oe),N.removeEventListener(Lg,G)}}},[m.viewport,P,l,c,R]),b.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(P)},[i,P,m.isClosePausedRef,R]),b.useEffect(()=>(C(),()=>O()),[C,O]);const D=b.useMemo(()=>v?GC(v):null,[v]);return m.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx(UD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(FD,{scope:n,onClose:j,children:Ki.createPortal(d.jsx(Uv.ItemSlot,{scope:n,children:d.jsx(xD,{asChild:!0,onEscapeKeyDown:Gn(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||j(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Zr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Gn(t.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Gn(t.onPointerDown,N=>{N.button===0&&(_.current={x:N.clientX,y:N.clientY})}),onPointerMove:Gn(t.onPointerMove,N=>{if(!_.current)return;const G=N.clientX-_.current.x,oe=N.clientY-_.current.y,Z=!!S.current,K=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=K?B(0,G):0,U=K?0:B(0,oe),z=N.pointerType==="touch"?10:2,he={x:Q,y:U},ue={originalEvent:N,delta:he};Z?(S.current=he,dd(DD,f,ue,{discrete:!1})):bx(he,m.swipeDirection,z)?(S.current=he,dd(OD,h,ue,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(G)>z||Math.abs(oe)>z)&&(_.current=null)}),onPointerUp:Gn(t.onPointerUp,N=>{const G=S.current,oe=N.target;if(oe.hasPointerCapture(N.pointerId)&&oe.releasePointerCapture(N.pointerId),S.current=null,_.current=null,G){const Z=N.currentTarget,K={originalEvent:N,delta:G};bx(G,m.swipeDirection,m.swipeThreshold)?dd(LD,g,K,{discrete:!0}):dd(jD,p,K,{discrete:!0}),Z.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),UD=t=>{const{__scopeToast:e,children:n,...r}=t,s=If(kf,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return $D(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(OC,{asChild:!0,children:d.jsx(Mv,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},BD="ToastTitle",zC=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Zr.div,{...r,ref:e})});zC.displayName=BD;var zD="ToastDescription",$C=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Zr.div,{...r,ref:e})});$C.displayName=zD;var WC="ToastAction",HC=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(KC,{altText:n,asChild:!0,children:d.jsx(Bv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${WC}\`. Expected non-empty \`string\`.`),null)});HC.displayName=WC;var qC="ToastClose",Bv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=MD(qC,n);return d.jsx(KC,{asChild:!0,children:d.jsx(Zr.button,{type:"button",...r,ref:e,onClick:Gn(t.onClick,s.onClose)})})});Bv.displayName=qC;var KC=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Zr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function GC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...GC(r))}}),e}function dd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var bx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function $D(t=()=>{}){const e=Rs(t);Oi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function WD(t){return t.nodeType===t.ELEMENT_NODE}function HD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function em(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qD=FC,QC=VC,YC=BC,XC=zC,ZC=$C,JC=HC,eT=Bv;function tT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tT(t))&&(r&&(r+=" "),r+=e);return r}const Sx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Cx=nT,hu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Cx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=Sx(h)||Sx(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(x=>{let[m,v]=x;return Array.isArray(v)?v.includes({...i,...a}[m]):{...i,...a}[m]===v})?[...c,f,p]:c},[]);return Cx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...GD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rT("lucide",s),...a},[...o.map(([c,h])=>b.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(QD,{ref:i,iconNode:e,className:rT(`lucide-${KD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ht("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ht("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ht("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ht("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ht("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=ht("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ht("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=ht("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ht("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ht("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ht("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ht("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sj="modulepreload",ij=function(t){return"/"+t},Tx={},oj=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=ij(l),l in Tx)return;Tx[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":sj,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Hv="-",aj=t=>{const e=cj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Hv);return a[0]===""&&a.length!==1&&a.shift(),fT(a,e)||lj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},fT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?fT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Hv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ix=/^\[(.+)\]$/,lj=t=>{if(Ix.test(t)){const e=Ix.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return dj(Object.entries(t.classGroups),n).forEach(([i,o])=>{Bg(o,r,i,e)}),r},Bg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(uj(s)){Bg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Bg(o,kx(e,i),n,r)})})},kx=(t,e)=>{let n=t;return e.split(Hv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uj=t=>t.isThemeGetter,dj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,hj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},pT="!",fj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let v=0;v<a.length;v++){let y=a[v];if(c===0){if(y===s&&(r||a.slice(v,v+i)===e)){l.push(a.slice(h,v)),h=v+i;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(h),g=p.startsWith(pT),x=g?p.substring(1):p,m=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},pj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mj=t=>({cache:hj(t.cacheSize),parseClassName:fj(t),...aj(t)}),gj=/\s+/,yj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(gj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let x=!!g,m=r(x?p.substring(0,g):p);if(!m){if(!x){a=c+(a.length>0?" "+a:a);continue}if(m=r(p),!m){a=c+(a.length>0?" "+a:a);continue}x=!1}const v=pj(h).join(":"),y=f?v+pT:v,w=y+m;if(i.includes(w))continue;i.push(w);const _=s(m,x);for(let S=0;S<_.length;++S){const P=_[S];i.push(y+P)}a=c+(a.length>0?" "+a:a)}return a};function vj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mT(e))&&(r&&(r+=" "),r+=n);return r}const mT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mT(t[r]))&&(n&&(n+=" "),n+=e);return n};function wj(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=mj(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=yj(l,n);return s(l,h),h}return function(){return i(vj.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},gT=/^\[(?:([a-z-]+):)?(.+)\]$/i,_j=/^\d+\/\d+$/,xj=new Set(["px","full","screen"]),Ej=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>ka(t)||xj.has(t)||_j.test(t),Ws=t=>El(t,"length",Dj),ka=t=>!!t&&!Number.isNaN(Number(t)),tm=t=>El(t,"number",ka),Xl=t=>!!t&&Number.isInteger(Number(t)),Ij=t=>t.endsWith("%")&&ka(t.slice(0,-1)),$e=t=>gT.test(t),Hs=t=>Ej.test(t),kj=new Set(["length","size","percentage"]),Nj=t=>El(t,kj,yT),Aj=t=>El(t,"position",yT),Rj=new Set(["image","url"]),Pj=t=>El(t,Rj,Lj),Oj=t=>El(t,"",jj),Zl=()=>!0,El=(t,e,n)=>{const r=gT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Dj=t=>bj.test(t)&&!Sj.test(t),yT=()=>!1,jj=t=>Cj.test(t),Lj=t=>Tj.test(t),Fj=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),r=wt("brightness"),s=wt("borderColor"),i=wt("borderRadius"),o=wt("borderSpacing"),a=wt("borderWidth"),l=wt("contrast"),c=wt("grayscale"),h=wt("hueRotate"),f=wt("invert"),p=wt("gap"),g=wt("gradientColorStops"),x=wt("gradientColorStopPositions"),m=wt("inset"),v=wt("margin"),y=wt("opacity"),w=wt("padding"),_=wt("saturate"),S=wt("scale"),P=wt("sepia"),L=wt("skew"),T=wt("space"),k=wt("translate"),C=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",$e,e],R=()=>[$e,e],D=()=>["",ss,Ws],N=()=>["auto",ka,$e],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",$e],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[ka,$e];return{cacheSize:500,separator:":",theme:{colors:[Zl],spacing:[ss,Ws],blur:["none","",Hs,$e],brightness:U(),borderColor:[t],borderRadius:["none","","full",Hs,$e],borderSpacing:R(),borderWidth:D(),contrast:U(),grayscale:B(),hueRotate:U(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Ij,Ws],inset:j(),margin:j(),opacity:U(),padding:R(),saturate:U(),scale:U(),sepia:B(),skew:U(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Hs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),$e]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xl,$e]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Xl,$e]}],"grid-cols":[{"grid-cols":[Zl]}],"col-start-end":[{col:["auto",{span:["full",Xl,$e]},$e]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Zl]}],"row-start-end":[{row:["auto",{span:[Xl,$e]},$e]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Hs]},Hs]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hs,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tm]}],"font-family":[{font:[Zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",ka,tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ws]}],"underline-offset":[{"underline-offset":["auto",ss,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Aj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:oe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[ss,$e]}],"outline-w":[{outline:[ss,Ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ss,Ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hs,Oj]}],"shadow-color":[{shadow:[Zl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hs,$e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Xl,$e]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,Ws,tm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mj=wj(Fj);function Ge(...t){return Mj(nT(t))}const zg={thin:"100",hairline:"100",extralight:"200",ultralight:"200","extra-light":"200","ultra-light":"200",light:"300",regular:"400",normal:"400",book:"400",roman:"400",medium:"500",semibold:"600",demibold:"600","semi-bold":"600","demi-bold":"600",bold:"700",extrabold:"800",ultrabold:"800","extra-bold":"800","ultra-bold":"800",heavy:"800",black:"900",extrablack:"950",ultrablack:"950","extra-black":"950","ultra-black":"950"};function Vj(t){if(!t)return"400";const e=t.toLowerCase().replace(/[_\-]/g," "),n=t.toLowerCase().replace(/[^a-z0-9]/g,""),r=Object.entries(zg).filter(([i])=>new RegExp(`\\b${i.replace(/-/g," ")}\\b`,"i").test(e)?!0:new RegExp(`\\b${i.replace(/-/g,"")}\\b`,"i").test(n));if(r.length>0)return r.sort((i,o)=>o[0].length-i[0].length),r[0][1];const s=[100,200,300,400,500,600,700,800,900,950];for(const i of s)if(n.includes(i.toString()))return i.toString();for(const[i,o]of Object.entries(zg))if(n.includes(i.replace(/-/g,"")))return o;return"400"}function Uj(t){const e=t.toLowerCase();return e.includes("italic")||e.includes("oblique")?"italic":"normal"}function qo(t){return t.includes("woff2")?"woff2":t.includes("woff")?"woff":t.includes("ttf")||t.includes("truetype")?"truetype":t.includes("otf")||t.includes("opentype")?"opentype":"truetype"}const Bj={wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical Size",GRAD:"Grade",XTRA:"X Transparent",XOPQ:"X Opaque",YOPQ:"Y Opaque",YTLC:"Lowercase Height",YTUC:"Uppercase Height",YTAS:"Ascender",YTDE:"Descender",YTFI:"Figure Height"};async function zj(t){try{const e=await oj(()=>import("./opentype.module-vCW3tLPS.js"),[]),n=t.split(",")[1],r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);const i=e.parse(s.buffer);return i.tables.fvar&&i.tables.fvar.axes?{isVariable:!0,axes:i.tables.fvar.axes.map(a=>({tag:a.tag,name:Bj[a.tag]||a.tag,min:a.minValue,max:a.maxValue,default:a.defaultValue,value:a.defaultValue}))}:{isVariable:!1,axes:[]}}catch(e){return console.error("Error detecting variable font:",e),{isVariable:!1,axes:[]}}}function vT(t){console.log("Converting hex to RGB:",t);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!e)return console.log("Failed to parse hex color:",t),null;const n={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};return console.log("Converted to RGB:",n),n}function Nx(t,e,n){const r="#"+[t,e,n].map(s=>{const i=s.toString(16);return i.length===1?"0"+i:i}).join("").toUpperCase();return console.log("Converted RGB to hex:",{r:t,g:e,b:n},"->",r),r}function cs(t){if(!t){console.log("Empty color string provided");return}if(console.log("Extracting color from:",t),t=t.trim().toLowerCase(),t.startsWith("#"))if(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(t)){if(console.log("Found valid hex color:",t),t.length===4){const i=t[1],o=t[2],a=t[3];t=`#${i}${i}${o}${o}${a}${a}`}return t.toUpperCase()}else{console.log("Invalid hex format, skipping:",t);return}const e=t.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(e){const[,s,i,o]=e.map(Number),a=Nx(s,i,o);return console.log("Converted RGB to hex:",a),a}const n=t.match(/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9.]+)\s*\)/);if(n){const[,s,i,o]=n.map(Number),a=Nx(s,i,o);return console.log("Converted RGBA to hex:",a),a}if(t.match(/hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/))try{const i=document.createElement("canvas").getContext("2d");if(!i){console.log("Failed to get canvas context");return}i.fillStyle=t;const o=i.fillStyle;return console.log("Converted HSL color to hex:",o),o.toUpperCase()}catch(s){console.error("Error converting HSL color:",s);return}try{const i=document.createElement("canvas").getContext("2d");if(!i){console.log("Failed to get canvas context");return}i.fillStyle=t;const o=i.fillStyle;if(o==="#000000"&&t!=="black"){console.log("Failed to parse color, got default black:",t);return}return console.log("Converted named color to hex:",o),o.toUpperCase()}catch(s){console.error("Error converting color:",s);return}}function us(t){console.log("Checking if color is near black or white:",t);const e=vT(t);if(!e)return console.log("Could not parse color for black/white check:",t),!1;const n=30,r=e.r<=n&&e.g<=n&&e.b<=n,s=e.r>=255-n&&e.g>=255-n&&e.b>=255-n;return console.log(`Color ${t} -> Near black: ${r}, Near white: ${s}`),r||s}function $j(t){if(!t)return!1;const e=t.toUpperCase();if(e==="#FFFFFF"||e==="#FFF")return!0;const n=vT(t);if(!n)return!1;const r=15;return n.r>=255-r&&n.g>=255-r&&n.b>=255-r}function Wj(t){let e=10;try{let n=parseFloat(t.getAttribute("width")||"0"),r=parseFloat(t.getAttribute("height")||"0");if(!n||!r){const a=t.getAttribute("viewBox");if(a){const l=a.split(/\s+/).map(parseFloat);l.length===4&&(n=l[2],r=l[3])}}if(!n||!r)if(t.tagName==="rect")n=parseFloat(t.getAttribute("width")||"0"),r=parseFloat(t.getAttribute("height")||"0"),e=n*r;else if(t.tagName==="circle"){const a=parseFloat(t.getAttribute("r")||"0");e=Math.PI*a*a}else if(t.tagName==="ellipse"){const a=parseFloat(t.getAttribute("rx")||"0"),l=parseFloat(t.getAttribute("ry")||"0");e=Math.PI*a*l}else t.tagName==="path"?e=(t.getAttribute("d")||"").length*2:e=50;else e=n*r;const s=parseFloat(t.getAttribute("opacity")||"1"),i=parseFloat(t.getAttribute("fill-opacity")||"1"),o=Math.min(s,i);return o>0&&o<1&&(e=e*o),t.tagName==="g"&&t.getAttribute("transform")&&(e=e*1.5),Math.max(e,1)}catch(n){return console.warn("Error calculating element area:",n),10}}function wT(t,e,n=0){const r="  ".repeat(n);console.log(`${r}Processing element:`,t.tagName);const s=Wj(t);if(s<3)return;console.log(`${r}Estimated element area:`,s);let i=1;["path","rect","circle","polygon"].includes(t.tagName.toLowerCase())&&s>100&&(i=1.5);const o=t.getAttribute("fill");if(o&&o!=="none"){const c=cs(o);if(c){const h=us(c)?.8:1.2,f=s*i*h;console.log(`${r}Found fill color:`,c,"with area weight:",f),e.set(c,(e.get(c)||0)+f)}}const a=t.getAttribute("stroke");if(a&&a!=="none"){const c=cs(a);if(c){const h=parseFloat(t.getAttribute("stroke-width")||"1"),f=us(c)?.6:1,p=s*.6*h*i*f;console.log(`${r}Found stroke color:`,c,"with stroke weight:",p),e.set(c,(e.get(c)||0)+p)}}const l=t.getAttribute("style");if(l){console.log(`${r}Processing style attribute:`,l);const c=l.match(/fill:\s*([^;]+)/);if(c&&c[1]!=="none"){const x=cs(c[1]);if(x){const m=us(x)?.8:1.2,v=s*i*m;console.log(`${r}Found fill color in style:`,x,"with area weight:",v),e.set(x,(e.get(x)||0)+v)}}const h=l.match(/stroke:\s*([^;]+)/);if(h&&h[1]!=="none"){const x=cs(h[1]);if(x){const m=l.match(/stroke-width:\s*([0-9.]+)/),v=m?parseFloat(m[1]):1,y=us(x)?.6:1,w=s*.6*v*i*y;console.log(`${r}Found stroke color in style:`,x,"with stroke weight:",w),e.set(x,(e.get(x)||0)+w)}}const f=l.match(/background(?:-color)?:\s*([^;]+)/);if(f){const x=cs(f[1]);if(x){const m=us(x)?.7:1.1,v=s*i*m;console.log(`${r}Found background color in style:`,x,"with weight:",v),e.set(x,(e.get(x)||0)+v)}}const p=/#[0-9a-f]{3,8}|rgb\s*\([^)]+\)|rgba\s*\([^)]+\)|hsl\s*\([^)]+\)/ig;let g;for(;(g=p.exec(l))!==null;){const x=g[0],m=cs(x);if(m){const v=us(m)?.4:.7,y=s*.3*i*v;console.log(`${r}Found generic color in style:`,m,"with general weight:",y),e.set(m,(e.get(m)||0)+y)}}}if(t.tagName.toLowerCase()==="stop"){const c=t.getAttribute("stop-color");if(c){const h=cs(c);if(h){const f=us(h)?.8:1.3,p=50*i*f;console.log(`${r}Found gradient stop color:`,h,"with weight:",p),e.set(h,(e.get(h)||0)+p)}}}Array.from(t.children).forEach(c=>{wT(c,e,n+1)})}function Hj(t){if(console.log("Starting SVG color analysis"),!t||typeof t!="string")throw console.error("Invalid SVG text provided:",t),new Error("Invalid SVG content");try{const n=new DOMParser().parseFromString(t,"image/svg+xml"),r=n.querySelector("parsererror");if(r)throw console.error("SVG parsing error:",r.textContent),new Error("Invalid SVG format");const s=new Map;console.log("Initialized color map");const i=n.getElementsByTagName("style");console.log(`Found ${i.length} style elements`),Array.from(i).forEach((l,c)=>{const h=l.textContent||"";console.log(`Processing style element ${c}:`,h);const f=/[.#][^{]+{[^}]*(?:fill|color|stroke):\s*([^;}]+)/g;let p;for(;(p=f.exec(h))!==null;){const x=cs(p[1]);if(x){const v=3*(us(x)?.7:1);console.log(`Found color in style definition ${c}:`,x,"with weight:",v),s.set(x,(s.get(x)||0)+v)}}const g=/#[0-9a-f]{3,8}|rgb\s*\([^)]+\)|rgba\s*\([^)]+\)|hsl\s*\([^)]+\)/ig;for(;(p=g.exec(h))!==null;){const x=p[0],m=cs(x);if(m){const y=2*(us(m)?.5:.8);console.log(`Found general color in style ${c}:`,m,"with weight:",y),s.set(m,(s.get(m)||0)+y)}}}),console.log("Starting element processing"),wT(n.documentElement,s);const o=Array.from(s.entries()).sort((l,c)=>c[1]-l[1]);console.log("Color weights:"),o.forEach(([l,c])=>{console.log(`  ${l}: ${c}`)});const a=o.map(([l])=>l);return console.log("Final extracted colors (in order):",a),a.length===0?(console.log("No valid colors found, returning empty color set"),{accent:"",additional:[]}):(console.log("Top colors (max 5):",a.slice(0,5)),{accent:a[0],additional:a.slice(1)})}catch(e){return console.error("Error analyzing SVG colors:",e),{accent:"",additional:[]}}}const qj=qD,_T=b.forwardRef(({className:t,...e},n)=>d.jsx(QC,{ref:n,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_T.displayName=QC.displayName;const Kj=hu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xT=b.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(YC,{ref:r,className:Ge(Kj({variant:e}),t),...n}));xT.displayName=YC.displayName;const Gj=b.forwardRef(({className:t,...e},n)=>d.jsx(JC,{ref:n,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Gj.displayName=JC.displayName;const ET=b.forwardRef(({className:t,...e},n)=>d.jsx(eT,{ref:n,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Wv,{className:"h-4 w-4"})}));ET.displayName=eT.displayName;const bT=b.forwardRef(({className:t,...e},n)=>d.jsx(XC,{ref:n,className:Ge("text-sm font-semibold",t),...e}));bT.displayName=XC.displayName;const ST=b.forwardRef(({className:t,...e},n)=>d.jsx(ZC,{ref:n,className:Ge("text-sm opacity-90",t),...e}));ST.displayName=ZC.displayName;function Qj(){const{toasts:t}=Gi();return d.jsxs(qj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(xT,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(bT,{children:n}),r&&d.jsx(ST,{children:r})]}),s,d.jsx(ET,{})]},e)}),d.jsx(_T,{})]})}var Ax={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Yj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Xj;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zj=function(t){const e=CT(t);return TT.encodeByteArray(e,!0)},Rh=function(t){return Zj(t).replace(/\./g,"")},IT=function(t){try{return TT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=()=>Jj().__FIREBASE_DEFAULTS__,tL=()=>{if(typeof process>"u"||typeof Ax>"u")return;const t=Ax.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IT(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return eL()||tL()||nL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kT=t=>{var e,n;return(n=(e=Pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NT=t=>{const e=kT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AT=()=>{var t;return(t=Pf())===null||t===void 0?void 0:t.config},RT=t=>{var e;return(e=Pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function iL(){var t;const e=(t=Pf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cL(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uL(){return!iL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dL(){try{return typeof indexedDB=="object"}catch{return!1}}function hL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fL,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Jr(s,a,r)}}function pL(t,e){return t.replace(mL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mL=/\{\$([^}]+)}/g;function gL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rx(i)&&Rx(o)){if(!Ph(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yL(t,e){const n=new vL(t,e);return n.subscribe.bind(n)}class vL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nm),s.error===void 0&&(s.error=nm),s.complete===void 0&&(s.complete=nm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EL(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xL(t){return t===no?void 0:t}function EL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _L(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const SL={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},CL=Je.INFO,TL={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},IL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=CL,this._logHandler=IL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const kL=(t,e)=>e.some(n=>t instanceof n);let Px,Ox;function NL(){return Px||(Px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AL(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,$g=new WeakMap,DT=new WeakMap,rm=new WeakMap,Kv=new WeakMap;function RL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),Kv.set(e,t),e}function PL(t){if($g.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$g.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OL(t){Wg=t(Wg)}function DL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),bi(r)}:AL().includes(t)?function(...e){return t.apply(sm(this),e),bi(OT.get(this))}:function(...e){return bi(t.apply(sm(this),e))}}function jL(t){return typeof t=="function"?DL(t):(t instanceof IDBTransaction&&PL(t),kL(t,NL())?new Proxy(t,Wg):t)}function bi(t){if(t instanceof IDBRequest)return RL(t);if(rm.has(t))return rm.get(t);const e=jL(t);return e!==t&&(rm.set(t,e),Kv.set(e,t)),e}const sm=t=>Kv.get(t);function LL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bi(o.result),l.oldVersion,l.newVersion,bi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],im=new Map;function Dx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ML.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return im.set(e,i),i}OL(t=>({...t,get:(e,n,r)=>Dx(e,n)||t.get(e,n,r),has:(e,n)=>!!Dx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",jx="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new qv("@firebase/app"),BL="@firebase/app-compat",zL="@firebase/analytics-compat",$L="@firebase/analytics",WL="@firebase/app-check-compat",HL="@firebase/app-check",qL="@firebase/auth",KL="@firebase/auth-compat",GL="@firebase/database",QL="@firebase/data-connect",YL="@firebase/database-compat",XL="@firebase/functions",ZL="@firebase/functions-compat",JL="@firebase/installations",eF="@firebase/installations-compat",tF="@firebase/messaging",nF="@firebase/messaging-compat",rF="@firebase/performance",sF="@firebase/performance-compat",iF="@firebase/remote-config",oF="@firebase/remote-config-compat",aF="@firebase/storage",lF="@firebase/storage-compat",cF="@firebase/firestore",uF="@firebase/vertexai",dF="@firebase/firestore-compat",hF="firebase",fF="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",pF={[Hg]:"fire-core",[BL]:"fire-core-compat",[$L]:"fire-analytics",[zL]:"fire-analytics-compat",[HL]:"fire-app-check",[WL]:"fire-app-check-compat",[qL]:"fire-auth",[KL]:"fire-auth-compat",[GL]:"fire-rtdb",[QL]:"fire-data-connect",[YL]:"fire-rtdb-compat",[XL]:"fire-fn",[ZL]:"fire-fn-compat",[JL]:"fire-iid",[eF]:"fire-iid-compat",[tF]:"fire-fcm",[nF]:"fire-fcm-compat",[rF]:"fire-perf",[sF]:"fire-perf-compat",[iF]:"fire-rc",[oF]:"fire-rc-compat",[aF]:"fire-gcs",[lF]:"fire-gcs-compat",[cF]:"fire-fst",[dF]:"fire-fst-compat",[uF]:"fire-vertex","fire-js":"fire-js",[hF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,mF=new Map,Kg=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Kg.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of Oh.values())Lx(n,t);for(const n of mF.values())Lx(n,t);return!0}function Of(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new pu("app","Firebase",gF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=fF;function jT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=AT()),!n)throw Si.create("no-options");const i=Oh.get(s);if(i){if(Ph(n,i.options)&&Ph(r,i.config))return i;throw Si.create("duplicate-app",{appName:s})}const o=new bL(s);for(const l of Kg.values())o.addComponent(l);const a=new yF(n,r,o);return Oh.set(s,a),a}function Gv(t=qg){const e=Oh.get(t);if(!e&&t===qg&&AT())return jT();if(!e)throw Si.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let s=(r=pF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}ko(new Di(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebase-heartbeat-database",wF=1,qc="firebase-heartbeat-store";let om=null;function LT(){return om||(om=LL(vF,wF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),om}async function _F(t){try{const n=(await LT()).transaction(qc),r=await n.objectStore(qc).get(FT(t));return await n.done,r}catch(e){if(e instanceof Jr)Ps.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function Fx(t,e){try{const r=(await LT()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,FT(t)),await r.done}catch(n){if(n instanceof Jr)Ps.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1024,EF=30*24*60*60*1e3;class bF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=EF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mx(),{heartbeatsToSend:r,unsentEntries:s}=SF(this._heartbeatsCache.heartbeats),i=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ps.warn(n),""}}}function Mx(){return new Date().toISOString().substring(0,10)}function SF(t,e=xF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dL()?hL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _F(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vx(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){ko(new Di("platform-logger",e=>new VL(e),"PRIVATE")),ko(new Di("heartbeat",e=>new bF(e),"PRIVATE")),$r(Hg,jx,t),$r(Hg,jx,"esm2017"),$r("fire-js","")}TF("");var Ur=function(){return Ur=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ur.apply(this,arguments)};function gu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kF=MT,VT=new pu("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new qv("@firebase/auth");function NF(t,...e){Dh.logLevel<=Je.WARN&&Dh.warn(`Auth (${Mo}): ${t}`,...e)}function Hd(t,...e){Dh.logLevel<=Je.ERROR&&Dh.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw Yv(t,...e)}function Ir(t,...e){return Yv(t,...e)}function Qv(t,e,n){const r=Object.assign(Object.assign({},kF()),{[e]:n});return new pu("auth","Firebase",r).create(e,{appName:t.name})}function vo(t){return Qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gr(t,"argument-error"),Qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VT.create(t,...e)}function Ve(t,e,...n){if(!t)throw Yv(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function Os(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RF(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RF()||aL()||"connection"in navigator)?navigator.onLine:!0}function OF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=sL()||lL()}get(){return PF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new yu(3e4,6e4);function Zv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bl(t,e,n,r,s={}){return BT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return oL()||(c.referrerPolicy="no-referrer"),UT.fetch()(zT(t,t.config.apiHost,n,a),c)})}async function BT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DF),e);try{const s=new FF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Qv(t,h,c);Gr(t,h)}}catch(s){if(s instanceof Jr)throw s;Gr(t,"network-request-failed",{message:String(s)})}}async function LF(t,e,n,r,s={}){const i=await bl(t,e,n,r,s);return"mfaPendingCredential"in i&&Gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Xv(t.config,s):`${t.config.apiScheme}://${s}`}class FF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),jF.get())})}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ir(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){return bl(t,"POST","/v1/accounts:delete",e)}async function $T(t,e){return bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VF(t,e=!1){const n=Jn(t),r=await n.getIdToken(e),s=Jv(r);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ec(am(s.auth_time)),issuedAtTime:Ec(am(s.iat)),expirationTime:Ec(am(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function am(t){return Number(t)*1e3}function Jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const s=IT(n);return s?JSON.parse(s):(Hd("Failed to decode base64 JWT payload"),null)}catch(s){return Hd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bx(t){const e=Jv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&UF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Kc(t,$T(n,{idToken:r}));Ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?WT(i.providerUserInfo):[],a=$F(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function zF(t){const e=Jn(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $F(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WT(t){return t.map(e=>{var{providerId:n}=e,r=gu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e){const n=await BT(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=zT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HF(t,e){return bl(t,"POST","/v2/accounts:revokeToken",Zv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await WF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Na;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VF(this,e)}reload(){return zF(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Kc(this,MF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:S,isAnonymous:P,providerData:L,stsTokenManager:T}=n;Ve(_&&T,e,"internal-error");const k=Na.fromJSON(this.name,T);Ve(typeof _=="string",e,"internal-error"),qs(f,e.name),qs(p,e.name),Ve(typeof S=="boolean",e,"internal-error"),Ve(typeof P=="boolean",e,"internal-error"),qs(g,e.name),qs(x,e.name),qs(m,e.name),qs(v,e.name),qs(y,e.name),qs(w,e.name);const C=new ws({uid:_,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:P,photoURL:x,phoneNumber:g,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:w});return L&&Array.isArray(L)&&(C.providerData=L.map(O=>Object.assign({},O))),v&&(C._redirectEventId=v),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Na;s.updateFromServerResponse(n);const i=new ws({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?WT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Na;a.updateFromIdToken(r);const l=new ws({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;function _s(t){Os(t instanceof Function,"Expected a class definition");let e=zx.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HT.type="NONE";const $x=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e,n){return`firebase:${t}:${e}:${n}`}class Aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=qd(this.userKey,s.apiKey,i),this.fullPersistenceKey=qd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Aa(_s($x),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||_s($x);const o=qd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=ws._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Aa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Aa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(ZT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qT(t=_n()){return/firefox\//i.test(t)}function KT(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(t=_n()){return/crios\//i.test(t)}function QT(t=_n()){return/iemobile/i.test(t)}function YT(t=_n()){return/android/i.test(t)}function XT(t=_n()){return/blackberry/i.test(t)}function ZT(t=_n()){return/webos/i.test(t)}function e0(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qF(t=_n()){var e;return e0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KF(){return cL()&&document.documentMode===10}function JT(t=_n()){return e0(t)||YT(t)||ZT(t)||XT(t)||/windows phone/i.test(t)||QT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e=[]){let n;switch(t){case"Browser":n=Wx(_n());break;case"Worker":n=`${Wx(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e={}){return bl(t,"GET","/v2/passwordPolicy",Zv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6;class XF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hx(this),this.idTokenSubscription=new Hx(this),this.beforeStateQueue=new GF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $T(this,{idToken:e}),r=await ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ys(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(vo(this));const n=e?Jn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QF(this),n=new XF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Df(t){return Jn(t)}class Hx{constructor(e){this.auth=e,this.observer=null,this.addObserver=yL(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JF(t){t0=t}function eM(t){return t0.loadJS(t)}function tM(){return t0.gapiScript}function nM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){const n=Of(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ph(i,e??{}))return s;Gr(s,"already-initialized")}return n.initialize({options:e})}function sM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iM(t,e,n){const r=Df(t);Ve(r._canInitEmulator,r,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=tI(e),{host:o,port:a}=oM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),aM()}function tI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oM(t){const e=tI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:qx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:qx(o)}}}function qx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e){return LF(t,"POST","/v1/accounts:signInWithIdp",Zv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="http://localhost";class No extends nI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=gu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new No(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){const e={requestUri:lM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends n0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends vu{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends vu{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends vu{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ws._fromIdTokenResponse(e,r,s),o=Kx(r);return new rl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Kx(r);return new rl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Jr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Lh(e,n,r,s)}}function rI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,i,e,r):i})}async function cM(t,e,n=!1){const r=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e,n=!1){const{auth:r}=t;if(ys(r.app))return Promise.reject(vo(r));const s="reauthenticate";try{const i=await Kc(t,rI(r,s,e,t),n);Ve(i.idToken,r,"internal-error");const o=Jv(i.idToken);Ve(o,r,"internal-error");const{sub:a}=o;return Ve(t.uid===a,r,"user-mismatch"),rl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e,n=!1){if(ys(t.app))return Promise.reject(vo(t));const r="signIn",s=await rI(t,r,e),i=await rl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function hM(t,e,n,r){return Jn(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return Jn(t).beforeAuthStateChanged(e,n)}function pM(t){return Jn(t).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1e3,gM=10;class iI extends sI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);KF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iI.type="LOCAL";const yM=iI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends sI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oI.type="SESSION";const aI=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await vM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=r0("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function _M(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function xM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bM(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebaseLocalStorageDb",SM=1,Mh="firebaseLocalStorage",uI="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function CM(){const t=indexedDB.deleteDatabase(cI);return new wu(t).toPromise()}function Yg(){const t=indexedDB.open(cI,SM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mh,{keyPath:uI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await CM(),e(await Yg()))})})}async function Gx(t,e,n){const r=Lf(t,!0).put({[uI]:e,value:n});return new wu(r).toPromise()}async function TM(t,e){const n=Lf(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function Qx(t,e){const n=Lf(t,!0).delete(e);return new wu(n).toPromise()}const IM=800,kM=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(bM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xM(),!this.activeServiceWorker)return;this.sender=new wM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await Gx(e,Fh,"1"),await Qx(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Lf(s,!1).getAll();return new wu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const NM=dI;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){return e?_s(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends nI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AM(t){return dM(t.auth,new s0(t),t.bypassAuthState)}function RM(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),uM(n,new s0(t),t.bypassAuthState)}async function PM(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),cM(n,new s0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AM;case"linkViaPopup":case"linkViaRedirect":return PM;case"reauthViaPopup":case"reauthViaRedirect":return RM;default:Gr(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new yu(2e3,1e4);async function DM(t,e,n){if(ys(t.app))return Promise.reject(Ir(t,"operation-not-supported-in-this-environment"));const r=Df(t);AF(t,e,n0);const s=hI(r,n);return new oo(r,"signInViaPopup",e,s).executeNotNull()}class oo extends fI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OM.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="pendingRedirect",Kd=new Map;class LM extends fI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await FM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FM(t,e){const n=UM(e),r=VM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function MM(t,e){Kd.set(t._key(),e)}function VM(t){return _s(t._redirectPersistence)}function UM(t){return qd(jM,t.config.apiKey,t.name)}async function BM(t,e,n=!1){if(ys(t.app))return Promise.reject(vo(t));const r=Df(t),s=hI(r,e),o=await new LM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=10*60*1e3;class $M{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yx(e))}saveEventToCache(e){this.cachedEventUids.add(Yx(e)),this.lastProcessedEventTime=Date.now()}}function Yx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e={}){return bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KM=/^https?/;async function GM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HM(t);for(const n of e)try{if(QM(n))return}catch{}Gr(t,"unauthorized-domain")}function QM(t){const e=Gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KM.test(n))return!1;if(qM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new yu(3e4,6e4);function Xx(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XM(t){return new Promise((e,n)=>{var r,s,i;function o(){Xx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xx(),n(Ir(t,"network-request-failed"))},timeout:YM.get()})}if(!((s=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Wr().gapi)===null||i===void 0)&&i.load)o();else{const a=nM("iframefcb");return Wr()[a]=()=>{gapi.load?o():n(Ir(t,"network-request-failed"))},eM(`${tM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function ZM(t){return Gd=Gd||XM(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new yu(5e3,15e3),e4="__/auth/iframe",t4="emulator/auth/iframe",n4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s4(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,t4):`https://${t.config.authDomain}/${e4}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},s=r4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${mu(r).slice(1)}`}async function i4(t){const e=await ZM(t),n=Wr().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:s4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ir(t,"network-request-failed"),a=Wr().setTimeout(()=>{i(o)},JM.get());function l(){Wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a4=500,l4=600,c4="_blank",u4="http://localhost";class Zx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d4(t,e,n,r=a4,s=l4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},o4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=_n().toLowerCase();n&&(a=GT(c)?c4:n),qT(c)&&(e=e||u4,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(qF(c)&&a!=="_self")return h4(e||"",a),new Zx(null);const f=window.open(e||"",a,h);Ve(f,t,"popup-blocked");try{f.focus()}catch{}return new Zx(f)}function h4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__/auth/handler",p4="emulator/auth/handler",m4=encodeURIComponent("fac");async function Jx(t,e,n,r,s,i){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:s};if(e instanceof n0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof vu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${m4}=${encodeURIComponent(l)}`:"";return`${g4(t)}?${mu(a).slice(1)}${c}`}function g4({config:t}){return t.emulator?Xv(t,p4):`https://${t.authDomain}/${f4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=BM,this._overrideRedirectResult=MM}async _openPopup(e,n,r,s){var i;Os((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Jx(e,n,r,Gg(),s);return d4(e,o,r0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Jx(e,n,r,Gg(),s);return _M(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Os(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i4(e),r=new $M(e);return n.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[lm];o!==void 0&&n(!!o),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JT()||KT()||e0()}}const v4=y4;var eE="@firebase/auth",tE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x4(t){ko(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(t)},c=new ZF(r,s,i,l);return sM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Di("auth-internal",e=>{const n=Df(e.getProvider("auth").getImmediate());return(r=>new w4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(eE,tE,_4(t)),$r(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=5*60,b4=RT("authIdTokenMaxAge")||E4;let nE=null;const S4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b4)return;const s=n==null?void 0:n.token;nE!==s&&(nE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mI(t=Gv()){const e=Of(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rM(t,{popupRedirectResolver:v4,persistence:[NM,yM,aI]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=S4(i.toString());fM(n,o,()=>o(n.currentUser)),hM(n,a=>o(a))}}const s=kT("auth");return s&&iM(n,`http://${s}`),n}function C4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ir("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",C4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x4("Browser");var T4="firebase",I4="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(T4,I4,"app");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,gI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,k){function C(){}C.prototype=k.prototype,T.D=k.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(O,j,R){for(var D=Array(arguments.length-2),N=2;N<arguments.length;N++)D[N-2]=arguments[N];return k.prototype[j].apply(O,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,k,C){C||(C=0);var O=Array(16);if(typeof k=="string")for(var j=0;16>j;++j)O[j]=k.charCodeAt(C++)|k.charCodeAt(C++)<<8|k.charCodeAt(C++)<<16|k.charCodeAt(C++)<<24;else for(j=0;16>j;++j)O[j]=k[C++]|k[C++]<<8|k[C++]<<16|k[C++]<<24;k=T.g[0],C=T.g[1],j=T.g[2];var R=T.g[3],D=k+(R^C&(j^R))+O[0]+3614090360&4294967295;k=C+(D<<7&4294967295|D>>>25),D=R+(j^k&(C^j))+O[1]+3905402710&4294967295,R=k+(D<<12&4294967295|D>>>20),D=j+(C^R&(k^C))+O[2]+606105819&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(k^j&(R^k))+O[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=k+(R^C&(j^R))+O[4]+4118548399&4294967295,k=C+(D<<7&4294967295|D>>>25),D=R+(j^k&(C^j))+O[5]+1200080426&4294967295,R=k+(D<<12&4294967295|D>>>20),D=j+(C^R&(k^C))+O[6]+2821735955&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(k^j&(R^k))+O[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=k+(R^C&(j^R))+O[8]+1770035416&4294967295,k=C+(D<<7&4294967295|D>>>25),D=R+(j^k&(C^j))+O[9]+2336552879&4294967295,R=k+(D<<12&4294967295|D>>>20),D=j+(C^R&(k^C))+O[10]+4294925233&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(k^j&(R^k))+O[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=k+(R^C&(j^R))+O[12]+1804603682&4294967295,k=C+(D<<7&4294967295|D>>>25),D=R+(j^k&(C^j))+O[13]+4254626195&4294967295,R=k+(D<<12&4294967295|D>>>20),D=j+(C^R&(k^C))+O[14]+2792965006&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(k^j&(R^k))+O[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=k+(j^R&(C^j))+O[1]+4129170786&4294967295,k=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(k^C))+O[6]+3225465664&4294967295,R=k+(D<<9&4294967295|D>>>23),D=j+(k^C&(R^k))+O[11]+643717713&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^k&(j^R))+O[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=k+(j^R&(C^j))+O[5]+3593408605&4294967295,k=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(k^C))+O[10]+38016083&4294967295,R=k+(D<<9&4294967295|D>>>23),D=j+(k^C&(R^k))+O[15]+3634488961&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^k&(j^R))+O[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=k+(j^R&(C^j))+O[9]+568446438&4294967295,k=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(k^C))+O[14]+3275163606&4294967295,R=k+(D<<9&4294967295|D>>>23),D=j+(k^C&(R^k))+O[3]+4107603335&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^k&(j^R))+O[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=k+(j^R&(C^j))+O[13]+2850285829&4294967295,k=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(k^C))+O[2]+4243563512&4294967295,R=k+(D<<9&4294967295|D>>>23),D=j+(k^C&(R^k))+O[7]+1735328473&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^k&(j^R))+O[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=k+(C^j^R)+O[5]+4294588738&4294967295,k=C+(D<<4&4294967295|D>>>28),D=R+(k^C^j)+O[8]+2272392833&4294967295,R=k+(D<<11&4294967295|D>>>21),D=j+(R^k^C)+O[11]+1839030562&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^k)+O[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=k+(C^j^R)+O[1]+2763975236&4294967295,k=C+(D<<4&4294967295|D>>>28),D=R+(k^C^j)+O[4]+1272893353&4294967295,R=k+(D<<11&4294967295|D>>>21),D=j+(R^k^C)+O[7]+4139469664&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^k)+O[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=k+(C^j^R)+O[13]+681279174&4294967295,k=C+(D<<4&4294967295|D>>>28),D=R+(k^C^j)+O[0]+3936430074&4294967295,R=k+(D<<11&4294967295|D>>>21),D=j+(R^k^C)+O[3]+3572445317&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^k)+O[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=k+(C^j^R)+O[9]+3654602809&4294967295,k=C+(D<<4&4294967295|D>>>28),D=R+(k^C^j)+O[12]+3873151461&4294967295,R=k+(D<<11&4294967295|D>>>21),D=j+(R^k^C)+O[15]+530742520&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^k)+O[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=k+(j^(C|~R))+O[0]+4096336452&4294967295,k=C+(D<<6&4294967295|D>>>26),D=R+(C^(k|~j))+O[7]+1126891415&4294967295,R=k+(D<<10&4294967295|D>>>22),D=j+(k^(R|~C))+O[14]+2878612391&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~k))+O[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=k+(j^(C|~R))+O[12]+1700485571&4294967295,k=C+(D<<6&4294967295|D>>>26),D=R+(C^(k|~j))+O[3]+2399980690&4294967295,R=k+(D<<10&4294967295|D>>>22),D=j+(k^(R|~C))+O[10]+4293915773&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~k))+O[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=k+(j^(C|~R))+O[8]+1873313359&4294967295,k=C+(D<<6&4294967295|D>>>26),D=R+(C^(k|~j))+O[15]+4264355552&4294967295,R=k+(D<<10&4294967295|D>>>22),D=j+(k^(R|~C))+O[6]+2734768916&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~k))+O[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=k+(j^(C|~R))+O[4]+4149444226&4294967295,k=C+(D<<6&4294967295|D>>>26),D=R+(C^(k|~j))+O[11]+3174756917&4294967295,R=k+(D<<10&4294967295|D>>>22),D=j+(k^(R|~C))+O[2]+718787259&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~k))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var C=k-this.blockSize,O=this.B,j=this.h,R=0;R<k;){if(j==0)for(;R<=C;)s(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<k;)if(O[j++]=T.charCodeAt(R++),j==this.blockSize){s(this,O),j=0;break}}else for(;R<k;)if(O[j++]=T[R++],j==this.blockSize){s(this,O),j=0;break}}this.h=j,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var C=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=C&255,C/=256;for(this.u(T),T=Array(16),k=C=0;4>k;++k)for(var O=0;32>O;O+=8)T[C++]=this.g[k]>>>O&255;return T};function i(T,k){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=k(T)}function o(T,k){this.h=k;for(var C=[],O=!0,j=T.length-1;0<=j;j--){var R=T[j]|0;O&&R==k||(C[j]=R,O=!1)}this.g=C}var a={};function l(T){return-128<=T&&128>T?i(T,function(k){return new o([k|0],0>k?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var k=[],C=1,O=0;T>=C;O++)k[O]=T/C|0,C*=4294967296;return new o(k,0)}function h(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return v(h(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(k,8)),O=f,j=0;j<T.length;j+=8){var R=Math.min(8,T.length-j),D=parseInt(T.substring(j,j+R),k);8>R?(R=c(Math.pow(k,R)),O=O.j(R).add(c(D))):(O=O.j(C),O=O.add(c(D)))}return O}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,k=1,C=0;C<this.g.length;C++){var O=this.i(C);T+=(0<=O?O:4294967296+O)*k,k*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var k=c(Math.pow(T,6)),C=this,O="";;){var j=S(C,k).g;C=y(C,j.j(k));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=j,x(C))return R+O;for(;6>R.length;)R="0"+R;O=R+O}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=y(this,T),m(T)?-1:x(T)?0:1};function v(T){for(var k=T.g.length,C=[],O=0;O<k;O++)C[O]=~T.g[O];return new o(C,~T.h).add(p)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var k=Math.max(this.g.length,T.g.length),C=[],O=0,j=0;j<=k;j++){var R=O+(this.i(j)&65535)+(T.i(j)&65535),D=(R>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);O=D>>>16,R&=65535,D&=65535,C[j]=D<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function y(T,k){return T.add(v(k))}t.j=function(T){if(x(this)||x(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var k=this.g.length+T.g.length,C=[],O=0;O<2*k;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<T.g.length;j++){var R=this.i(O)>>>16,D=this.i(O)&65535,N=T.i(j)>>>16,G=T.i(j)&65535;C[2*O+2*j]+=D*G,w(C,2*O+2*j),C[2*O+2*j+1]+=R*G,w(C,2*O+2*j+1),C[2*O+2*j+1]+=D*N,w(C,2*O+2*j+1),C[2*O+2*j+2]+=R*N,w(C,2*O+2*j+2)}for(O=0;O<k;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=k;O<2*k;O++)C[O]=0;return new o(C,0)};function w(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function _(T,k){this.g=T,this.h=k}function S(T,k){if(x(k))throw Error("division by zero");if(x(T))return new _(f,f);if(m(T))return k=S(v(T),k),new _(v(k.g),v(k.h));if(m(k))return k=S(T,v(k)),new _(v(k.g),k.h);if(30<T.g.length){if(m(T)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var C=p,O=k;0>=O.l(T);)C=P(C),O=P(O);var j=L(C,1),R=L(O,1);for(O=L(O,2),C=L(C,2);!x(O);){var D=R.add(O);0>=D.l(T)&&(j=j.add(C),R=D),O=L(O,1),C=L(C,1)}return k=y(T,j.j(k)),new _(j,k)}for(j=f;0<=T.l(k);){for(C=Math.max(1,Math.floor(T.m()/k.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),R=c(C),D=R.j(k);m(D)||0<D.l(T);)C-=O,R=c(C),D=R.j(k);x(R)&&(R=p),j=j.add(R),T=y(T,D)}return new _(j,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var k=Math.max(this.g.length,T.g.length),C=[],O=0;O<k;O++)C[O]=this.i(O)&T.i(O);return new o(C,this.h&T.h)},t.or=function(T){for(var k=Math.max(this.g.length,T.g.length),C=[],O=0;O<k;O++)C[O]=this.i(O)|T.i(O);return new o(C,this.h|T.h)},t.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),C=[],O=0;O<k;O++)C[O]=this.i(O)^T.i(O);return new o(C,this.h^T.h)};function P(T){for(var k=T.g.length+1,C=[],O=0;O<k;O++)C[O]=T.i(O)<<1|T.i(O-1)>>>31;return new o(C,T.h)}function L(T,k){var C=k>>5;k%=32;for(var O=T.g.length-C,j=[],R=0;R<O;R++)j[R]=0<k?T.i(R+C)>>>k|T.i(R+C+1)<<32-k:T.i(R+C);return new o(j,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,wo=o}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yI,ac,vI,Qd,Xg,wI,_I,xI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,E,A){return u==Array.prototype||u==Object.prototype||(u[E]=A.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var E=0;E<u.length;++E){var A=u[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(u,E){if(E)e:{var A=r;u=u.split(".");for(var F=0;F<u.length-1;F++){var ne=u[F];if(!(ne in A))break e;A=A[ne]}u=u[u.length-1],F=A[u],E=E(F),E!=F&&E!=null&&e(A,u,{configurable:!0,writable:!0,value:E})}}function i(u,E){u instanceof String&&(u+="");var A=0,F=!1,ne={next:function(){if(!F&&A<u.length){var ae=A++;return{value:E(ae,u[ae]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}s("Array.prototype.values",function(u){return u||function(){return i(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var E=typeof u;return E=E!="object"?E:u?Array.isArray(u)?"array":E:"null",E=="array"||E=="object"&&typeof u.length=="number"}function c(u){var E=typeof u;return E=="object"&&u!=null||E=="function"}function h(u,E,A){return u.call.apply(u.bind,arguments)}function f(u,E,A){if(!u)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,F),u.apply(E,ne)}}return function(){return u.apply(E,arguments)}}function p(u,E,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,E){var A=Array.prototype.slice.call(arguments,1);return function(){var F=A.slice();return F.push.apply(F,arguments),u.apply(this,F)}}function x(u,E){function A(){}A.prototype=E.prototype,u.aa=E.prototype,u.prototype=new A,u.prototype.constructor=u,u.Qb=function(F,ne,ae){for(var be=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)be[gt-2]=arguments[gt];return E.prototype[ne].apply(F,be)}}function m(u){const E=u.length;if(0<E){const A=Array(E);for(let F=0;F<E;F++)A[F]=u[F];return A}return[]}function v(u,E){for(let A=1;A<arguments.length;A++){const F=arguments[A];if(l(F)){const ne=u.length||0,ae=F.length||0;u.length=ne+ae;for(let be=0;be<ae;be++)u[ne+be]=F[be]}else u.push(F)}}class y{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function S(u){return S[" "](u),u}S[" "]=function(){};var P=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(u,E,A){for(const F in u)E.call(A,u[F],F,u)}function T(u,E){for(const A in u)E.call(void 0,u[A],A,u)}function k(u){const E={};for(const A in u)E[A]=u[A];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,E){let A,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(A in F)u[A]=F[A];for(let ae=0;ae<C.length;ae++)A=C[ae],Object.prototype.hasOwnProperty.call(F,A)&&(u[A]=F[A])}}function j(u){var E=1;u=u.split(":");const A=[];for(;0<E&&u.length;)A.push(u.shift()),E--;return u.length&&A.push(u.join(":")),A}function R(u){a.setTimeout(()=>{throw u},0)}function D(){var u=B;let E=null;return u.g&&(E=u.g,u.g=u.g.next,u.g||(u.h=null),E.next=null),E}class N{constructor(){this.h=this.g=null}add(E,A){const F=G.get();F.set(E,A),this.h?this.h.next=F:this.g=F,this.h=F}}var G=new y(()=>new oe,u=>u.reset());class oe{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,K=!1,B=new N,Q=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(U)}};var U=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(A){R(A)}var E=G;E.j(u),100>E.h&&(E.h++,u.next=E.g,E.g=u)}K=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,E){this.type=u,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,E=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};a.addEventListener("test",A,E),a.removeEventListener("test",A,E)}catch{}return u}();function pe(u,E){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var A=this.type=u.type,F=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=E,E=u.relatedTarget){if(P){e:{try{S(E.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(E=null)}}else A=="mouseover"?E=u.fromElement:A=="mouseout"&&(E=u.toElement);this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pe.aa.h.call(this)}}x(pe,he);var le={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),re=0;function ce(u,E,A,F,ne){this.listener=u,this.proxy=null,this.src=E,this.type=A,this.capture=!!F,this.ha=ne,this.key=++re,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,E,A,F,ne){var ae=u.toString();u=this.g[ae],u||(u=this.g[ae]=[],this.h++);var be=Ae(u,E,F,ne);return-1<be?(E=u[be],A||(E.fa=!1)):(E=new ce(E,this.src,ae,!!F,ne),E.fa=A,u.push(E)),E};function te(u,E){var A=E.type;if(A in u.g){var F=u.g[A],ne=Array.prototype.indexOf.call(F,E,void 0),ae;(ae=0<=ne)&&Array.prototype.splice.call(F,ne,1),ae&&(Ee(E),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Ae(u,E,A,F){for(var ne=0;ne<u.length;++ne){var ae=u[ne];if(!ae.da&&ae.listener==E&&ae.capture==!!A&&ae.ha==F)return ne}return-1}var I="closure_lm_"+(1e6*Math.random()|0),J={};function ee(u,E,A,F,ne){if(Array.isArray(E)){for(var ae=0;ae<E.length;ae++)ee(u,E[ae],A,F,ne);return null}return A=de(A),u&&u[$]?u.K(E,A,c(F)?!!F.capture:!!F,ne):V(u,E,A,!1,F,ne)}function V(u,E,A,F,ne,ae){if(!E)throw Error("Invalid event type");var be=c(ne)?!!ne.capture:!!ne,gt=se(u);if(gt||(u[I]=gt=new ve(u)),A=gt.add(E,A,F,be,ae),A.proxy)return A;if(F=M(),A.proxy=F,F.src=u,F.listener=A,u.addEventListener)ue||(ne=be),ne===void 0&&(ne=!1),u.addEventListener(E.toString(),F,ne);else if(u.attachEvent)u.attachEvent(ie(E.toString()),F);else if(u.addListener&&u.removeListener)u.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return A}function M(){function u(A){return E.call(u.src,u.listener,A)}const E=W;return u}function q(u,E,A,F,ne){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)q(u,E[ae],A,F,ne);else F=c(F)?!!F.capture:!!F,A=de(A),u&&u[$]?(u=u.i,E=String(E).toString(),E in u.g&&(ae=u.g[E],A=Ae(ae,A,F,ne),-1<A&&(Ee(ae[A]),Array.prototype.splice.call(ae,A,1),ae.length==0&&(delete u.g[E],u.h--)))):u&&(u=se(u))&&(E=u.g[E.toString()],u=-1,E&&(u=Ae(E,A,F,ne)),(A=-1<u?E[u]:null)&&Y(A))}function Y(u){if(typeof u!="number"&&u&&!u.da){var E=u.src;if(E&&E[$])te(E.i,u);else{var A=u.type,F=u.proxy;E.removeEventListener?E.removeEventListener(A,F,u.capture):E.detachEvent?E.detachEvent(ie(A),F):E.addListener&&E.removeListener&&E.removeListener(F),(A=se(E))?(te(A,u),A.h==0&&(A.src=null,E[I]=null)):Ee(u)}}}function ie(u){return u in J?J[u]:J[u]="on"+u}function W(u,E){if(u.da)u=!0;else{E=new pe(E,this);var A=u.listener,F=u.ha||u.src;u.fa&&Y(u),u=A.call(F,E)}return u}function se(u){return u=u[I],u instanceof ve?u:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(u){return typeof u=="function"?u:(u[fe]||(u[fe]=function(E){return u.handleEvent(E)}),u[fe])}function ge(){z.call(this),this.i=new ve(this),this.M=this,this.F=null}x(ge,z),ge.prototype[$]=!0,ge.prototype.removeEventListener=function(u,E,A,F){q(this,u,E,A,F)};function Le(u,E){var A,F=u.F;if(F)for(A=[];F;F=F.F)A.push(F);if(u=u.M,F=E.type||E,typeof E=="string")E=new he(E,u);else if(E instanceof he)E.target=E.target||u;else{var ne=E;E=new he(F,u),O(E,ne)}if(ne=!0,A)for(var ae=A.length-1;0<=ae;ae--){var be=E.g=A[ae];ne=X(be,F,!0,E)&&ne}if(be=E.g=u,ne=X(be,F,!0,E)&&ne,ne=X(be,F,!1,E)&&ne,A)for(ae=0;ae<A.length;ae++)be=E.g=A[ae],ne=X(be,F,!1,E)&&ne}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var u=this.i,E;for(E in u.g){for(var A=u.g[E],F=0;F<A.length;F++)Ee(A[F]);delete u.g[E],u.h--}}this.F=null},ge.prototype.K=function(u,E,A,F){return this.i.add(String(u),E,!1,A,F)},ge.prototype.L=function(u,E,A,F){return this.i.add(String(u),E,!0,A,F)};function X(u,E,A,F){if(E=u.i.g[String(E)],!E)return!0;E=E.concat();for(var ne=!0,ae=0;ae<E.length;++ae){var be=E[ae];if(be&&!be.da&&be.capture==A){var gt=be.listener,en=be.ha||be.src;be.fa&&te(u.i,be),ne=gt.call(en,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function xe(u,E,A){if(typeof u=="function")A&&(u=p(u,A));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(u,E||0)}function Ce(u){u.g=xe(()=>{u.g=null,u.i&&(u.i=!1,Ce(u))},u.l);const E=u.h;u.h=null,u.m.apply(null,E)}class Se extends z{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(u){z.call(this),this.h=u,this.g={}}x(me,z);var Te=[];function We(u){L(u.g,function(E,A){this.g.hasOwnProperty(A)&&Y(E)},u),u.g={}}me.prototype.N=function(){me.aa.N.call(this),We(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=a.JSON.stringify,Fe=a.JSON.parse,at=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Qe(){}Qe.prototype.h=null;function Oe(u){return u.h||(u.h=u.i())}function Ye(){}var ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ke(){he.call(this,"d")}x(Ke,he);function Rt(){he.call(this,"c")}x(Rt,he);var Qt={},ze=null;function He(){return ze=ze||new ge}Qt.La="serverreachability";function nr(u){he.call(this,Qt.La,u)}x(nr,he);function Pt(u){const E=He();Le(E,new nr(E))}Qt.STAT_EVENT="statevent";function bn(u,E){he.call(this,Qt.STAT_EVENT,u),this.stat=E}x(bn,he);function ct(u){const E=He();Le(E,new bn(E,u))}Qt.Ma="timingevent";function Ot(u,E){he.call(this,Qt.Ma,u),this.size=E}x(Ot,he);function cn(u,E){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},E)}function st(){this.g=!0}st.prototype.xa=function(){this.g=!1};function $t(u,E,A,F,ne,ae){u.info(function(){if(u.g)if(ae)for(var be="",gt=ae.split("&"),en=0;en<gt.length;en++){var ot=gt[en].split("=");if(1<ot.length){var un=ot[0];ot=ot[1];var dn=un.split("_");be=2<=dn.length&&dn[1]=="type"?be+(un+"="+ot+"&"):be+(un+"=redacted&")}}else be=null;else be=ae;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+E+`
`+A+`
`+be})}function hr(u,E,A,F,ne,ae,be){u.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+E+`
`+A+`
`+ae+" "+be})}function fr(u,E,A,F){u.info(function(){return"XMLHTTP TEXT ("+E+"): "+dp(u,A)+(F?" "+F:"")})}function up(u,E){u.info(function(){return"TIMEOUT: "+E})}st.prototype.info=function(){};function dp(u,E){if(!u.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(u=0;u<A.length;u++)if(Array.isArray(A[u])){var F=A[u];if(!(2>F.length)){var ne=F[1];if(Array.isArray(ne)&&!(1>ne.length)){var ae=ne[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var be=1;be<ne.length;be++)ne[be]=""}}}}return Xe(A)}catch{return E}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hp;function Ru(){}x(Ru,Qe),Ru.prototype.g=function(){return new XMLHttpRequest},Ru.prototype.i=function(){return{}},hp=new Ru;function Us(u,E,A,F){this.j=u,this.i=E,this.l=A,this.R=F||1,this.U=new me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yw}function yw(){this.i=null,this.g="",this.h=!1}var vw={},fp={};function pp(u,E,A){u.L=1,u.v=ju(ns(E)),u.m=A,u.P=!0,ww(u,null)}function ww(u,E){u.F=Date.now(),Pu(u),u.A=ns(u.v);var A=u.A,F=u.R;Array.isArray(F)||(F=[String(F)]),Ow(A.i,"t",F),u.C=0,A=u.j.J,u.h=new yw,u.g=Xw(u.j,A?E:null,!u.m),0<u.O&&(u.M=new Se(p(u.Y,u,u.g),u.O)),E=u.U,A=u.g,F=u.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Te[0]=ne.toString()),ne=Te);for(var ae=0;ae<ne.length;ae++){var be=ee(A,ne[ae],F||E.handleEvent,!1,E.h||E);if(!be)break;E.g[be.key]=be}E=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,E)):(u.u="GET",u.g.ea(u.A,u.u,null,E)),Pt(),$t(u.i,u.u,u.A,u.l,u.R,u.m)}Us.prototype.ca=function(u){u=u.target;const E=this.M;E&&rs(u)==3?E.j():this.Y(u)},Us.prototype.Y=function(u){try{if(u==this.g)e:{const dn=rs(this.g);var E=this.g.Ba();const Wo=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||Uw(this.g)))){this.J||dn!=4||E==7||(E==8||0>=Wo?Pt(3):Pt(2)),mp(this);var A=this.g.Z();this.X=A;t:if(_w(this)){var F=Uw(this.g);u="";var ne=F.length,ae=rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),jl(this);var be="";break t}this.h.i=new a.TextDecoder}for(E=0;E<ne;E++)this.h.h=!0,u+=this.h.i.decode(F[E],{stream:!(ae&&E==ne-1)});F.length=0,this.h.g+=u,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=A==200,hr(this.i,this.u,this.A,this.l,this.R,dn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,en=this.g;if((gt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(gt)){var ot=gt;break t}}ot=null}if(A=ot)fr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gp(this,A);else{this.o=!1,this.s=3,ct(12),Xi(this),jl(this);break e}}if(this.P){A=!0;let pr;for(;!this.J&&this.C<be.length;)if(pr=RR(this,be),pr==fp){dn==4&&(this.s=4,ct(14),A=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==vw){this.s=4,ct(15),fr(this.i,this.l,be,"[Invalid Chunk]"),A=!1;break}else fr(this.i,this.l,pr,null),gp(this,pr);if(_w(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||be.length!=0||this.h.h||(this.s=1,ct(16),A=!1),this.o=this.o&&A,!A)fr(this.i,this.l,be,"[Invalid Chunked Response]"),Xi(this),jl(this);else if(0<be.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Ep(un),un.M=!0,ct(11))}}else fr(this.i,this.l,be,null),gp(this,be);dn==4&&Xi(this),this.o&&!this.J&&(dn==4?Kw(this.j,this):(this.o=!1,Pu(this)))}else GR(this.g),A==400&&0<be.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Xi(this),jl(this)}}}catch{}finally{}};function _w(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function RR(u,E){var A=u.C,F=E.indexOf(`
`,A);return F==-1?fp:(A=Number(E.substring(A,F)),isNaN(A)?vw:(F+=1,F+A>E.length?fp:(E=E.slice(F,F+A),u.C=F+A,E)))}Us.prototype.cancel=function(){this.J=!0,Xi(this)};function Pu(u){u.S=Date.now()+u.I,xw(u,u.I)}function xw(u,E){if(u.B!=null)throw Error("WatchDog timer not null");u.B=cn(p(u.ba,u),E)}function mp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Us.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(up(this.i,this.A),this.L!=2&&(Pt(),ct(17)),Xi(this),this.s=2,jl(this)):xw(this,this.S-u)};function jl(u){u.j.G==0||u.J||Kw(u.j,u)}function Xi(u){mp(u);var E=u.M;E&&typeof E.ma=="function"&&E.ma(),u.M=null,We(u.U),u.g&&(E=u.g,u.g=null,E.abort(),E.ma())}function gp(u,E){try{var A=u.j;if(A.G!=0&&(A.g==u||yp(A.h,u))){if(!u.K&&yp(A.h,u)&&A.G==3){try{var F=A.Da.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<u.F)Bu(A),Vu(A);else break e;xp(A),ct(18)}}else A.za=ne[1],0<A.za-A.T&&37500>ne[2]&&A.F&&A.v==0&&!A.C&&(A.C=cn(p(A.Za,A),6e3));if(1>=Sw(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ji(A,11)}else if((u.K||A.g==u)&&Bu(A),!w(E))for(ne=A.Da.g.parse(E),E=0;E<ne.length;E++){let ot=ne[E];if(A.T=ot[0],ot=ot[1],A.G==2)if(ot[0]=="c"){A.K=ot[1],A.ia=ot[2];const un=ot[3];un!=null&&(A.la=un,A.j.info("VER="+A.la));const dn=ot[4];dn!=null&&(A.Aa=dn,A.j.info("SVER="+A.Aa));const Wo=ot[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(F=1.5*Wo,A.L=F,A.j.info("backChannelRequestTimeoutMs_="+F)),F=A;const pr=u.g;if(pr){const $u=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($u){var ae=F.h;ae.g||$u.indexOf("spdy")==-1&&$u.indexOf("quic")==-1&&$u.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(vp(ae,ae.h),ae.h=null))}if(F.D){const bp=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(F.ya=bp,vt(F.I,F.D,bp))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-u.F,A.j.info("Handshake RTT: "+A.R+"ms")),F=A;var be=u;if(F.qa=Yw(F,F.J?F.ia:null,F.W),be.K){Cw(F.h,be);var gt=be,en=F.L;en&&(gt.I=en),gt.B&&(mp(gt),Pu(gt)),F.g=be}else Hw(F);0<A.i.length&&Uu(A)}else ot[0]!="stop"&&ot[0]!="close"||Ji(A,7);else A.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Ji(A,7):_p(A):ot[0]!="noop"&&A.l&&A.l.ta(ot),A.v=0)}}Pt(4)}catch{}}var PR=class{constructor(u,E){this.g=u,this.map=E}};function Ew(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sw(u){return u.h?1:u.g?u.g.size:0}function yp(u,E){return u.h?u.h==E:u.g?u.g.has(E):!1}function vp(u,E){u.g?u.g.add(E):u.h=E}function Cw(u,E){u.h&&u.h==E?u.h=null:u.g&&u.g.has(E)&&u.g.delete(E)}Ew.prototype.cancel=function(){if(this.i=Tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let E=u.i;for(const A of u.g.values())E=E.concat(A.D);return E}return m(u.i)}function OR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var E=[],A=u.length,F=0;F<A;F++)E.push(u[F]);return E}E=[],A=0;for(F in u)E[A++]=u[F];return E}function DR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var E=[];u=u.length;for(var A=0;A<u;A++)E.push(A);return E}E=[],A=0;for(const F in u)E[A++]=F;return E}}}function Iw(u,E){if(u.forEach&&typeof u.forEach=="function")u.forEach(E,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,E,void 0);else for(var A=DR(u),F=OR(u),ne=F.length,ae=0;ae<ne;ae++)E.call(void 0,F[ae],A&&A[ae],u)}var kw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jR(u,E){if(u){u=u.split("&");for(var A=0;A<u.length;A++){var F=u[A].indexOf("="),ne=null;if(0<=F){var ae=u[A].substring(0,F);ne=u[A].substring(F+1)}else ae=u[A];E(ae,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Zi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zi){this.h=u.h,Ou(this,u.j),this.o=u.o,this.g=u.g,Du(this,u.s),this.l=u.l;var E=u.i,A=new Ml;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),Nw(this,A),this.m=u.m}else u&&(E=String(u).match(kw))?(this.h=!1,Ou(this,E[1]||"",!0),this.o=Ll(E[2]||""),this.g=Ll(E[3]||"",!0),Du(this,E[4]),this.l=Ll(E[5]||"",!0),Nw(this,E[6]||"",!0),this.m=Ll(E[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}Zi.prototype.toString=function(){var u=[],E=this.j;E&&u.push(Fl(E,Aw,!0),":");var A=this.g;return(A||E=="file")&&(u.push("//"),(E=this.o)&&u.push(Fl(E,Aw,!0),"@"),u.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&u.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(Fl(A,A.charAt(0)=="/"?MR:FR,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",Fl(A,UR)),u.join("")};function ns(u){return new Zi(u)}function Ou(u,E,A){u.j=A?Ll(E,!0):E,u.j&&(u.j=u.j.replace(/:$/,""))}function Du(u,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);u.s=E}else u.s=null}function Nw(u,E,A){E instanceof Ml?(u.i=E,BR(u.i,u.h)):(A||(E=Fl(E,VR)),u.i=new Ml(E,u.h))}function vt(u,E,A){u.i.set(E,A)}function ju(u){return vt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ll(u,E){return u?E?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fl(u,E,A){return typeof u=="string"?(u=encodeURI(u).replace(E,LR),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function LR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aw=/[#\/\?@]/g,FR=/[#\?:]/g,MR=/[#\?]/g,VR=/[#\?@]/g,UR=/#/g;function Ml(u,E){this.h=this.g=null,this.i=u||null,this.j=!!E}function Bs(u){u.g||(u.g=new Map,u.h=0,u.i&&jR(u.i,function(E,A){u.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}t=Ml.prototype,t.add=function(u,E){Bs(this),this.i=null,u=zo(this,u);var A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(E),this.h+=1,this};function Rw(u,E){Bs(u),E=zo(u,E),u.g.has(E)&&(u.i=null,u.h-=u.g.get(E).length,u.g.delete(E))}function Pw(u,E){return Bs(u),E=zo(u,E),u.g.has(E)}t.forEach=function(u,E){Bs(this),this.g.forEach(function(A,F){A.forEach(function(ne){u.call(E,ne,F,this)},this)},this)},t.na=function(){Bs(this);const u=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let F=0;F<E.length;F++){const ne=u[F];for(let ae=0;ae<ne.length;ae++)A.push(E[F])}return A},t.V=function(u){Bs(this);let E=[];if(typeof u=="string")Pw(this,u)&&(E=E.concat(this.g.get(zo(this,u))));else{u=Array.from(this.g.values());for(let A=0;A<u.length;A++)E=E.concat(u[A])}return E},t.set=function(u,E){return Bs(this),this.i=null,u=zo(this,u),Pw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[E]),this.h+=1,this},t.get=function(u,E){return u?(u=this.V(u),0<u.length?String(u[0]):E):E};function Ow(u,E,A){Rw(u,E),0<A.length&&(u.i=null,u.g.set(zo(u,E),m(A)),u.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var F=E[A];const ae=encodeURIComponent(String(F)),be=this.V(F);for(F=0;F<be.length;F++){var ne=ae;be[F]!==""&&(ne+="="+encodeURIComponent(String(be[F]))),u.push(ne)}}return this.i=u.join("&")};function zo(u,E){return E=String(E),u.j&&(E=E.toLowerCase()),E}function BR(u,E){E&&!u.j&&(Bs(u),u.i=null,u.g.forEach(function(A,F){var ne=F.toLowerCase();F!=ne&&(Rw(this,F),Ow(this,ne,A))},u)),u.j=E}function zR(u,E){const A=new st;if(a.Image){const F=new Image;F.onload=g(zs,A,"TestLoadImage: loaded",!0,E,F),F.onerror=g(zs,A,"TestLoadImage: error",!1,E,F),F.onabort=g(zs,A,"TestLoadImage: abort",!1,E,F),F.ontimeout=g(zs,A,"TestLoadImage: timeout",!1,E,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=u}else E(!1)}function $R(u,E){const A=new st,F=new AbortController,ne=setTimeout(()=>{F.abort(),zs(A,"TestPingServer: timeout",!1,E)},1e4);fetch(u,{signal:F.signal}).then(ae=>{clearTimeout(ne),ae.ok?zs(A,"TestPingServer: ok",!0,E):zs(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),zs(A,"TestPingServer: error",!1,E)})}function zs(u,E,A,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(A)}catch{}}function WR(){this.g=new at}function HR(u,E,A){const F=A||"";try{Iw(u,function(ne,ae){let be=ne;c(ne)&&(be=Xe(ne)),E.push(F+ae+"="+encodeURIComponent(be))})}catch(ne){throw E.push(F+"type="+encodeURIComponent("_badmap")),ne}}function Lu(u){this.l=u.Ub||null,this.j=u.eb||!1}x(Lu,Qe),Lu.prototype.g=function(){return new Fu(this.l,this.j)},Lu.prototype.i=function(u){return function(){return u}}({});function Fu(u,E){ge.call(this),this.D=u,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Fu,ge),t=Fu.prototype,t.open=function(u,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=E,this.readyState=1,Ul(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(E.body=u),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var E=u.value?u.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!u.done}))&&(this.response=this.responseText+=E)}u.done?Vl(this):Ul(this),this.readyState==3&&Dw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vl(this))},t.Qa=function(u){this.g&&(this.response=u,Vl(this))},t.ga=function(){this.g&&Vl(this)};function Vl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ul(u)}t.setRequestHeader=function(u,E){this.u.append(u,E)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=E.next();return u.join(`\r
`)};function Ul(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jw(u){let E="";return L(u,function(A,F){E+=F,E+=":",E+=A,E+=`\r
`}),E}function wp(u,E,A){e:{for(F in A){var F=!1;break e}F=!0}F||(A=jw(A),typeof u=="string"?A!=null&&encodeURIComponent(String(A)):vt(u,E,A))}function kt(u){ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(kt,ge);var qR=/^https?$/i,KR=["POST","PUT"];t=kt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,E,A,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);E=E?E.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hp.g(),this.v=this.o?Oe(this.o):Oe(hp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(u),!0),this.B=!1}catch(ae){Lw(this,ae);return}if(u=A||"",A=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)A.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())A.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(A.keys()).find(ae=>ae.toLowerCase()=="content-type"),ne=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KR,E,void 0))||F||ne||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,be]of A)this.g.setRequestHeader(ae,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vw(this),this.u=!0,this.g.send(u),this.u=!1}catch(ae){Lw(this,ae)}};function Lw(u,E){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=E,u.m=5,Fw(u),Mu(u)}function Fw(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Le(this,"complete"),Le(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mw(this):this.bb())},t.bb=function(){Mw(this)};function Mw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||rs(u)!=4||u.Z()!=2)){if(u.u&&rs(u)==4)xe(u.Ea,0,u);else if(Le(u,"readystatechange"),rs(u)==4){u.h=!1;try{const be=u.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var F;if(F=be===0){var ne=String(u.D).match(kw)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),F=!qR.test(ne?ne.toLowerCase():"")}A=F}if(A)Le(u,"complete"),Le(u,"success");else{u.m=6;try{var ae=2<rs(u)?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.Z()+"]",Fw(u)}}finally{Mu(u)}}}}function Mu(u,E){if(u.g){Vw(u);const A=u.g,F=u.v[0]?()=>{}:null;u.g=null,u.v=null,E||Le(u,"ready");try{A.onreadystatechange=F}catch{}}}function Vw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function rs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<rs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var E=this.g.responseText;return u&&E.indexOf(u)==0&&(E=E.substring(u.length)),Fe(E)}};function Uw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function GR(u){const E={};u=(u.g&&2<=rs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<u.length;F++){if(w(u[F]))continue;var A=j(u[F]);const ne=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ae=E[ne]||[];E[ne]=ae,ae.push(A)}T(E,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bl(u,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||E}function Bw(u){this.Aa=0,this.i=[],this.j=new st,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,u),this.cb=Bl("retryDelaySeedMs",1e4,u),this.Wa=Bl("forwardChannelMaxRetries",2,u),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ew(u&&u.concurrentRequestLimit),this.Da=new WR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bw.prototype,t.la=8,t.G=1,t.connect=function(u,E,A,F){ct(0),this.W=u,this.H=E||{},A&&F!==void 0&&(this.H.OSID=A,this.H.OAID=F),this.F=this.X,this.I=Yw(this,null,this.W),Uu(this)};function _p(u){if(zw(u),u.G==3){var E=u.U++,A=ns(u.I);if(vt(A,"SID",u.K),vt(A,"RID",E),vt(A,"TYPE","terminate"),zl(u,A),E=new Us(u,u.j,E),E.L=2,E.v=ju(ns(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=E.v,A=!0),A||(E.g=Xw(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pu(E)}Qw(u)}function Vu(u){u.g&&(Ep(u),u.g.cancel(),u.g=null)}function zw(u){Vu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Bu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Uu(u){if(!bw(u.h)&&!u.s){u.s=!0;var E=u.Ga;Z||Q(),K||(Z(),K=!0),B.add(E,u),u.B=0}}function QR(u,E){return Sw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=E.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=cn(p(u.Ga,u,E),Gw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const ne=new Us(this,this.j,u);let ae=this.o;if(this.S&&(ae?(ae=k(ae),O(ae,this.S)):ae=this.S),this.m!==null||this.O||(ne.H=ae,ae=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var F=this.i[A];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=Ww(this,ne,E),A=ns(this.I),vt(A,"RID",u),vt(A,"CVER",22),this.D&&vt(A,"X-HTTP-Session-Id",this.D),zl(this,A),ae&&(this.O?E="headers="+encodeURIComponent(String(jw(ae)))+"&"+E:this.m&&wp(A,this.m,ae)),vp(this.h,ne),this.Ua&&vt(A,"TYPE","init"),this.P?(vt(A,"$req",E),vt(A,"SID","null"),ne.T=!0,pp(ne,A,null)):pp(ne,A,E),this.G=2}}else this.G==3&&(u?$w(this,u):this.i.length==0||bw(this.h)||$w(this))};function $w(u,E){var A;E?A=E.l:A=u.U++;const F=ns(u.I);vt(F,"SID",u.K),vt(F,"RID",A),vt(F,"AID",u.T),zl(u,F),u.m&&u.o&&wp(F,u.m,u.o),A=new Us(u,u.j,A,u.B+1),u.m===null&&(A.H=u.o),E&&(u.i=E.D.concat(u.i)),E=Ww(u,A,1e3),A.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vp(u.h,A),pp(A,F,E)}function zl(u,E){u.H&&L(u.H,function(A,F){vt(E,F,A)}),u.l&&Iw({},function(A,F){vt(E,F,A)})}function Ww(u,E,A){A=Math.min(u.i.length,A);var F=u.l?p(u.l.Na,u.l,u):null;e:{var ne=u.i;let ae=-1;for(;;){const be=["count="+A];ae==-1?0<A?(ae=ne[0].g,be.push("ofs="+ae)):ae=0:be.push("ofs="+ae);let gt=!0;for(let en=0;en<A;en++){let ot=ne[en].g;const un=ne[en].map;if(ot-=ae,0>ot)ae=Math.max(0,ne[en].g-100),gt=!1;else try{HR(un,be,"req"+ot+"_")}catch{F&&F(un)}}if(gt){F=be.join("&");break e}}}return u=u.i.splice(0,A),E.D=u,F}function Hw(u){if(!u.g&&!u.u){u.Y=1;var E=u.Fa;Z||Q(),K||(Z(),K=!0),B.add(E,u),u.v=0}}function xp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=cn(p(u.Fa,u),Gw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,qw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=cn(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Vu(this),qw(this))};function Ep(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function qw(u){u.g=new Us(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var E=ns(u.qa);vt(E,"RID","rpc"),vt(E,"SID",u.K),vt(E,"AID",u.T),vt(E,"CI",u.F?"0":"1"),!u.F&&u.ja&&vt(E,"TO",u.ja),vt(E,"TYPE","xmlhttp"),zl(u,E),u.m&&u.o&&wp(E,u.m,u.o),u.L&&(u.g.I=u.L);var A=u.g;u=u.ia,A.L=1,A.v=ju(ns(E)),A.m=null,A.P=!0,ww(A,u)}t.Za=function(){this.C!=null&&(this.C=null,Vu(this),xp(this),ct(19))};function Bu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Kw(u,E){var A=null;if(u.g==E){Bu(u),Ep(u),u.g=null;var F=2}else if(yp(u.h,E))A=E.D,Cw(u.h,E),F=1;else return;if(u.G!=0){if(E.o)if(F==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var ne=u.B;F=He(),Le(F,new Ot(F,A)),Uu(u)}else Hw(u);else if(ne=E.s,ne==3||ne==0&&0<E.X||!(F==1&&QR(u,E)||F==2&&xp(u)))switch(A&&0<A.length&&(E=u.h,E.i=E.i.concat(A)),ne){case 1:Ji(u,5);break;case 4:Ji(u,10);break;case 3:Ji(u,6);break;default:Ji(u,2)}}}function Gw(u,E){let A=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(A*=2),A*E}function Ji(u,E){if(u.j.info("Error code "+E),E==2){var A=p(u.fb,u),F=u.Xa;const ne=!F;F=new Zi(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ou(F,"https"),ju(F),ne?zR(F.toString(),A):$R(F.toString(),A)}else ct(2);u.G=0,u.l&&u.l.sa(E),Qw(u),zw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Qw(u){if(u.G=0,u.ka=[],u.l){const E=Tw(u.h);(E.length!=0||u.i.length!=0)&&(v(u.ka,E),v(u.ka,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.ra()}}function Yw(u,E,A){var F=A instanceof Zi?ns(A):new Zi(A);if(F.g!="")E&&(F.g=E+"."+F.g),Du(F,F.s);else{var ne=a.location;F=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;var ae=new Zi(null);F&&Ou(ae,F),E&&(ae.g=E),ne&&Du(ae,ne),A&&(ae.l=A),F=ae}return A=u.D,E=u.ya,A&&E&&vt(F,A,E),vt(F,"VER",u.la),zl(u,F),F}function Xw(u,E,A){if(E&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=u.Ca&&!u.pa?new kt(new Lu({eb:A})):new kt(u.pa),E.Ha(u.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zw(){}t=Zw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zu(){}zu.prototype.g=function(u,E){return new zn(u,E)};function zn(u,E){ge.call(this),this.g=new Bw(E),this.l=u,this.h=E&&E.messageUrlParams||null,u=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(u?u["X-WebChannel-Content-Type"]=E.messageContentType:u={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(u?u["X-WebChannel-Client-Profile"]=E.va:u={"X-WebChannel-Client-Profile":E.va}),this.g.S=u,(u=E&&E.Sb)&&!w(u)&&(this.g.m=u),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!w(E)&&(this.g.D=E,u=this.h,u!==null&&E in u&&(u=this.h,E in u&&delete u[E])),this.j=new $o(this)}x(zn,ge),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){_p(this.g)},zn.prototype.o=function(u){var E=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.u&&(A={},A.__data__=Xe(u),u=A);E.i.push(new PR(E.Ya++,u)),E.G==3&&Uu(E)},zn.prototype.N=function(){this.g.l=null,delete this.j,_p(this.g),delete this.g,zn.aa.N.call(this)};function Jw(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var E=u.__sm__;if(E){e:{for(const A in E){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,E=E!==null&&u in E?E[u]:void 0),this.data=E}else this.data=u}x(Jw,Ke);function e_(){Rt.call(this),this.status=1}x(e_,Rt);function $o(u){this.g=u}x($o,Zw),$o.prototype.ua=function(){Le(this.g,"a")},$o.prototype.ta=function(u){Le(this.g,new Jw(u))},$o.prototype.sa=function(u){Le(this.g,new e_)},$o.prototype.ra=function(){Le(this.g,"b")},zu.prototype.createWebChannel=zu.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,xI=function(){return new zu},_I=function(){return He()},wI=Qt,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,Qd=Au,gw.COMPLETE="complete",vI=gw,Ye.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",ge.prototype.listen=ge.prototype.K,ac=Ye,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,yI=kt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new qv("@firebase/firestore");function ea(){return Ao.logLevel}function ke(t,...e){if(Ao.logLevel<=Je.DEBUG){const n=e.map(i0);Ao.debug(`Firestore (${Sl}): ${t}`,...n)}}function Ds(t,...e){if(Ao.logLevel<=Je.ERROR){const n=e.map(i0);Ao.error(`Firestore (${Sl}): ${t}`,...n)}}function sl(t,...e){if(Ao.logLevel<=Je.WARN){const n=e.map(i0);Ao.warn(`Firestore (${Sl}): ${t}`,...n)}}function i0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+t;throw Ds(e),new Error(e)}function dt(t,e){t||Me()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class N4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ci,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new EI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new gn(e)}}class R4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class P4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new R4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){dt(this.o===void 0);const r=i=>{i.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new O4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=j4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function il(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Kt(0,0))}static max(){return new Ue(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xt extends Gc{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const L4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Gc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return L4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Re(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Re(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Re(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(xt.fromString(e))}static fromName(e){return new De(xt.fromString(e).popFirst(5))}static empty(){return new De(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new xt(e.slice()))}}function F4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new ji(s,De.empty(),e)}function M4(t){return new ji(t.readTime,t.key,-1)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(Ue.min(),De.empty(),-1)}static max(){return new ji(Ue.max(),De.empty(),-1)}}function V4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==U4)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new ye((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function z4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ff.oe=-1;function Mf(t){return t==null}function Vh(t){return t===0&&1/t==-1/0}function $4(t){return typeof t=="number"&&Number.isInteger(t)&&!Vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iE(e)),e=H4(t.get(n),e);return iE(e)}function H4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function iE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nn.RED,this.left=s??nn.EMPTY,this.right=i??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,s,i){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new xs([])}unionWith(e){let n=new Gt(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new CI("Invalid base64 string: "+i):i}}(e);return new an(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(dt(!!t),typeof t=="string"){let e=0;const n=q4.exec(t);if(dt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vf(t){const e=t.mapValue.fields.__previous_value__;return o0(e)?Vf(e):e}function Qc(t){const e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o0(t)?4:Q4(t)?9007199254740991:G4(t)?10:11:Me()}function Qr(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Li(s.timestampValue),a=Li(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fi(s.bytesValue).isEqual(Fi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Dt(s.doubleValue),a=Dt(i.doubleValue);return o===a?Vh(o)===Vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(oE(o)!==oE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qr(o[l],a[l])))return!1;return!0}(t,e);default:return Me()}}function Xc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function ol(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Dt(i.integerValue||i.doubleValue),l=Dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lE(t.timestampValue,e.timestampValue);case 4:return lE(Qc(t),Qc(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fi(i),l=Fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=nt(a[c],l[c]);if(h!==0)return h}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=nt(Dt(i.latitude),Dt(o.latitude));return a!==0?a:nt(Dt(i.longitude),Dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,x=(l=p.value)===null||l===void 0?void 0:l.arrayValue,m=nt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return m!==0?m:cE(g,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===md.mapValue&&o===md.mapValue)return 0;if(i===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=nt(l[f],h[f]);if(p!==0)return p;const g=ol(a[l[f]],c[h[f]]);if(g!==0)return g}return nt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Me()}}function lE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Li(t),r=Li(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function cE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ol(n[s],r[s]);if(i)return i}return nt(n.length,r.length)}function al(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zg(n.fields[o])}`;return s+"}"}(t.mapValue):Me()}function Yd(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return Fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Yd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Vo(r.fields,(i,o)=>{s+=i.length+Yd(o)}),s}(t.mapValue);default:throw Me()}}function uE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jg(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function hE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function G4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=rn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=bc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new br(bc(this.value))}}function TI(t){const e=[];return Vo(t.fields,(n,r)=>{const s=new rn([n]);if(Xd(r)){const i=TI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vn(e,0,Ue.min(),Ue.min(),Ue.min(),br.empty(),0)}static newFoundDocument(e,n,r,s){return new vn(e,1,n,Ue.min(),r,s,0)}static newNoDocument(e,n){return new vn(e,2,n,Ue.min(),Ue.min(),br.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ue.min(),Ue.min(),br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function fE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=De.comparator(De.fromName(o.referenceValue),n.key):r=ol(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function pE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{}class zt extends II{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z4(e,n,r):n==="array-contains"?new tV(e,r):n==="in"?new nV(e,r):n==="not-in"?new rV(e,r):n==="array-contains-any"?new sV(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J4(e,r):new eV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ol(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends II{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ar(e,n)}matches(e){return kI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kI(t){return t.op==="and"}function NI(t){return X4(t)&&kI(t)}function X4(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function ey(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(NI(t))return t.filters.map(e=>ey(e)).join(",");{const e=t.filters.map(n=>ey(n)).join(",");return`${t.op}(${e})`}}function AI(t,e){return t instanceof zt?function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Qr(r.value,s.value)}(t,e):t instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&AI(o,s.filters[a]),!0):!1}(t,e):void Me()}function RI(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(RI).join(" ,")+"}"}(t):"Filter"}class Z4 extends zt{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class J4 extends zt{constructor(e,n){super(e,"in",n),this.keys=PI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eV extends zt{constructor(e,n){super(e,"not-in",n),this.keys=PI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class tV extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&Xc(n.arrayValue,this.value)}}class nV extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class rV extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class sV extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function mE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new iV(t,e,n,r,s,i,o)}function l0(t){const e=Be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>al(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>al(r)).join(",")),e.ue=n}return e.ue}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pE(t.startAt,e.startAt)&&pE(t.endAt,e.endAt)}function ty(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oV(t,e,n,r,s,i,o,a){return new _u(t,e,n,r,s,i,o,a)}function OI(t){return new _u(t)}function gE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DI(t){return t.collectionGroup!==null}function Sc(t){const e=Be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gt(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Bh(i,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new Bh(rn.keyField(),r))}return e.ce}function Hr(t){const e=Be(t);return e.le||(e.le=aV(e,Sc(t))),e.le}function aV(t,e){if(t.limitType==="F")return mE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bh(s.field,i)});const n=t.endAt?new Uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uh(t.startAt.position,t.startAt.inclusive):null;return mE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ny(t,e){const n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ry(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uf(t,e){return c0(Hr(t),Hr(e))&&t.limitType===e.limitType}function jI(t){return`${l0(Hr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>RI(s)).join(", ")}]`),Mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>al(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>al(s)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):De.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=fE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Sc(r),s)||r.endAt&&!function(o,a,l){const c=fE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Sc(r),s))}(t,e)}function lV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LI(t){return(e,n)=>{let r=!1;for(const s of Sc(t)){const i=cV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function cV(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ol(l,c):Me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return SI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new It(De.comparator);function js(){return uV}const FI=new It(De.comparator);function lc(...t){let e=FI;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=FI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ao(){return Cc()}function VI(){return Cc()}function Cc(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const dV=new It(De.comparator),hV=new Gt(De.comparator);function et(...t){let e=hV;for(const n of t)e=e.add(n);return e}const fV=new Gt(nt);function pV(){return fV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function UI(t){return{integerValue:""+t}}function mV(t,e){return $4(e)?UI(e):u0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function gV(t,e,n){return t instanceof zh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&o0(i)&&(i=Vf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zc?zI(t,e):t instanceof Jc?$I(t,e):function(s,i){const o=BI(s,i),a=yE(o)+yE(s.Pe);return Jg(o)&&Jg(s.Pe)?UI(a):u0(s.serializer,a)}(t,e)}function yV(t,e,n){return t instanceof Zc?zI(t,e):t instanceof Jc?$I(t,e):n}function BI(t,e){return t instanceof $h?function(r){return Jg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zh extends zf{}class Zc extends zf{constructor(e){super(),this.elements=e}}function zI(t,e){const n=WI(e);for(const r of t.elements)n.some(s=>Qr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends zf{constructor(e){super(),this.elements=e}}function $I(t,e){let n=WI(e);for(const r of t.elements)n=n.filter(s=>!Qr(s,r));return{arrayValue:{values:n}}}class $h extends zf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function yE(t){return Dt(t.integerValue||t.doubleValue)}function WI(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zc&&s instanceof Zc||r instanceof Jc&&s instanceof Jc?il(r.elements,s.elements,Qr):r instanceof $h&&s instanceof $h?Qr(r.Pe,s.Pe):r instanceof zh&&s instanceof zh}(t.transform,e.transform)}class wV{constructor(e,n){this.version=e,this.transformResults=n}}class bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $f{}function HI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d0(t.key,bs.none()):new Wf(t.key,t.data,bs.none());{const n=t.data,r=br.empty();let s=new Gt(rn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Il(t.key,r,new xs(s.toArray()),bs.none())}}function _V(t,e,n){t instanceof Wf?function(s,i,o){const a=s.value.clone(),l=wE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Il?function(s,i,o){if(!Zd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=wE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(qI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,r){return t instanceof Wf?function(i,o,a,l){if(!Zd(i.precondition,o))return a;const c=i.value.clone(),h=_E(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Il?function(i,o,a,l){if(!Zd(i.precondition,o))return a;const c=_E(i.fieldTransforms,l,o),h=o.data;return h.setAll(qI(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Zd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function xV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=BI(r.transform,s||null);i!=null&&(n===null&&(n=br.empty()),n.set(r.field,i))}return n||null}function vE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&il(r,s,(i,o)=>vV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wf extends $f{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Il extends $f{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wE(t,e,n){const r=new Map;dt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yV(o,a,n[s]))}return r}function _E(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gV(i,o,e))}return r}class d0 extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EV extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_V(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=HI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(n,r)=>vE(n,r))&&il(this.baseMutations,e.baseMutations,(n,r)=>vE(n,r))}}class h0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){dt(e.mutations.length===r.length);let s=function(){return dV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new h0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,rt;function TV(t){switch(t){default:return Me();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function KI(t){if(t===void 0)return Ds("GRPC error has no .code"),we.UNKNOWN;switch(t){case Ft.OK:return we.OK;case Ft.CANCELLED:return we.CANCELLED;case Ft.UNKNOWN:return we.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return we.INTERNAL;case Ft.UNAVAILABLE:return we.UNAVAILABLE;case Ft.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ft.NOT_FOUND:return we.NOT_FOUND;case Ft.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ft.ABORTED:return we.ABORTED;case Ft.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ft.DATA_LOSS:return we.DATA_LOSS;default:return Me()}}(rt=Ft||(Ft={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new wo([4294967295,4294967295],0);function xE(t){const e=IV().encode(t),n=new gI;return n.update(e),new Uint8Array(n.digest())}function EE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wo([n,r],0),new wo([s,i],0)]}class f0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(r<0)throw new cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=wo.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(wo.fromNumber(r)));return s.compare(kV)===1&&(s=new wo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xE(e),[r,s]=EE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new f0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=xE(e),[r,s]=EE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(Ue.min(),s,new It(nt),js(),et())}}class xu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class GI{constructor(e,n){this.targetId=e,this.me=n}}class QI{constructor(e,n,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bE{constructor(){this.fe=0,this.ge=SE(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),r=et();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me()}}),new xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=SE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NV{constructor(e){this.Le=e,this.Be=new Map,this.ke=js(),this.qe=gd(),this.Qe=gd(),this.Ke=new It(nt)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(ty(i))if(r===0){const o=new De(i.path);this.We(n,o,vn.newNoDocument(o,Ue.min()))}else dt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fi(r).toUint8Array()}catch(l){if(l instanceof CI)return sl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new f0(o,s,i)}catch(l){return sl(l instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ty(a.target)){const l=new De(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,vn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=et();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Hf(e,n,this.Ke,this.ke,r);return this.ke=js(),this.qe=gd(),this.Qe=gd(),this.Ke=new It(nt),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new bE,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Gt(nt),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(nt),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new bE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gd(){return new It(De.comparator)}function SE(){return new It(De.comparator)}const AV={asc:"ASCENDING",desc:"DESCENDING"},RV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PV={and:"AND",or:"OR"};class OV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function Wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DV(t,e){return Wh(t,e.toTimestamp())}function qr(t){return dt(!!t),Ue.fromTimestamp(function(n){const r=Li(n);return new Kt(r.seconds,r.nanos)}(t))}function p0(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(s){return new xt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XI(t){const e=xt.fromString(t);return dt(nk(e)),e}function oy(t,e){return p0(t.databaseId,e.path)}function cm(t,e){const n=XI(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(JI(n))}function ZI(t,e){return p0(t.databaseId,e)}function jV(t){const e=XI(t);return e.length===4?xt.emptyPath():JI(e)}function ay(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JI(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CE(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function LV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(dt(h===void 0||typeof h=="string"),an.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),an.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?we.UNKNOWN:KI(c.code);return new Re(h,c.message||"")}(o);n=new QI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cm(t,r.document.name),i=qr(r.document.updateTime),o=r.document.createTime?qr(r.document.createTime):Ue.min(),a=new br({mapValue:{fields:r.document.fields}}),l=vn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Jd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cm(t,r.document),i=r.readTime?qr(r.readTime):Ue.min(),o=vn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Jd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cm(t,r.document),i=r.removedTargetIds||[];n=new Jd([],i,s,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new CV(s,i),a=r.targetId;n=new GI(a,o)}}return n}function FV(t,e){let n;if(e instanceof Wf)n={update:CE(t,e.key,e.value)};else if(e instanceof d0)n={delete:oy(t,e.key)};else if(e instanceof Il)n={update:CE(t,e.key,e.data),updateMask:qV(e.fieldMask)};else{if(!(e instanceof EV))return Me();n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $h)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:DV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Me()}(t,e.precondition)),n}function MV(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?qr(s.updateTime):qr(i);return o.isEqual(Ue.min())&&(o=qr(i)),new wV(o,s.transformResults||[])}(n,e))):[]}function VV(t,e){return{documents:[ZI(t,e.path)]}}function UV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZI(t,s);const i=function(c){if(c.length!==0)return tk(Ar.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:na(p.field),direction:$V(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:s}}function BV(t){let e=jV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){dt(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=ek(f);return p instanceof Ar&&NI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new Bh(ra(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Mf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Uh(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Uh(g,p)}(n.endAt)),oV(e,s,o,i,a,"F",l,c)}function zV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ek(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ra(n.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>ek(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function $V(t){return AV[t]}function WV(t){return RV[t]}function HV(t){return PV[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return rn.fromServerFormat(t.fieldPath)}function tk(t){return t instanceof zt?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:WV(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(s=>tk(s));return r.length===1?r[0]:{compositeFilter:{op:HV(n.op),filters:r}}}(t):Me()}function qV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,s,i=Ue.min(),o=Ue.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.ht=e}}function GV(t){const e=BV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.ln=new YV}addToCollectionParentIndex(e,n){return this.ln.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(ji.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class YV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Gt(xt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Gt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ll(0)}static Qn(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class XV{constructor(e){this.Gn=e,this.buffer=new Gt(IE),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tl(n)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Yn(3e5)})}}class JV{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Ff.oe);const r=new XV(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(TE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ea()<=Je.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function e3(t,e){return new JV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Tc(r.mutation,s,xs.empty(),Kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=ao();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=lc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=js();const o=Cc(),a=function(){return Cc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Il)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Tc(h.mutation,c,h.mutation.getFieldMask(),Kt.now())):o.set(c.key,xs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new n3(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new It((o,a)=>o-a),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||xs.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||et()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=VI();h.forEach(p=>{if(!i.has(p)){const g=HI(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ye.resolve(ao());let a=-1,l=i;return o.next(c=>ye.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,et())).next(h=>({batchId:a,changes:MI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,i).next(a=>ye.forEach(a,l=>{const c=function(f,p){return new _u(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,vn.newInvalidDocument(h)))});let a=lc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Tc(h.mutation,c,xs.empty(),Kt.now()),Bf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ye.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qr(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:GV(s.bundledQuery),readTime:qr(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.overlays=new It(De.comparator),this.Er=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ao();return ye.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=ao(),i=n.length+1,o=new De(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new It((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=ao(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ao(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return ye.resolve(a)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SV(n,r));let i=this.Er.get(n);i===void 0&&(i=et(),this.Er.set(n,i)),this.Er.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.dr=new Gt(Yt.Ar),this.Rr=new Gt(Yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Yt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new De(new xt([])),r=new Yt(n,e),s=new Yt(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new De(new xt([])),r=new Yt(n,e),s=new Yt(n,e+1);let i=et();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Yt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return De.comparator(e.key,n.key)||nt(e.br,n.br)}static Vr(e,n){return nt(e.br,n.br)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Gt(Yt.Ar)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.vr=this.vr.add(new Yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),s=new Yt(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const a=this.Cr(o.br);i.push(a)}),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(nt);return n.forEach(s=>{const i=new Yt(s,0),o=new Yt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],a=>{r=r.add(a.br)})}),ye.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;De.isDocumentKey(i)||(i=i.child(""));const o=new Yt(new De(i),0);let a=new Gt(nt);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.br)),!0)},o),ye.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ye.forEach(n.mutations,s=>{const i=new Yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Yt(n,0),s=this.vr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.Nr=e,this.docs=function(){return new It(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=js();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vn.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=js();const o=n.path,a=new De(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V4(M4(h),r)<=0||(s.has(h.key)||Bf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Me()}Lr(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new c3(this)}getSize(e){return ye.resolve(this.size)}}class c3 extends t3{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.persistence=e,this.Br=new Uo(n=>l0(n),c0),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.kr=0,this.qr=new m0,this.targetCount=0,this.Qr=ll.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),ye.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Un(n),ye.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ye.waitFor(i).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ye.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Ff(0),this.Ur=!1,this.Ur=!0,this.Wr=new o3,this.referenceDelegate=e(this),this.Gr=new u3(this),this.indexManager=new QV,this.remoteDocumentCache=function(s){return new l3(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new KV(n),this.jr=new s3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new a3(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const s=new d3(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return ye.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class d3 extends B4{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Zr=new m0,this.Xr=null}static ei(e){return new g0(e)}get ti(){if(this.Xr)return this.Xr;throw Me()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.ti,r=>{const s=De.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,Ue.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ye.or([()=>ye.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.ri=new Uo(r=>W4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=e3(this,n)}static ei(e,n){return new Hh(e,n)}Hr(){}Jr(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return ye.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?ye.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ye.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}ir(e,n,r){return ye.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new y0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return uL()?8:z4(_n())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new h3;return this.ts(e,n,o).next(a=>{if(i.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(ea()<=Je.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ye.resolve()):(ea()<=Je.DEBUG&&ke("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ea()<=Je.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ye.resolve())}Xi(e,n){if(gE(n))return ye.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ry(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=et(...i);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,ry(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,s){return gE(n)||s.isEqual(Ue.min())?ye.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?ye.resolve(null):(ea()<=Je.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.os(e,o,n,F4(s,-1)).next(a=>a))})}rs(e,n){let r=new Gt(LI(e));return n.forEach((s,i)=>{Bf(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return ea()<=Je.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ta(n)),this.Zi.getDocumentsMatchingQuery(e,n,ji.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new It(nt),this.cs=new Uo(i=>l0(i),c0),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r3(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function m3(t,e,n,r){return new p3(t,e,n,r)}async function sk(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=et();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function g3(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let g=ye.resolve();return p.forEach(x=>{g=g.next(()=>h.getEntry(l,x)).next(m=>{const v=c.docVersions.get(x);dt(v!==null),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),h.addEntry(m)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=et();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ik(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function y3(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Gr.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(an.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,g,h)&&a.push(n.Gr.updateTargetData(i,g))});let l=js(),c=et();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(v3(i,o,e.documentUpdates).next(h=>{l=h.Is,c=h.Es})),!r.isEqual(Ue.min())){const h=n.Gr.getLastRemoteSnapshotVersion(i).next(f=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return ye.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.us=s,i))}function v3(t,e,n){let r=et(),s=et();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=js();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:s}})}function w3(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _3(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,ye.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function ly(t,e,n){const r=Be(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Tl(o))throw o;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function kE(t,e,n){const r=Be(t);let s=Ue.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=Be(l),p=f.cs.get(h);return p!==void 0?ye.resolve(f.us.get(p)):f.Gr.getTargetData(c,h)}(r,o,Hr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:Ue.min(),n?i:et())).next(a=>(x3(r,lV(e),a),{documents:a,ds:i})))}function x3(t,e,n){let r=t.ls.get(e)||Ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}class NE{constructor(){this.activeTargetIds=pV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E3{constructor(){this._o=new NE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new NE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function um(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class T3 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const a=um(),l=this.No(n,r.toUriEncodedString());ke("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,i,o),this.Bo(n,l,c,s).then(h=>(ke("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw sl("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}ko(n,r,s,i,o,a){return this.Oo(n,r,s,i,o)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=S3[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const i=um();return new Promise((o,a)=>{const l=new yI;l.setWithCredentials(!0),l.listenOnce(vI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qd.NO_ERROR:const h=l.getResponseJson();ke(pn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Qd.TIMEOUT:ke(pn,`RPC '${e}' ${i} timed out`),a(new Re(we.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const f=l.getStatus();if(ke(pn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(y)>=0?y:we.UNKNOWN}(g.status);a(new Re(x,g.message))}else a(new Re(we.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Re(we.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{ke(pn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ke(pn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}qo(e,n,r){const s=um(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xI(),a=_I(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ke(pn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const x=new C3({Eo:v=>{g?ke(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(p||(ke(pn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ke(pn,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},Ao:()=>f.close()}),m=(v,y,w)=>{v.listen(y,_=>{try{w(_)}catch(S){setTimeout(()=>{throw S},0)}})};return m(f,ac.EventType.OPEN,()=>{g||(ke(pn,`RPC '${e}' stream ${s} transport opened.`),x.So())}),m(f,ac.EventType.CLOSE,()=>{g||(g=!0,ke(pn,`RPC '${e}' stream ${s} transport closed`),x.Do())}),m(f,ac.EventType.ERROR,v=>{g||(g=!0,sl(pn,`RPC '${e}' stream ${s} transport errored:`,v),x.Do(new Re(we.UNAVAILABLE,"The operation could not be completed")))}),m(f,ac.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];dt(!!w);const _=w,S=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(S){ke(pn,`RPC '${e}' stream ${s} received error:`,S);const P=S.status;let L=function(C){const O=Ft[C];if(O!==void 0)return KI(O)}(P),T=S.message;L===void 0&&(L=we.INTERNAL,T="Unknown error status: "+P+" with message "+S.message),g=!0,x.Do(new Re(L,T)),f.close()}else ke(pn,`RPC '${e}' stream ${s} received:`,w),x.vo(w)}}),m(a,wI.STAT_EVENT,v=>{v.stat===Xg.PROXY?ke(pn,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===Xg.NOPROXY&&ke(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new OV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,s,i,o,a,l){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ok(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new Re(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I3 extends ak{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=LV(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ue.min():o.readTime?qr(o.readTime):Ue.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=ay(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ty(l)?{documents:VV(i,l)}:{query:UV(i,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YI(i,o.resumeToken);const c=sy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ue.min())>0){a.readTime=Wh(i,o.snapshotVersion.toTimestamp());const c=sy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.c_(n)}}class k3 extends ak{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=MV(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=ay(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,iy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(we.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,iy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(we.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class A3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ds(n),this.C_=!1):ke("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Bo(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Be(l);c.k_.add(4),await Eu(c),c.K_.set("Unknown"),c.k_.delete(4),await Kf(c)}(this))})}),this.K_=new A3(r,s)}}async function Kf(t){if(Bo(t))for(const e of t.q_)await e(!0)}async function Eu(t){for(const e of t.q_)await e(!1)}function lk(t,e){const n=Be(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),x0(n)?_0(n):kl(n).s_()&&w0(n,e))}function v0(t,e){const n=Be(t),r=kl(n);n.B_.delete(e),r.s_()&&ck(n,e),n.B_.size===0&&(r.s_()?r.a_():Bo(n)&&n.K_.set("Unknown"))}function w0(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).V_(e)}function ck(t,e){t.U_.xe(e),kl(t).m_(e)}function _0(t){t.U_=new NV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.K_.F_()}function x0(t){return Bo(t)&&!kl(t).i_()&&t.B_.size>0}function Bo(t){return Be(t).k_.size===0}function uk(t){t.U_=void 0}async function P3(t){t.K_.set("Online")}async function O3(t){t.B_.forEach((e,n)=>{w0(t,e)})}async function D3(t,e){uk(t),x0(t)?(t.K_.O_(e),_0(t)):t.K_.set("Unknown")}async function j3(t,e,n){if(t.K_.set("Online"),e instanceof QI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.B_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.B_.delete(a),s.U_.removeTarget(a))}(t,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof Jd?t.U_.$e(e):e instanceof GI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Ue.min()))try{const r=await ik(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.B_.get(c);h&&i.B_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.B_.get(l);if(!h)return;i.B_.set(l,h.withResumeToken(an.EMPTY_BYTE_STRING,h.snapshotVersion)),ck(i,l);const f=new pi(h.target,l,c,h.sequenceNumber);w0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!Tl(e))throw e;t.k_.add(1),await Eu(t),t.K_.set("Offline"),n||(n=()=>ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Kf(t)})}function dk(t,e){return e().catch(n=>qh(t,n,e))}async function Gf(t){const e=Be(t),n=Vi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;L3(e);)try{const s=await w3(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,F3(e,s)}catch(s){await qh(e,s)}hk(e)&&fk(e)}function L3(t){return Bo(t)&&t.L_.length<10}function F3(t,e){t.L_.push(e);const n=Vi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function hk(t){return Bo(t)&&!Vi(t).i_()&&t.L_.length>0}function fk(t){Vi(t).start()}async function M3(t){Vi(t).w_()}async function V3(t){const e=Vi(t);for(const n of t.L_)e.g_(n.mutations)}async function U3(t,e,n){const r=t.L_.shift(),s=h0.from(r,e,n);await dk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gf(t)}async function B3(t,e){e&&Vi(t).f_&&await async function(r,s){if(function(o){return TV(o)&&o!==we.ABORTED}(s.code)){const i=r.L_.shift();Vi(r).__(),await dk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gf(r)}}(t,e),hk(t)&&fk(t)}async function RE(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Bo(n);n.k_.add(3),await Eu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Kf(n)}async function z3(t,e){const n=Be(t);e?(n.k_.delete(2),await Kf(n)):e||(n.k_.add(2),await Eu(n),n.K_.set("Unknown"))}function kl(t){return t.W_||(t.W_=function(n,r,s){const i=Be(n);return i.b_(),new I3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:P3.bind(null,t),mo:O3.bind(null,t),po:D3.bind(null,t),R_:j3.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),x0(t)?_0(t):t.K_.set("Unknown")):(await t.W_.stop(),uk(t))})),t.W_}function Vi(t){return t.G_||(t.G_=function(n,r,s){const i=Be(n);return i.b_(),new k3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:M3.bind(null,t),po:B3.bind(null,t),p_:V3.bind(null,t),y_:U3.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Gf(t)):(await t.G_.stop(),t.L_.length>0&&(ke("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new E0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),Tl(t))return new Re(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.z_=new It(De.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cl(e,n,Pa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class W3{constructor(){this.queries=OE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=Be(n),i=s.queries;s.queries=OE(),i.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Re(we.ABORTED,"Firestore shutting down"))}}function OE(){return new Uo(t=>jI(t),Uf)}async function H3(t,e){const n=Be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new $3,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=b0(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&S0(n)}async function q3(t,e){const n=Be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function K3(t,e){const n=Be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.J_)a.ta(s)&&(r=!0);o.H_=s}}r&&S0(n)}function G3(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function S0(t){t.X_.forEach(e=>{e.next()})}var cy,DE;(DE=cy||(cy={})).na="default",DE.Cache="cache";class Q3{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class Y3{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=et(),this.mutatedKeys=et(),this.Va=LI(e),this.ma=new Pa(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new PE,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Bf(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;p&&g?p.data.isEqual(g.data)?x!==m&&(r.track({type:3,doc:g}),v=!0):this.ya(p,g)||(r.track({type:2,doc:g}),v=!0,(l&&this.Va(g,l)>0||c&&this.Va(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),v=!0):p&&!g&&(r.track({type:1,doc:p}),v=!0,(l||c)&&(a=!0)),v&&(g?(o=o.add(g),i=m?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,f)=>function(g,x){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return m(g)-m(x)}(h.type,f.type)||this.Va(h.doc,f.doc)),this.wa(r),s=s!=null&&s;const a=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new cl(this.query,e.ma,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new PE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=et(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new mk(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new pk(r))}),n}va(e){this.da=e.ds,this.Ra=et();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return cl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class X3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z3{constructor(e){this.key=e,this.Fa=!1}}class J3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Uo(a=>jI(a),Uf),this.Oa=new Map,this.Na=new Set,this.La=new It(De.comparator),this.Ba=new Map,this.ka=new m0,this.qa={},this.Qa=new Map,this.Ka=ll.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function eU(t,e,n=!0){const r=xk(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await gk(r,e,n,!0),s}async function tU(t,e){const n=xk(t);await gk(n,e,!0,!1)}async function gk(t,e,n,r){const s=await _3(t.localStore,Hr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await nU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lk(t.remoteStore,s),a}async function nU(t,e,n,r,s){t.Ua=(f,p,g)=>async function(m,v,y,w){let _=v.view.ga(y);_.ss&&(_=await kE(m.localStore,v.query,!1).then(({documents:T})=>v.view.ga(T,_)));const S=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,L=v.view.applyChanges(_,m.isPrimaryClient,S,P);return LE(m,v.targetId,L.ba),L.snapshot}(t,f,p,g);const i=await kE(t.localStore,e,!0),o=new Y3(e,i.ds),a=o.ga(i.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);LE(t,n,c.ba);const h=new X3(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function rU(t,e,n){const r=Be(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!Uf(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ly(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&v0(r.remoteStore,s.targetId),uy(r,s.targetId)}).catch(Cl)):(uy(r,s.targetId),await ly(r.localStore,s.targetId,!0))}async function sU(t,e){const n=Be(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v0(n.remoteStore,r.targetId))}async function iU(t,e,n){const r=hU(t);try{const s=await function(o,a){const l=Be(o),c=Kt.now(),h=a.reduce((g,x)=>g.add(x.key),et());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=js(),m=et();return l.hs.getEntries(g,h).next(v=>{x=v,x.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(v=>{f=v;const y=[];for(const w of a){const _=xV(w,f.get(w.key).overlayedDocument);_!=null&&y.push(new Il(w.key,_,TI(_.value.mapValue),bs.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(v=>{p=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:p.batchId,changes:MI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new It(nt)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,s.batchId,n),await bu(r,s.changes),await Gf(r.remoteStore)}catch(s){const i=b0(s,"Failed to persist write");n.reject(i)}}async function yk(t,e){const n=Be(t);try{const r=await y3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ba.get(i);o&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?dt(o.Fa):s.removedDocuments.size>0&&(dt(o.Fa),o.Fa=!1))}),await bu(n,r,e)}catch(r){await Cl(r)}}function jE(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const a=o.view.ea(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Be(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.J_)p.ea(a)&&(c=!0)}),c&&S0(l)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oU(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new It(De.comparator);o=o.insert(i,vn.newNoDocument(i,Ue.min()));const a=et().add(i),l=new Hf(Ue.min(),new Map,new It(nt),o,a);await yk(r,l),r.La=r.La.remove(i),r.Ba.delete(e),C0(r)}else await ly(r.localStore,e,!1).then(()=>uy(r,e,n)).catch(Cl)}async function aU(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await g3(n.localStore,e);wk(n,r,null),vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,s)}catch(s){await Cl(s)}}async function lU(t,e,n){const r=Be(t);try{const s=await function(o,a){const l=Be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(dt(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);wk(r,e,n),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,s)}catch(s){await Cl(s)}}function vk(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function wk(t,e,n){const r=Be(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||_k(t,r)})}function _k(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(v0(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),C0(t))}function LE(t,e,n){for(const r of n)r instanceof pk?(t.ka.addReference(r.key,e),cU(t,r)):r instanceof mk?(ke("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||_k(t,r.key)):Me()}function cU(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ke("SyncEngine","New document in limbo: "+n),t.Na.add(r),C0(t))}function C0(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new De(xt.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Z3(n)),t.La=t.La.insert(n,r),lk(t.remoteStore,new pi(Hr(OI(n.path)),r,"TargetPurposeLimboResolution",Ff.oe))}}async function bu(t,e,n){const r=Be(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=y0.zi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(l,c){const h=Be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ye.forEach(c,p=>ye.forEach(p.Wi,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>ye.forEach(p.Gi,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Tl(f))throw f;ke("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.us.get(p),x=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(x);h.us=h.us.insert(p,m)}}}(r.localStore,i))}async function uU(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=await sk(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Re(we.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.Ts)}}function dU(t,e){const n=Be(t),r=n.Ba.get(e);if(r&&r.Fa)return et().add(r.key);{let s=et();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const a=n.xa.get(o);s=s.unionWith(a.view.fa)}return s}}function xk(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oU.bind(null,e),e.Ma.R_=K3.bind(null,e.eventManager),e.Ma.Wa=G3.bind(null,e.eventManager),e}function hU(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lU.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return m3(this.persistence,new f3,e.initialUser,this.serializer)}ja(e){return new rk(g0.ei,this.serializer)}za(e){return new E3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class fU extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){dt(this.persistence.referenceDelegate instanceof Hh);const r=this.persistence.referenceDelegate.garbageCollector;return new ZV(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new rk(r=>Hh.ei(r,n),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uU.bind(null,this.syncEngine),await z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W3}()}createDatastore(e){const n=qf(e.databaseInfo.databaseId),r=function(i){return new T3(i)}(e.databaseInfo);return function(i,o,a,l){return new N3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new R3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return AE.p()?new AE:new b3}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new J3(s,i,o,a,l,c);return h&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Be(s);ke("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await Eu(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gn.UNAUTHENTICATED,this.clientId=bI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ke("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ke("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hm(t,e){t.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gU(t);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RE(e.remoteStore,s)),t._onlineComponents=e}async function gU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===we.FAILED_PRECONDITION||s.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await hm(t,new Kh)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await hm(t,new fU(void 0));return t._offlineComponents}async function Ek(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(t,t._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await FE(t,new dy))),t._onlineComponents}function yU(t){return Ek(t).then(e=>e.syncEngine)}async function vU(t){const e=await Ek(t),n=e.eventManager;return n.onListen=eU.bind(null,e.syncEngine),n.onUnlisten=rU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sU.bind(null,e.syncEngine),n}function wU(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new pU({next:p=>{h.eu(),o.enqueueAndForget(()=>q3(i,f)),p.fromCache&&l.source==="server"?c.reject(new Re(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Q3(a,h,{includeMetadataChanges:!0,ua:!0});return H3(i,f)}(await vU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e,n){if(!n)throw new Re(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _U(t,e,n,r){if(e===!0&&r===!0)throw new Re(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!De.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(De.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function Gh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new Re(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_U("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k4;switch(r.type){case"firstParty":return new P4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ME.get(n);r&&(ke("ComponentProvider","Removing Datastore"),ME.delete(n),r.terminate())}(this),Promise.resolve()}}function xU(t,e,n,r={}){var s;const i=(t=Gh(t,Yf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gn.MOCK_USER;else{a=PT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Re(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gn(c)}t._authCredentials=new N4(new EI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nl(this.firestore,e,this._query)}}class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Ti extends Nl{constructor(e,n,r){super(e,n,OI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new De(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function T0(t,e,...n){if(t=Jn(t),Sk("collection","path",e),t instanceof Yf){const r=xt.fromString(e,...n);return UE(r),new Ti(t,null,r)}{if(!(t instanceof cr||t instanceof Ti))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return UE(r),new Ti(t.firestore,null,r)}}function EU(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=bI.newId()),Sk("doc","path",e),t instanceof Yf){const r=xt.fromString(e,...n);return VE(r),new cr(t,null,new De(r))}{if(!(t instanceof cr||t instanceof Ti))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return VE(r),new cr(t.firestore,t instanceof Ti?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ok(this,"async_queue_retry"),this.fu=()=>{const r=dm();r&&ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ci;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Tl(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ds("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=E0.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&Me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class I0 extends Yf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function bU(t,e){const n=typeof t=="object"?t:Gv(),r=typeof t=="string"?t:"(default)",s=Of(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=NT("firestore");i&&xU(s,...i)}return s}function Ck(t){if(t._terminated)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SU(t),t._firestoreClient}function SU(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new K4(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new mU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(an.fromBase64String(e))}catch(n){throw new Re(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ul(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=/^__.*__$/;function kk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class A0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new A0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hy(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(kk(this.Mu)&&CU.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class TU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qf(e)}$u(e,n,r,s=!1){return new A0({Mu:e,methodName:n,Ku:r,path:rn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IU(t){const e=t._freezeSettings(),n=qf(t._databaseId);return new TU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kU(t,e,n,r=!1){return R0(n,t.$u(r?4:3,e))}function R0(t,e){if(Nk(t=Jn(t)))return AU("Unsupported field value:",e,t),NU(t,e);if(t instanceof Ik)return function(r,s){if(!kk(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=R0(a,s.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Kt.fromDate(r);return{timestampValue:Wh(s.serializer,i)}}if(r instanceof Kt){const i=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(s.serializer,i)}}if(r instanceof k0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ul)return{bytesValue:YI(s.serializer,r._byteString)};if(r instanceof cr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof N0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return u0(a.serializer,l)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Qf(r)}`)}(t,e)}function NU(t,e){const n={};return SI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,s)=>{const i=R0(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof k0||t instanceof ul||t instanceof cr||t instanceof Ik||t instanceof N0)}function AU(t,e,n){if(!Nk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}const RU=new RegExp("[~\\*/\\[\\]]");function PU(t,e,n){if(e.search(RU)>=0)throw hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tk(...e.split("."))._internalPath}catch{throw hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hy(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Re(we.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OU extends Ak{data(){return super.data()}}function P0(t,e){return typeof e=="string"?PU(t,e):e instanceof Tk?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O0{}class jU extends O0{}function D0(t,e,...n){let r=[];e instanceof O0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof L0).length,a=i.filter(l=>l instanceof Xf).length;if(o>1||o>0&&a>0)throw new Re(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Xf extends jU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xf(e,n,r)}_apply(e){const n=this._parse(e);return Rk(e._query,n),new Nl(e.firestore,e.converter,ny(e._query,n))}_parse(e){const n=IU(e.firestore);return function(i,o,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Re(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){WE(f,h);const g=[];for(const x of f)g.push($E(l,i,x));p={arrayValue:{values:g}}}else p=$E(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||WE(f,h),p=kU(a,o,f,h==="in"||h==="not-in");return zt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j0(t,e,n){const r=e,s=P0("where",t);return Xf._create(s,r,n)}class L0 extends O0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Rk(o,l),o=ny(o,l)}(e._query,n),new Nl(e.firestore,e.converter,ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $E(t,e,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new Re(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DI(e)&&n.indexOf("/")!==-1)throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!De.isDocumentKey(r))throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uE(t,new De(r))}if(n instanceof cr)return uE(t,n._key);throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function WE(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LU{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Dt(o.doubleValue));return new N0(i)}convertGeoPoint(e){return new k0(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);dt(nk(r));const s=new Yc(r.get(1),r.get(3)),i=new De(r.popFirst(5));return s.isEqual(n)||Ds(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FU extends Ak{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eh extends FU{data(e={}){return super.data(e)}}class MU{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:VU(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}class UU extends LU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}function F0(t){t=Gh(t,Nl);const e=Gh(t.firestore,I0),n=Ck(e),r=new UU(e);return DU(t._query),wU(n,t._query).then(s=>new MU(e,r,t,s))}function BU(t){return zU(Gh(t.firestore,I0),[new d0(t._key,bs.none())])}function zU(t,e){return function(r,s){const i=new Ci;return r.asyncQueue.enqueueAndForget(async()=>iU(await yU(r),s,i)),i.promise}(Ck(t),e)}(function(e,n=!0){(function(s){Sl=s})(Mo),ko(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new I0(new A4(r.getProvider("auth-internal")),new D4(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Re(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$r(sE,"4.7.5",e),$r(sE,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="firebasestorage.googleapis.com",$U="storageBucket",WU=2*60*1e3,HU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Jr{constructor(e,n,r=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yr||(Yr={}));function fm(t){return"storage/"+t}function qU(){const t="An unknown error occurred, please check the error payload for server response.";return new es(Yr.UNKNOWN,t)}function KU(){return new es(Yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GU(){return new es(Yr.CANCELED,"User canceled the upload/download.")}function QU(t){return new es(Yr.INVALID_URL,"Invalid URL '"+t+"'.")}function YU(t){return new es(Yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HE(t){return new es(Yr.INVALID_ARGUMENT,t)}function Ok(){return new es(Yr.APP_DELETED,"The Firebase app was deleted.")}function XU(t){return new es(Yr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sr.makeFromUrl(e,n)}catch{return new Sr(e,"")}if(r.path==="")return r;throw YU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),x={bucket:1,path:3},m=n===Pk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${m}/${s}/${v}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:g,indices:x,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<_.length;S++){const P=_[S],L=P.regex.exec(e);if(L){const T=L[P.indices.bucket];let k=L[P.indices.path];k||(k=""),r=new Sr(T,k),P.postModify(r);break}}if(r==null)throw QU(e);return r}}class ZU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...v){c||(c=!0,e.apply(null,v))}function f(v){s=setTimeout(()=>{s=null,t(g,l())},v)}function p(){i&&clearTimeout(i)}function g(v,...y){if(c){p();return}if(v){p(),h.call(null,v,...y);return}if(l()||o){p(),h.call(null,v,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let x=!1;function m(v){x||(x=!0,p(),!c&&(s!==null?(v||(a=2),clearTimeout(s),f(0)):v||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,m(!0)},n),m}function e5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return t!==void 0}function qE(t,e,n,r){if(r<e)throw HE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw HE(`Invalid value for '${t}'. Expected ${n} or less.`)}function n5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Qh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qh||(Qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,s,i,o,a,l,c,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Qh.NO_ERROR,l=i.getStatus();if(!a||r5(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Qh.ABORT;r(!1,new wd(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new wd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());t5(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=qU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Ok():GU();o(l)}else{const l=KU();o(l)}};this.canceled_?n(!1,new wd(!1,null,!0)):this.backoffId_=JU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function i5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c5(t,e,n,r,s,i,o=!0){const a=n5(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return a5(c,e),i5(c,n),o5(c,i),l5(c,r),new s5(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this._service=e,n instanceof Sr?this._location=n:this._location=Sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yh(e,n)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d5(this._location.path)}get storage(){return this._service}get parent(){const e=u5(this._location.path);if(e===null)return null;const n=new Sr(this._location.bucket,e);return new Yh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XU(e)}}function KE(t,e){const n=e==null?void 0:e[$U];return n==null?null:Sr.makeFromBucketSpec(n,t)}function h5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:PT(s,t.app.options.projectId))}class f5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Pk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WU,this._maxUploadRetryTime=HU,this._requests=new Set,s!=null?this._bucket=Sr.makeFromBucketSpec(s,this._host):this._bucket=KE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=KE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZU(Ok());{const o=c5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const GE="@firebase/storage",QE="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="storage";function p5(t=Gv(),e){t=Jn(t);const r=Of(t,Dk).getImmediate({identifier:e}),s=NT("storage");return s&&m5(r,...s),r}function m5(t,e,n,r={}){h5(t,e,n,r)}function g5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new f5(n,r,s,e,Mo)}function y5(){ko(new Di(Dk,g5,"PUBLIC").setMultipleInstances(!0)),$r(GE,QE,""),$r(GE,QE,"esm2017")}y5();const v5={maxWidth:800,maxHeight:600,quality:.6,maxSizeKB:200};async function fy(t,e={}){const n={...v5,...e};return new Promise((r,s)=>{const i=document.createElement("canvas"),o=i.getContext("2d"),a=new Image;a.onload=()=>{try{const{width:h,height:f}=w5(a.width,a.height,n.maxWidth,n.maxHeight);if(i.width=h,i.height=f,!o){s(new Error("Failed to get canvas context"));return}o.drawImage(a,0,0,h,f);let p=n.quality,g=i.toDataURL("image/jpeg",p);for(;pm(g)>n.maxSizeKB&&p>.1;)p-=.1,g=i.toDataURL("image/jpeg",p);if(pm(g)>n.maxSizeKB&&(g=i.toDataURL("image/png"),pm(g)>n.maxSizeKB)){const x=Math.floor(h*.8),m=Math.floor(f*.8);i.width=x,i.height=m,o.drawImage(a,0,0,x,m),g=i.toDataURL("image/jpeg",.7)}r(g)}catch(h){s(h)}},a.onerror=()=>{s(new Error("Failed to load image"))};const l=URL.createObjectURL(t);a.src=l;const c=a.onload;a.onload=function(h){if(URL.revokeObjectURL(l),c)return c.call(this,h)}})}function w5(t,e,n,r){const s=t/e;let i=t,o=e;return i>n&&(i=n,o=i/s),o>r&&(o=r,i=o*s),{width:Math.round(i),height:Math.round(o)}}function pm(t){return t.split(",")[1].length*3/4/1024}function py(t,e=800){return t.size/1024>e}function my(t){return Math.round(t.size/1024)}function Oa(t){return t<1024?`${t}KB`:`${(t/1024).toFixed(1)}MB`}const _5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDcvSFqdzAkzGBIy6kv9hQwI7pefBZrTLE",VITE_FIREBASE_APP_ID:"1:844673549412:web:377ad7deee1cb34a8b8b71",VITE_FIREBASE_PROJECT_ID:"logostyle-guide"};async function x5(){try{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_APP_ID"].filter(l=>!_5[l]);if(e.length>0)return console.error("Missing Firebase configuration:",e),null;const r=jT({apiKey:"AIzaSyDcvSFqdzAkzGBIy6kv9hQwI7pefBZrTLE",authDomain:"logostyle-guide.firebaseapp.com",projectId:"logostyle-guide",storageBucket:"logostyle-guide.appspot.com",appId:"1:844673549412:web:377ad7deee1cb34a8b8b71"}),s=mI(r),i=bU(r),o=p5(r),a=new ps;return{app:r,auth:s,db:i,storage:o,googleProvider:a}}catch(t){return console.error("Error initializing Firebase:",t),null}}const E5=x5();async function Ii(){const t=await E5;if(!t)throw new Error("Firebase failed to initialize. Check your configuration.");return t}async function b5(t,e){try{const{db:n}=await Ii(),r=T0(n,"styleGuides"),s=D0(r,j0("customUrl","==",t));return!!(await F0(s)).empty}catch(n){throw console.error("Error checking URL availability:",n),n}}async function S5(t){if(!t)return console.warn("getUserStyleGuides called without userId"),[];try{const{db:e}=await Ii(),n=T0(e,"styleGuides"),r=D0(n,j0("userId","==",t));return(await F0(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error fetching user style guides:",e),[]}}async function C5(){try{const{auth:t}=await Ii(),e=t.currentUser;if(!e)throw new Error("User not authenticated");const n=await e.getIdToken(),r=await fetch("/api/styleguides/all",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch style guides: ${r.statusText}`);return await r.json()}catch(t){throw console.error("Error fetching all style guides:",t),t}}async function T5(t){try{const{db:e}=await Ii();if(!I5())throw new Error("Unauthorized: Admin access required");const n=EU(e,"styleGuides",t);await BU(n),CC.invalidateQueries({queryKey:["styleGuides"]}),console.log("Successfully deleted style guide:",t)}catch(e){throw console.error("Error deleting style guide:",e),e}}function I5(){var e;return((e=mI().currentUser)==null?void 0:e.email)==="ebaqcompany@gmail.com"}const jk=b.createContext(void 0),YE="ebaqcompany@gmail.com";function Lk({children:t}){const[e,n]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(!1);b.useEffect(()=>{let c;return(async()=>{try{const{auth:f}=await Ii();c=f.onAuthStateChanged(p=>{console.log("Auth state changed:",p==null?void 0:p.email),n(p),o((p==null?void 0:p.email)===YE),s(!1)})}catch(f){console.error("Error initializing auth:",f),s(!1)}})(),()=>c==null?void 0:c()},[]);const a=async()=>{try{const{auth:c,googleProvider:h}=await Ii(),f=await DM(c,h);console.log("Signed in user:",f.user.email),o(f.user.email===YE)}catch(c){throw console.error("Error signing in with Google:",c),c}},l=async()=>{try{const{auth:c}=await Ii();await pM(c),o(!1)}catch(c){throw console.error("Error signing out:",c),c}};return d.jsx(jk.Provider,{value:{user:e,loading:r,isAdmin:i,signInWithGoogle:a,logout:l},children:t})}function M0(){const t=b.useContext(jk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Fk=b.createContext(void 0);function k5({children:t}){const[e,n]=b.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),r=i=>{n(i),localStorage.setItem("theme",i)},s=()=>{r(e==="light"?"dark":"light")};return b.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e)},[e]),b.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{localStorage.getItem("theme")||r(a.matches?"dark":"light")};return i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[]),d.jsx(Fk.Provider,{value:{theme:e,toggleTheme:s,setTheme:r},children:t})}const N5=()=>{const t=b.useContext(Fk);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function A5(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Mk={exports:{}},Vk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=b;function R5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var P5=typeof Object.is=="function"?Object.is:R5,O5=dl.useState,D5=dl.useEffect,j5=dl.useLayoutEffect,L5=dl.useDebugValue;function F5(t,e){var n=e(),r=O5({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return j5(function(){s.value=n,s.getSnapshot=e,mm(s)&&i({inst:s})},[t,n,e]),D5(function(){return mm(s)&&i({inst:s}),t(function(){mm(s)&&i({inst:s})})},[t]),L5(n),n}function mm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!P5(t,n)}catch{return!0}}function M5(t,e){return e()}var V5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M5:F5;Vk.useSyncExternalStore=dl.useSyncExternalStore!==void 0?dl.useSyncExternalStore:V5;Mk.exports=Vk;var U5=Mk.exports;const B5=vl.useInsertionEffect,z5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$5=z5?b.useLayoutEffect:b.useEffect,W5=B5||$5,Uk=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return W5(()=>{e[0]=t}),e[1]},H5="popstate",V0="pushState",U0="replaceState",q5="hashchange",XE=[H5,V0,U0,q5],K5=t=>{for(const e of XE)addEventListener(e,t);return()=>{for(const e of XE)removeEventListener(e,t)}},Bk=(t,e)=>U5.useSyncExternalStore(K5,t,e),G5=()=>location.search,Q5=({ssrSearch:t=""}={})=>Bk(G5,()=>t),ZE=()=>location.pathname,Y5=({ssrPath:t}={})=>Bk(ZE,t?()=>t:ZE),X5=(t,{replace:e=!1,state:n=null}={})=>history[e?U0:V0](n,"",t),Z5=(t={})=>[Y5(t),X5],JE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[JE]>"u"){for(const t of[V0,U0]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,JE,{value:!0})}const J5=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",zk=(t="")=>t==="/"?"":t,e6=(t,e)=>t[0]==="~"?t.slice(1):zk(e)+t,t6=(t="",e)=>J5(e1(zk(t)),e1(e)),e1=t=>{try{return decodeURI(t)}catch{return t}},$k={hook:Z5,searchHook:Q5,parser:A5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Wk=b.createContext($k),Su=()=>b.useContext(Wk),Hk={},qk=b.createContext(Hk),Kk=()=>b.useContext(qk),Zf=t=>{const[e,n]=t.hook(t);return[t6(t.base,e),Uk((r,s)=>n(e6(r,t.base),s))]},n6=()=>Zf(Su()),Gk=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let h={...l};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},r6=({children:t,...e})=>{var h,f;const n=Su(),r=e.hook?$k:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,c=l;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&g!==c[p]&&(a.current=c={...c}),c[p]=g,g!==r[p]&&(s=c)}return b.createElement(Wk.Provider,{value:s,children:t})},t1=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,s6=t=>{let e=b.useRef(Hk),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},uc=({path:t,nest:e,match:n,...r})=>{const s=Su(),[i]=Zf(s),[o,a,l]=n??Gk(s.parser,t,i,e),c=s6({...Kk(),...a});if(!o)return null;const h=l?b.createElement(r6,{base:l},t1(r,c)):t1(r,c);return b.createElement(qk.Provider,{value:c,children:h})};b.forwardRef((t,e)=>{const n=Su(),[r,s]=Zf(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:h,replace:f,state:p,...g}=t,x=Uk(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:x,href:m}):b.createElement("a",{...g,onClick:x,href:m,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})});const Qk=t=>Array.isArray(t)?t.flatMap(e=>Qk(e&&e.type===b.Fragment?e.props.children:e)):[t],i6=({children:t,location:e})=>{const n=Su(),[r]=Zf(n);for(const s of Qk(t)){let i=0;if(b.isValidElement(s)&&(i=Gk(n.parser,s.props.path,e||r,s.props.nest))[0])return b.cloneElement(s,{match:i})}return null},In=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));In.displayName="Card";const os=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",t),...e}));os.displayName="CardHeader";const as=b.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));as.displayName="CardTitle";const gy=b.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Ge("text-sm text-muted-foreground",t),...e}));gy.displayName="CardDescription";const Hn=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ge("p-6 pt-0",t),...e}));Hn.displayName="CardContent";const o6=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",t),...e}));o6.displayName="CardFooter";const a6=hu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Hc:"button";return d.jsx(o,{className:Ge(a6({variant:e,size:n,className:t})),ref:i,...s})});Pe.displayName="Button";var Yk={};Yk.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""};var B0={},yy=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n1=new RegExp("[\\-\\.0-9"+yy.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r1=new RegExp("^"+yy.source+n1.source+"*(?::"+yy.source+n1.source+"*)?$"),Jl=0,Ks=1,Ko=2,ec=3,Go=4,Qo=5,tc=6,_d=7;function hl(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,hl)}hl.prototype=new Error;hl.prototype.name=hl.name;function Xk(){}Xk.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),Zk(e,e={}),l6(t,e,n,r,this.errorHandler),r.endDocument()}};function l6(t,e,n,r,s){function i(oe){if(oe>65535){oe-=65536;var Z=55296+(oe>>10),K=56320+(oe&1023);return String.fromCharCode(Z,K)}else return String.fromCharCode(oe)}function o(oe){var Z=oe.slice(1,-1);return Z in n?n[Z]:Z.charAt(0)==="#"?i(parseInt(Z.substr(1).replace("x","0x"))):(s.error("entity not found:"+oe),oe)}function a(oe){if(oe>m){var Z=t.substring(m,oe).replace(/&#?\w+;/g,o);p&&l(m),r.characters(Z,0,oe-m),m=oe}}function l(oe,Z){for(;oe>=h&&(Z=f.exec(t));)c=Z.index,h=c+Z[0].length,p.lineNumber++;p.columnNumber=oe-c+1}for(var c=0,h=0,f=/.*(?:\r\n?|\n)|.*$/g,p=r.locator,g=[{currentNSMap:e}],x={},m=0;;){try{var v=t.indexOf("<",m);if(v<0){if(!t.substr(m).match(/^\s*$/)){var y=r.doc,w=y.createTextNode(t.substr(m));y.appendChild(w),r.currentElement=w}return}switch(v>m&&a(v),t.charAt(v+1)){case"/":var j=t.indexOf(">",v+3),_=t.substring(v+2,j),S=g.pop();j<0?(_=t.substring(v+2).replace(/[\s<].*/,""),s.error("end tag name: "+_+" is not complete:"+S.tagName),j=v+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),s.error("end tag name: "+_+" maybe not complete"),j=v+1+_.length);var P=S.localNSMap,L=S.tagName==_,T=L||S.tagName&&S.tagName.toLowerCase()==_.toLowerCase();if(T){if(r.endElement(S.uri,S.localName,_),P)for(var k in P)r.endPrefixMapping(k);L||s.fatalError("end tag name: "+_+" is not match the current start tagName:"+S.tagName)}else g.push(S);j++;break;case"?":p&&l(v),j=f6(t,v,r);break;case"!":p&&l(v),j=h6(t,v,r,s);break;default:p&&l(v);var C=new Jk,O=g[g.length-1].currentNSMap,j=c6(t,v,C,O,o,s),R=C.length;if(!C.closed&&d6(t,j,C.tagName,x)&&(C.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),p&&R){for(var D=s1(p,{}),N=0;N<R;N++){var G=C[N];l(G.offset),G.locator=s1(p,{})}r.locator=D,i1(C,r,O)&&g.push(C),r.locator=p}else i1(C,r,O)&&g.push(C);C.uri==="http://www.w3.org/1999/xhtml"&&!C.closed?j=u6(t,j,C.tagName,o,r):j++}}catch(oe){if(oe instanceof hl)throw oe;s.error("element parse error: "+oe),j=-1}j>m?m=j:a(Math.max(v,m)+1)}}function s1(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function c6(t,e,n,r,s,i){function o(p,g,x){p in n.attributeNames&&i.fatalError("Attribute "+p+" redefined"),n.addValue(p,g,x)}for(var a,l,c=++e,h=Jl;;){var f=t.charAt(c);switch(f){case"=":if(h===Ks)a=t.slice(e,c),h=ec;else if(h===Ko)h=ec;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===ec||h===Ks)if(h===Ks&&(i.warning('attribute value must after "="'),a=t.slice(e,c)),e=c+1,c=t.indexOf(f,e),c>0)l=t.slice(e,c).replace(/&#?\w+;/g,s),o(a,l,e-1),h=Qo;else throw new Error("attribute value no end '"+f+"' match");else if(h==Go)l=t.slice(e,c).replace(/&#?\w+;/g,s),o(a,l,e),i.warning('attribute "'+a+'" missed start quot('+f+")!!"),e=c+1,h=Qo;else throw new Error('attribute value must after "="');break;case"/":switch(h){case Jl:n.setTagName(t.slice(e,c));case Qo:case tc:case _d:h=_d,n.closed=!0;case Go:case Ks:case Ko:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),h==Jl&&n.setTagName(t.slice(e,c)),c;case">":switch(h){case Jl:n.setTagName(t.slice(e,c));case Qo:case tc:case _d:break;case Go:case Ks:l=t.slice(e,c),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case Ko:h===Ko&&(l=a),h==Go?(i.warning('attribute "'+l+'" missed quot(")!'),o(a,l.replace(/&#?\w+;/g,s),e)):((r[""]!=="http://www.w3.org/1999/xhtml"||!l.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case ec:throw new Error("attribute value missed!!")}return c;case"":f=" ";default:if(f<=" ")switch(h){case Jl:n.setTagName(t.slice(e,c)),h=tc;break;case Ks:a=t.slice(e,c),h=Ko;break;case Go:var l=t.slice(e,c).replace(/&#?\w+;/g,s);i.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case Qo:h=tc;break}else switch(h){case Ko:n.tagName,(r[""]!=="http://www.w3.org/1999/xhtml"||!a.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=c,h=Ks;break;case Qo:i.warning('attribute space is required"'+a+'"!!');case tc:h=Ks,e=c;break;case ec:h=Go,e=c;break;case _d:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function i1(t,e,n){for(var r=t.tagName,s=null,f=t.length;f--;){var i=t[f],o=i.qName,a=i.value,p=o.indexOf(":");if(p>0)var l=i.prefix=o.slice(0,p),c=o.slice(p+1),h=l==="xmlns"&&c;else c=o,l=null,h=o==="xmlns"&&"";i.localName=c,h!==!1&&(s==null&&(s={},Zk(n,n={})),n[h]=s[h]=a,i.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(h,a))}for(var f=t.length;f--;){i=t[f];var l=i.prefix;l&&(l==="xml"&&(i.uri="http://www.w3.org/XML/1998/namespace"),l!=="xmlns"&&(i.uri=n[l||""]))}var p=r.indexOf(":");p>0?(l=t.prefix=r.slice(0,p),c=t.localName=r.slice(p+1)):(l=null,c=t.localName=r);var g=t.uri=n[l||""];if(e.startElement(g,c,r,t),t.closed){if(e.endElement(g,c,r),s)for(l in s)e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=s,!0}function u6(t,e,n,r,s){if(/^(?:script|textarea)$/i.test(n)){var i=t.indexOf("</"+n+">",e),o=t.substring(e+1,i);if(/[&<]/.test(o))return/^script$/i.test(n)?(s.characters(o,0,o.length),i):(o=o.replace(/&#?\w+;/g,r),s.characters(o,0,o.length),i)}return e+1}function d6(t,e,n,r){var s=r[n];return s==null&&(s=t.lastIndexOf("</"+n+">"),s<e&&(s=t.lastIndexOf("</"+n)),r[n]=s),s<e}function Zk(t,e){for(var n in t)e[n]=t[n]}function h6(t,e,n,r){var s=t.charAt(e+2);switch(s){case"-":if(t.charAt(e+3)==="-"){var i=t.indexOf("-->",e+4);return i>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var o=p6(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],c=!1,h=!1;a>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],h=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(h=o[3][0]));var f=o[a-1];return n.startDTD(l,c,h),n.endDTD(),f.index+f[0].length}}return-1}function f6(t,e,n){var r=t.indexOf("?>",e);if(r){var s=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,n.processingInstruction(s[1],s[2]),r+2):-1}return-1}function Jk(){this.attributeNames={}}Jk.prototype={setTagName:function(t){if(!r1.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!r1.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function p6(t,e){var n,r=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(t);n=s.exec(t);)if(r.push(n),n[1])return r}B0.XMLReader=Xk;B0.ParseError=hl;var Al={};function Cu(t,e){for(var n in t)e[n]=t[n]}function Un(t,e){var n=t.prototype;if(!(n instanceof e)){let s=function(){};var r=s;s.prototype=e.prototype,s=new s,Cu(n,s),t.prototype=n=s}n.constructor!=t&&(typeof t!="function"&&console.error("unknow Class:"+t),n.constructor=t)}var m6="http://www.w3.org/1999/xhtml",Bn={},kr=Bn.ELEMENT_NODE=1,fl=Bn.ATTRIBUTE_NODE=2,Xh=Bn.TEXT_NODE=3,eN=Bn.CDATA_SECTION_NODE=4,tN=Bn.ENTITY_REFERENCE_NODE=5,g6=Bn.ENTITY_NODE=6,nN=Bn.PROCESSING_INSTRUCTION_NODE=7,rN=Bn.COMMENT_NODE=8,sN=Bn.DOCUMENT_NODE=9,iN=Bn.DOCUMENT_TYPE_NODE=10,Ls=Bn.DOCUMENT_FRAGMENT_NODE=11,y6=Bn.NOTATION_NODE=12,xn={},Jt={};xn.INDEX_SIZE_ERR=(Jt[1]="Index size error",1);xn.DOMSTRING_SIZE_ERR=(Jt[2]="DOMString size error",2);var v6=xn.HIERARCHY_REQUEST_ERR=(Jt[3]="Hierarchy request error",3);xn.WRONG_DOCUMENT_ERR=(Jt[4]="Wrong document",4);xn.INVALID_CHARACTER_ERR=(Jt[5]="Invalid character",5);xn.NO_DATA_ALLOWED_ERR=(Jt[6]="No data allowed",6);xn.NO_MODIFICATION_ALLOWED_ERR=(Jt[7]="No modification allowed",7);var w6=xn.NOT_FOUND_ERR=(Jt[8]="Not found",8);xn.NOT_SUPPORTED_ERR=(Jt[9]="Not supported",9);var o1=xn.INUSE_ATTRIBUTE_ERR=(Jt[10]="Attribute in use",10);xn.INVALID_STATE_ERR=(Jt[11]="Invalid state",11);xn.SYNTAX_ERR=(Jt[12]="Syntax error",12);xn.INVALID_MODIFICATION_ERR=(Jt[13]="Invalid modification",13);xn.NAMESPACE_ERR=(Jt[14]="Invalid namespace",14);xn.INVALID_ACCESS_ERR=(Jt[15]="Invalid access",15);function Ro(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Jt[t]),this.message=Jt[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ro);return n.code=t,e&&(this.message=this.message+": "+e),n}Ro.prototype=Error.prototype;Cu(xn,Ro);function ki(){}ki.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)va(this[r],n,t,e);return n.join("")}};function pl(t,e){this._node=t,this._refresh=e,z0(this)}function z0(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);gN(t,"length",n.length),Cu(n,t),t._inc=e}}pl.prototype.item=function(t){return z0(this),this[t]};Un(pl,ki);function Zh(){}function oN(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function a1(t,e,n,r){if(r?e[oN(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var s=t.ownerDocument;s&&(r&&lN(s,t,r),_6(s,t,n))}}function l1(t,e,n){var r=oN(e,n);if(r>=0){for(var s=e.length-1;r<s;)e[r]=e[++r];if(e.length=s,t){var i=t.ownerDocument;i&&(lN(i,t,n),n.ownerElement=null)}}else throw Ro(w6,new Error(t.tagName+"@"+n))}Zh.prototype={length:0,item:ki.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ro(o1);var n=this.getNamedItem(t.nodeName);return a1(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Ro(o1);return n=this.getNamedItemNS(t.namespaceURI,t.localName),a1(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return l1(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return l1(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function aN(t){if(this._features={},t)for(var e in t)this._features=t[e]}aN.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!!(n&&(!e||e in n))},createDocument:function(t,e,n){var r=new Tu;if(r.implementation=this,r.childNodes=new ki,r.doctype=n,n&&r.appendChild(n),e){var s=r.createElementNS(t,e);r.appendChild(s)}return r},createDocumentType:function(t,e,n){var r=new K0;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}};function En(){}En.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return uN(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return cN(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return vy(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Xh&&t.nodeType==Xh?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(n[r]==t)return r}e=e.nodeType==fl?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==fl?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function c1(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Cu(Bn,En);Cu(Bn,En.prototype);function eu(t,e){if(e(t))return!0;if(t=t.firstChild)do if(eu(t,e))return!0;while(t=t.nextSibling)}function Tu(){}function _6(t,e,n){t&&t._inc++;var r=n.namespaceURI;r=="http://www.w3.org/2000/xmlns/"&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function lN(t,e,n,r){t&&t._inc++;var s=n.namespaceURI;s=="http://www.w3.org/2000/xmlns/"&&delete e._nsMap[n.prefix?n.localName:""]}function $0(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var s=e.firstChild,i=0;s;)r[i++]=s,s=s.nextSibling;r.length=i}}}function cN(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,$0(t.ownerDocument,t),e}function uN(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Ls){var s=e.firstChild;if(s==null)return e;var i=e.lastChild}else s=i=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,i.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=i:n.previousSibling=i;do s.parentNode=t;while(s!==i&&(s=s.nextSibling));return $0(t.ownerDocument||t,t),e.nodeType==Ls&&(e.firstChild=e.lastChild=null),e}function x6(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,$0(t.ownerDocument,t,e),e}Tu.prototype={nodeName:"#document",nodeType:sN,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ls){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return this.documentElement==null&&t.nodeType==kr&&(this.documentElement=t),uN(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),cN(this,t)},importNode:function(t,e){return mN(this,t,e)},getElementById:function(t){var e=null;return eu(this.documentElement,function(n){if(n.nodeType==kr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=new RegExp("(^|\\s)"+t+"(\\s|$)");return new pl(this,function(n){var r=[];return eu(n.documentElement,function(s){s!==n&&s.nodeType==kr&&e.test(s.getAttribute("class"))&&r.push(s)}),r})},createElement:function(t){var e=new ml;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new ki;var n=e.attributes=new Zh;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Jf;return t.ownerDocument=this,t.childNodes=new ki,t},createTextNode:function(t){var e=new W0;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H0;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new q0;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Q0;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Jh;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new G0;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ml,r=e.split(":"),s=n.attributes=new Zh;return n.childNodes=new ki,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,s._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Jh,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};Un(Tu,En);function ml(){this._nsMap={}}ml.prototype={nodeType:kr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ls?this.insertBefore(t,null):x6(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new pl(this,function(e){var n=[];return eu(e,function(r){r!==e&&r.nodeType==kr&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new pl(this,function(n){var r=[];return eu(n,function(s){s!==n&&s.nodeType===kr&&(t==="*"||s.namespaceURI===t)&&(e==="*"||s.localName==e)&&r.push(s)}),r})}};Tu.prototype.getElementsByTagName=ml.prototype.getElementsByTagName;Tu.prototype.getElementsByTagNameNS=ml.prototype.getElementsByTagNameNS;Un(ml,En);function Jh(){}Jh.prototype.nodeType=fl;Un(Jh,En);function Iu(){}Iu.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Jt[v6])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),s=this.data.substring(t+e);n=r+n+s,this.nodeValue=this.data=n,this.length=n.length}};Un(Iu,En);function W0(){}W0.prototype={nodeName:"#text",nodeType:Xh,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Un(W0,Iu);function H0(){}H0.prototype={nodeName:"#comment",nodeType:rN};Un(H0,Iu);function q0(){}q0.prototype={nodeName:"#cdata-section",nodeType:eN};Un(q0,Iu);function K0(){}K0.prototype.nodeType=iN;Un(K0,En);function dN(){}dN.prototype.nodeType=y6;Un(dN,En);function hN(){}hN.prototype.nodeType=g6;Un(hN,En);function G0(){}G0.prototype.nodeType=tN;Un(G0,En);function Jf(){}Jf.prototype.nodeName="#document-fragment";Jf.prototype.nodeType=Ls;Un(Jf,En);function Q0(){}Q0.prototype.nodeType=nN;Un(Q0,En);function fN(){}fN.prototype.serializeToString=function(t,e,n){return pN.call(t,e,n)};En.prototype.toString=pN;function pN(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,s=r.prefix,i=r.namespaceURI;if(i&&s==null){var s=r.lookupPrefix(i);if(s==null)var o=[{namespace:i,prefix:null}]}return va(this,n,t,e,o),n.join("")}function u1(t,e,n){var r=t.prefix||"",s=t.namespaceURI;if(!r&&!s||r==="xml"&&s==="http://www.w3.org/XML/1998/namespace"||s=="http://www.w3.org/2000/xmlns/")return!1;for(var i=n.length;i--;){var o=n[i];if(o.prefix==r)return o.namespace!=s}return!0}function va(t,e,n,r,s){if(r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case kr:s||(s=[]),s.length;var i=t.attributes,o=i.length,g=t.firstChild,a=t.tagName;n=m6===t.namespaceURI||n,e.push("<",a);for(var l=0;l<o;l++){var c=i.item(l);c.prefix=="xmlns"?s.push({prefix:c.localName,namespace:c.value}):c.nodeName=="xmlns"&&s.push({prefix:"",namespace:c.value})}for(var l=0;l<o;l++){var c=i.item(l);if(u1(c,n,s)){var h=c.prefix||"",f=c.namespaceURI,p=h?" xmlns:"+h:" xmlns";e.push(p,'="',f,'"'),s.push({prefix:h,namespace:f})}va(c,e,n,r,s)}if(u1(t,n,s)){var h=t.prefix||"",f=t.namespaceURI;if(f){var p=h?" xmlns:"+h:" xmlns";e.push(p,'="',f,'"'),s.push({prefix:h,namespace:f})}}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),n&&/^script$/i.test(a))for(;g;)g.data?e.push(g.data):va(g,e,n,r,s),g=g.nextSibling;else for(;g;)va(g,e,n,r,s),g=g.nextSibling;e.push("</",a,">")}else e.push("/>");return;case sN:case Ls:for(var g=t.firstChild;g;)va(g,e,n,r,s),g=g.nextSibling;return;case fl:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,c1),'"');case Xh:return e.push(t.data.replace(/[<&]/g,c1).replace(/]]>/g,"]]&gt;"));case eN:return e.push("<![CDATA[",t.data,"]]>");case rN:return e.push("<!--",t.data,"-->");case iN:var x=t.publicId,m=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),m&&m!="."&&e.push(" ",m),e.push(">");else if(m&&m!=".")e.push(" SYSTEM ",m,">");else{var v=t.internalSubset;v&&e.push(" [",v,"]"),e.push(">")}return;case nN:return e.push("<?",t.target," ",t.data,"?>");case tN:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function mN(t,e,n){var r;switch(e.nodeType){case kr:r=e.cloneNode(!1),r.ownerDocument=t;case Ls:break;case fl:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var s=e.firstChild;s;)r.appendChild(mN(t,s,n)),s=s.nextSibling;return r}function vy(t,e,n){var r=new e.constructor;for(var s in e){var i=e[s];typeof i!="object"&&i!=r[s]&&(r[s]=i)}switch(e.childNodes&&(r.childNodes=new ki),r.ownerDocument=t,r.nodeType){case kr:var o=e.attributes,a=r.attributes=new Zh,l=o.length;a._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(vy(t,o.item(c),!0));break;case fl:n=!0}if(n)for(var h=e.firstChild;h;)r.appendChild(vy(t,h,n)),h=h.nextSibling;return r}function gN(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case kr:case Ls:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};var oW=t;Object.defineProperty(pl.prototype,"length",{get:function(){return z0(this),this.$$length}}),Object.defineProperty(En.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case kr:case Ls:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),gN=function(e,n,r){e["$$"+n]=r}}}catch{}Al.Node=En;Al.DOMException=Ro;Al.DOMImplementation=aN;Al.XMLSerializer=fN;function yN(t){this.options=t||{locator:{}}}yN.prototype.parseFromString=function(t,e){var n=this.options,r=new S6,s=n.domBuilder||new ep,i=n.errorHandler,o=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(e),c=l?b6.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return o&&s.setDocumentLocator(o),r.errorHandler=E6(i,s,o),r.domBuilder=n.domBuilder||s,l&&(a[""]="http://www.w3.org/1999/xhtml"),a.xml=a.xml||"http://www.w3.org/XML/1998/namespace",t&&typeof t=="string"?r.parse(t,a,c):r.errorHandler.error("invalid doc source"),s.doc};function E6(t,e,n){if(!t){if(e instanceof ep)return e;t=e}var r={},s=t instanceof Function;n=n||{};function i(o){var a=t[o];!a&&s&&(a=t.length==2?function(l){t(o,l)}:t),r[o]=a&&function(l){a("[xmldom "+o+"]	"+l+wy(n))}||function(){}}return i("warning"),i("error"),i("fatalError"),r}function ep(){this.cdata=!1}function Yo(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}ep.prototype={startDocument:function(){this.doc=new T6().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var s=this.doc,i=s.createElementNS(t,n||e),o=r.length;xd(this,i),this.currentElement=i,this.locator&&Yo(this.locator,i);for(var a=0;a<o;a++){var t=r.getURI(a),l=r.getValue(a),n=r.getQName(a),c=s.createAttributeNS(t,n);this.locator&&Yo(r.getLocator(a),c),c.value=c.nodeValue=l,i.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&Yo(this.locator,n),xd(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=d1.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&Yo(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=d1.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&Yo(this.locator,r),xd(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var s=r.createDocumentType(t,e,n);this.locator&&Yo(this.locator,s),xd(this,s)}},warning:function(t){console.warn("[xmldom warning]	"+t,wy(this.locator))},error:function(t){console.error("[xmldom error]	"+t,wy(this.locator))},fatalError:function(t){throw new C6(t,this.locator)}};function wy(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function d1(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){ep.prototype[t]=function(){return null}});function xd(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}var b6=Yk,vN=B0,S6=vN.XMLReader,C6=vN.ParseError,T6=Al.DOMImplementation,I6=Al.XMLSerializer,k6=yN;function N6({variant:t="ghost",size:e="icon",className:n=""}){const{theme:r,toggleTheme:s}=N5();return d.jsx(Pe,{variant:t,size:e,onClick:s,className:n,"aria-label":"Toggle theme",children:r==="light"?d.jsx(ej,{className:"h-4 w-4"}):d.jsx(nj,{className:"h-4 w-4"})})}function gr({logo:t,label:e,containerClassName:n="space-y-2",onCopy:r,onDownload:s,background:i,forceLogoColor:o,size:a="normal",showBlackWhiteVariations:l=!1,inverseBackgroundColor:c="#000000",brandColors:h=[],variationBg1:f="#000000",variationBg2:p="#ffffff"}){const[g,x]=b.useState(!1),m=async()=>{t&&(x(!0),await r(t,o||"original"),x(!1))},v=()=>{if(!l||!t||o)return null;if(typeof e=="string"&&e.toLowerCase().includes("inverse")){const w=f,_=p;return d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center",style:{backgroundColor:w},children:d.jsx("img",{src:t,alt:`${typeof e=="string"?e:"Logo"} - On Color Background 1`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>r(t,"original"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>s(t,"original"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Inverse - On Color 1"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center",style:{backgroundColor:_},children:d.jsx("img",{src:t,alt:`${typeof e=="string"?e:"Logo"} - On Color Background 2`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>r(t,"original"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>s(t,"original"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Inverse - On Color 2"})]})]})}else{const w=(()=>{try{const S=processSvgData(t),P=convertSvgColor(S,"white");return"data:image/svg+xml;base64,"+btoa(P)}catch(S){return console.error("Error converting logo to white:",S),t}})(),_=(()=>{try{const S=processSvgData(t),P=convertSvgColor(S,"black");return"data:image/svg+xml;base64,"+btoa(P)}catch(S){return console.error("Error converting logo to black:",S),t}})();return d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center bg-black",children:d.jsx("img",{src:w,alt:`${typeof e=="string"?e:"Logo"} - White on Black`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>r(t,"white"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>s(t,"white"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"White on Black"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center bg-card",children:d.jsx("img",{src:_,alt:`${typeof e=="string"?e:"Logo"} - Black on White`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>r(t,"black"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>s(t,"black"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Black on White"})]})]})}};return d.jsxs("div",{className:n,children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:e}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`p-4 rounded-lg border ${i==="black"?"bg-black":"bg-card"} ${a==="normal"?"h-48":"h-32"} flex items-center justify-center`,children:t?d.jsx("img",{src:t,alt:typeof e=="string"?e:"Logo",className:"max-h-full max-w-full object-contain",style:{filter:o==="white"?"brightness(0) invert(1)":o==="black"?"brightness(0)":"none"}}):d.jsx("div",{className:"text-center text-muted-foreground text-sm",children:"No logo uploaded"})}),t&&d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsxs(Pe,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:m,children:[g?d.jsx(Nf,{className:"h-4 w-4"}):d.jsx(fs,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Copy"})]}),d.jsxs(Pe,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>s(t,o||"original"),children:[d.jsx(qn,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Download"})]})]})})]}),v()]})}function Y0({data:t,applicationsGridColumns:e=2,setApplicationsGridColumns:n,colorsGridColumns:r=3,setColorsGridColumns:s,fontSampleSize:i=32}){var L,T,k,C,O,j,R,D,N,G,oe,Z,K,B,Q,U,z,he,ue,pe,le,$,re,ce,Ee,ve,te,Ae,I,J,ee,V,M,q,Y,ie,W,se,fe,de,ge,Le;const{toast:o}=Gi(),[a,l]=b.useState(!1),[c,h]=b.useState(!1),f=async()=>{var X,xe,Ce,Se;try{h(!0);const me=t.zipFileData||((xe=(X=t.examples)==null?void 0:X.find(Ye=>Ye.zipFileData))==null?void 0:xe.zipFileData),Te=t.zipFileName||((Se=(Ce=t.examples)==null?void 0:Ce.find(Ye=>Ye.zipFileName))==null?void 0:Se.zipFileName);if(!me){o({title:"Error",description:"No ZIP package available for download",variant:"destructive"});return}const We=me.split(",")[1],Xe=atob(We),Fe=new Uint8Array(Xe.length);for(let Ye=0;Ye<Xe.length;Ye++)Fe[Ye]=Xe.charCodeAt(Ye);const at=new Blob([Fe],{type:"application/zip"}),Qe=URL.createObjectURL(at),Oe=document.createElement("a");Oe.href=Qe,Oe.download=Te||`${t.companyName.replace(/\s+/g,"-").toLowerCase()}-logo-package.zip`,document.body.appendChild(Oe),Oe.click(),URL.revokeObjectURL(Qe),document.body.removeChild(Oe),o({title:"Downloaded!",description:"Logo package downloaded successfully"})}catch(me){console.error("Error downloading ZIP package:",me),o({title:"Error",description:"Failed to download logo package",variant:"destructive"})}finally{h(!1)}},p=X=>{try{if(!X.fontData||!X.fontData.includes("base64"))throw new Error("Invalid font data format");const xe=X.fontData.split(",")[1],Ce=X.fontData.split(";")[0].split(":")[1],Se=atob(xe),me=new Uint8Array(Se.length);for(let ft=0;ft<Se.length;ft++)me[ft]=Se.charCodeAt(ft);const Te=new Blob([me],{type:Ce}),We=URL.createObjectURL(Te),Xe=document.createElement("a");Xe.href=We;const Fe=X.originalName||"font",at=X.weight,Qe=X.style!=="normal"?`-${X.style}`:"",Oe=qo(X.fontData),Ye=Oe==="truetype"?"ttf":Oe==="opentype"?"otf":Oe==="woff"?"woff":Oe==="woff2"?"woff2":"font";Xe.download=`${Fe}-${at}${Qe}.${Ye}`,document.body.appendChild(Xe),Xe.click(),URL.revokeObjectURL(We),document.body.removeChild(Xe),o({title:"Font Downloaded",description:`${Fe} (${at}${Qe}) has been downloaded.`})}catch(xe){console.error("Error downloading font:",xe),o({title:"Download Failed",description:xe instanceof Error?xe.message:"Failed to download font",variant:"destructive"})}};b.useEffect(()=>{var me,Te,We,Xe;const X=document.getElementById("custom-font-styles");X&&X.remove();const xe=t.fonts.usesCustomPrimary&&(t.fonts.customPrimaryFont||((me=t.fonts.primaryFontVariants)==null?void 0:me.length)>0),Ce=t.fonts.usesCustomSecondary&&(t.fonts.customSecondaryFont||((Te=t.fonts.secondaryFontVariants)==null?void 0:Te.length)>0),Se=t.fonts.fontFamilies&&t.fonts.fontFamilies.some(Fe=>Fe.usesCustomFont&&Fe.variants&&Fe.variants.length>0);if(xe||Ce||Se){const Fe=document.createElement("style");Fe.id="custom-font-styles";let at="";if(Se&&t.fonts.fontFamilies&&t.fonts.fontFamilies.forEach(Qe=>{if(Qe.usesCustomFont&&Qe.variants&&Qe.variants.length>0){const Oe=Qe.customFontName||Qe.name||`Font-${Qe.id}`;Qe.variants.forEach(Ye=>{at+=`
                @font-face {
                  font-family: '${Oe}';
                  src: url('${Ye.fontData}') format('${qo(Ye.fontData)}');
                  font-weight: ${Ye.weight};
                  font-style: ${Ye.style};
                }
              `})}}),xe&&t.fonts.customPrimaryFont){const Qe=t.fonts.customPrimaryFontName||"CustomPrimaryFont";at+=`
          @font-face {
            font-family: '${Qe}';
            src: url('${t.fonts.customPrimaryFont}') format('${qo(t.fonts.customPrimaryFont)}');
            font-weight: normal;
            font-style: normal;
          }
        `}if(xe&&((We=t.fonts.primaryFontVariants)==null?void 0:We.length)>0){const Qe=t.fonts.customPrimaryFontName||"CustomPrimaryFont";t.fonts.primaryFontVariants.forEach(Oe=>{at+=`
            @font-face {
              font-family: '${Qe}';
              src: url('${Oe.fontData}') format('${qo(Oe.fontData)}');
              font-weight: ${Oe.weight};
              font-style: ${Oe.style};
            }
          `})}if(Ce&&t.fonts.customSecondaryFont){const Qe=t.fonts.customSecondaryFontName||"CustomSecondaryFont";at+=`
          @font-face {
            font-family: '${Qe}';
            src: url('${t.fonts.customSecondaryFont}') format('${qo(t.fonts.customSecondaryFont)}');
            font-weight: normal;
            font-style: normal;
          }
        `}if(Ce&&((Xe=t.fonts.secondaryFontVariants)==null?void 0:Xe.length)>0){const Qe=t.fonts.customSecondaryFontName||"CustomSecondaryFont";t.fonts.secondaryFontVariants.forEach(Oe=>{at+=`
            @font-face {
              font-family: '${Qe}';
              src: url('${Oe.fontData}') format('${qo(Oe.fontData)}');
              font-weight: ${Oe.weight};
              font-style: ${Oe.style};
            }
          `})}Fe.textContent=at,document.head.appendChild(Fe),l(!0)}},[t.fonts.fontFamilies,t.fonts.usesCustomPrimary,t.fonts.primaryFontVariants,t.fonts.customPrimaryFontName,t.fonts.usesCustomSecondary,t.fonts.secondaryFontVariants,t.fonts.customSecondaryFontName,t.fonts.customPrimaryFont,t.fonts.customSecondaryFont]);const g=X=>X==="primary"&&t.fonts.usesCustomPrimary&&t.fonts.customPrimaryFont?t.fonts.customPrimaryFontName||"CustomPrimaryFont":X==="secondary"&&t.fonts.usesCustomSecondary&&t.fonts.customSecondaryFont?t.fonts.customSecondaryFontName||"CustomSecondaryFont":X==="primary"?t.fonts.primary:t.fonts.secondary,x=async X=>{try{const xe=typeof X=="string"?X:X.value;await navigator.clipboard.writeText(xe),o({title:"Copied!",description:"Color code copied to clipboard"})}catch{o({title:"Error",description:"Failed to copy color code",variant:"destructive"})}},m=X=>{try{const xe=X.split(",")[1];return atob(xe)}catch(xe){throw console.error("Error processing SVG data:",xe),new Error("Invalid SVG data format")}},v=(X,xe)=>{try{const Se=new k6().parseFromString(X,"image/svg+xml"),me=Se.documentElement,Te=Xe=>{Xe.removeAttribute("style"),Xe.setAttribute("fill",xe),Array.from(Xe.childNodes).forEach(Fe=>{Fe.nodeType===1&&Te(Fe)})};return Te(me),new I6().serializeToString(Se)}catch(Ce){return console.error("Error converting SVG color:",Ce),X}},y=async(X,xe)=>{try{let Ce=m(X);(xe==="white"||xe==="black")&&(Ce=v(Ce,xe));const Se=document.createElement("canvas"),me=Se.getContext("2d"),Te=new Image,We=2;Se.width=1024*We,Se.height=1024*We,me.scale(We,We);const Xe=new Blob([Ce],{type:"image/svg+xml;charset=utf-8"}),Fe=URL.createObjectURL(Xe);await new Promise((at,Qe)=>{Te.onload=()=>{me.clearRect(0,0,1024,1024);const Oe=Te.width/Te.height;let Ye=1024,ft=1024;Oe>1?ft=1024/Oe:Ye=1024*Oe;const Ke=(1024-Ye)/2,Rt=(1024-ft)/2;me.drawImage(Te,Ke,Rt,Ye,ft),Se.toBlob(async Qt=>{try{await navigator.clipboard.write([new ClipboardItem({"image/png":Qt})]),o({title:"Copied!",description:"High-resolution PNG logo copied to clipboard"}),at(null)}catch(ze){console.error("Clipboard error:",ze),Qe(ze)}},"image/png",1),URL.revokeObjectURL(Fe)},Te.onerror=()=>{URL.revokeObjectURL(Fe),Qe(new Error("Failed to load SVG image"))},Te.src=Fe})}catch(Ce){console.error("Error copying logo as PNG:",Ce),o({title:"Error",description:"Failed to copy logo as PNG",variant:"destructive"})}},w=async(X,xe)=>{try{let Ce=m(X);(xe==="white"||xe==="black")&&(Ce=v(Ce,xe));const Se=new Blob([Ce],{type:"image/svg+xml"}),me=URL.createObjectURL(Se),Te=document.createElement("a");Te.href=me,Te.download=`${t.companyName.replace(/\s+/g,"-").toLowerCase()}-logo-${xe}.svg`,document.body.appendChild(Te),Te.click(),URL.revokeObjectURL(me),document.body.removeChild(Te),o({title:"Downloaded!",description:"Logo SVG downloaded successfully"})}catch(Ce){console.error("Error downloading logo:",Ce),o({title:"Error",description:"Failed to download logo",variant:"destructive"})}},_="ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789",P=(Array.isArray(t.colors.colorList)?t.colors.colorList:[]).map(X=>{const xe=typeof X=="string"?X:X.value,Ce=typeof X=="string"?void 0:X.name,Se=wN(xe);return{value:xe,name:Ce,rgb:Se}});return d.jsx("div",{children:d.jsx(In,{children:d.jsxs("div",{className:"p-8 max-w-[1200px] mx-auto space-y-12",children:[d.jsx("header",{className:"text-left mb-10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-2",children:t.companyName||"Company Name"}),t.customUrl?d.jsxs("a",{href:`https://guidelines.online/${t.customUrl}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary underline cursor-pointer",children:["guidelines.online/",t.customUrl]}):d.jsx("p",{className:"text-muted-foreground",children:"Brand Guidelines"})]}),d.jsx(N6,{})]})}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-6",children:"Logos"}),t.allLogoVariations&&t.allLogoVariations.length>0?d.jsx("div",{className:"space-y-8",children:(()=>{const X=t.allLogoVariations.reduce((Se,me)=>(Se[me.category]||(Se[me.category]={}),Se[me.category][me.type]||(Se[me.category][me.type]=[]),Se[me.category][me.type].push(me),Se),{}),xe=Se=>{const me=Se.toLowerCase();return me.includes("primary")||me==="logo"||me==="main logo"||me.includes("lockup")?1:me.includes("secondary")||me.includes("vertical")||me.includes("stacked")?2:me.includes("mark")||me.includes("brand")||me.includes("symbol")||me.includes("monogram")||me.includes("icon")?3:me.includes("horizontal")||me.includes("alternative")||me.includes("badge")||me.includes("icon")?4:me.includes("slogan")||me.includes("tagline")||me.includes("with text")||me.includes("lockup")?5:6};return Object.entries(X).sort(([Se],[me])=>{const Te=xe(Se),We=xe(me);return Te!==We?Te-We:Se.localeCompare(me)}).map(([Se,me])=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:Se}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(()=>{var ft,Ke,Rt,Qt;(ft=t.logoDisplayOptions)==null||ft.showBlackWhiteVariations;const Te=((Ke=t.logoDisplayOptions)==null?void 0:Ke.inverseBackgroundColor)??"#000000";(Rt=t.colors)!=null&&Rt.colorList;const We=(ze,He,nr=30)=>{const Pt=ze.replace("#",""),bn=He.replace("#",""),ct=parseInt(Pt.substr(0,2),16),Ot=parseInt(Pt.substr(2,2),16),cn=parseInt(Pt.substr(4,2),16),st=parseInt(bn.substr(0,2),16),$t=parseInt(bn.substr(2,2),16),hr=parseInt(bn.substr(4,2),16),fr=Math.sqrt(Math.pow(st-ct,2)+Math.pow($t-Ot,2)+Math.pow(hr-cn,2)),up=Math.abs(ct-Ot)<20&&Math.abs(Ot-cn)<20&&Math.abs(ct-cn)<20,dp=Math.abs(st-$t)<20&&Math.abs($t-hr)<20&&Math.abs(st-hr)<20;return up||dp?fr<15:fr<nr},Xe=ze=>{const He=[],nr=/#[0-9A-Fa-f]{6}|#[0-9A-Fa-f]{3}/g,Pt=ze.match(nr);Pt&&Pt.forEach(st=>{if(st.length===4){const $t="#"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3];He.push($t.toUpperCase())}else He.push(st.toUpperCase())});const bn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g;let ct;for(;(ct=bn.exec(ze))!==null;){const st=parseInt(ct[1]),$t=parseInt(ct[2]),hr=parseInt(ct[3]),fr="#"+((1<<24)+(st<<16)+($t<<8)+hr).toString(16).slice(1).toUpperCase();He.push(fr)}const Ot=/(?:fill|stroke)=["']([^"']+)["']/g;let cn;for(;(cn=Ot.exec(ze))!==null;){const st=cn[1];if(st.startsWith("#"))if(st.length===4){const $t="#"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3];He.push($t.toUpperCase())}else st.length===7&&He.push(st.toUpperCase())}return Array.from(new Set(He))},Fe=((Qt=t.logoDisplayOptions)==null?void 0:Qt.showBlackWhiteVariations)??!1,at=[];(me.color||[]).forEach(ze=>{at.push({logo:ze,displayType:"original",background:"#ffffff",label:"Full Color"})});const Oe=me.inverse||[],Ye=me.white||[];return Oe.length>0?Oe.forEach(ze=>{Xe(ze.data).some(Pt=>We(Pt,Te))||at.push({logo:ze,displayType:"original",background:Te,label:"Inverse"})}):Ye.length>0&&Ye.forEach(ze=>{at.push({logo:ze,displayType:"original",background:"#000000",label:"White on Black"})}),at.map((ze,He)=>{var ct;let nr=ze.logo.data,Pt="original";if(ze.displayType==="force-white"||ze.displayType==="force-black")try{const Ot=m(ze.logo.data),cn=v(Ot,ze.displayType==="force-white"?"white":"black");nr="data:image/svg+xml;base64,"+btoa(cn),Pt=ze.displayType==="force-white"?"white":"black"}catch(Ot){console.error("Error converting logo color:",Ot)}const bn=Ot=>{if(!Fe)return null;const cn=(()=>{try{const $t=m(Ot.data),hr=v($t,"white");return"data:image/svg+xml;base64,"+btoa(hr)}catch($t){return console.error("Error converting logo to white:",$t),Ot.data}})(),st=(()=>{try{const $t=m(Ot.data),hr=v($t,"black");return"data:image/svg+xml;base64,"+btoa(hr)}catch($t){return console.error("Error converting logo to black:",$t),Ot.data}})();return d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center bg-black",children:d.jsx("img",{src:cn,alt:`${Se} - White on Black`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>y(Ot.data,"white"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>w(Ot.data,"white"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[Se," - White on Black"]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-2 rounded border h-16 flex items-center justify-center bg-card",children:d.jsx("img",{src:st,alt:`${Se} - Black on White`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>y(Ot.data,"black"),children:d.jsx(fs,{className:"h-2 w-2"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-4 w-4",onClick:()=>w(Ot.data,"black"),children:d.jsx(qn,{className:"h-2 w-2"})})]})})]}),d.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[Se," - Black on White"]})]})]})};return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"p-4 rounded-lg border h-32 flex items-center justify-center",style:{backgroundColor:ze.background},children:d.jsx("img",{src:nr,alt:`${Se} - ${ze.label}`,className:"max-h-full max-w-full object-contain"})}),d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-6 w-6",onClick:()=>y(ze.logo.data,Pt),children:d.jsx(fs,{className:"h-3 w-3"})}),d.jsx(Pe,{size:"icon",variant:"secondary",className:"h-6 w-6",onClick:()=>w(ze.logo.data,Pt),children:d.jsx(qn,{className:"h-3 w-3"})})]})})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-xs font-medium",children:ze.label}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",title:ze.logo.filename,children:((ct=ze.logo.filename.split("/").pop())==null?void 0:ct.replace(".svg",""))||"Logo"})]}),Fe&&(ze.label==="Full Color"||ze.label==="Inverse")&&bn(ze.logo)]},`smart-${He}`)})})()})]},Se))})()}):d.jsxs("div",{className:"space-y-8",children:[t.logo&&d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(gr,{logo:t.logo,label:"Primary Logo",onCopy:y,onDownload:w,showBlackWhiteVariations:((L=t.logoDisplayOptions)==null?void 0:L.showBlackWhiteVariations)??!1,inverseBackgroundColor:((T=t.logoDisplayOptions)==null?void 0:T.inverseBackgroundColor)??"#000000",brandColors:((k=t.colors)==null?void 0:k.colorList)??[],variationBg1:((C=t.logoDisplayOptions)==null?void 0:C.variationBg1)??"#000000",variationBg2:((O=t.logoDisplayOptions)==null?void 0:O.variationBg2)??"#ffffff"}),(t.secondaryLogo||t.inverseLogo)&&d.jsx(gr,{logo:t.secondaryLogo||t.inverseLogo,label:"Secondary Logo",onCopy:y,onDownload:w,showBlackWhiteVariations:((j=t.logoDisplayOptions)==null?void 0:j.showBlackWhiteVariations)??!1,inverseBackgroundColor:((R=t.logoDisplayOptions)==null?void 0:R.inverseBackgroundColor)??"#000000",brandColors:((D=t.colors)==null?void 0:D.colorList)??[],variationBg1:((N=t.logoDisplayOptions)==null?void 0:N.variationBg1)??"#000000",variationBg2:((G=t.logoDisplayOptions)==null?void 0:G.variationBg2)??"#ffffff"})]})}),t.tertiaryLogo&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(gr,{logo:t.tertiaryLogo,label:"Tertiary Logo",onCopy:y,onDownload:w,showBlackWhiteVariations:((oe=t.logoDisplayOptions)==null?void 0:oe.showBlackWhiteVariations)??!1,inverseBackgroundColor:((Z=t.logoDisplayOptions)==null?void 0:Z.inverseBackgroundColor)??"#000000",brandColors:((K=t.colors)==null?void 0:K.colorList)??[],variationBg1:((B=t.logoDisplayOptions)==null?void 0:B.variationBg1)??"#000000",variationBg2:((Q=t.logoDisplayOptions)==null?void 0:Q.variationBg2)??"#ffffff"}),(U=t.inverseLogos)!=null&&U.tertiary?d.jsx(gr,{logo:t.inverseLogos.tertiary,label:"Tertiary Logo (Inverse)",onCopy:y,onDownload:w,showBlackWhiteVariations:((z=t.logoDisplayOptions)==null?void 0:z.showBlackWhiteVariations)??!1,inverseBackgroundColor:((he=t.logoDisplayOptions)==null?void 0:he.inverseBackgroundColor)??"#000000",brandColors:((ue=t.colors)==null?void 0:ue.colorList)??[],variationBg1:((pe=t.logoDisplayOptions)==null?void 0:pe.variationBg1)??"#000000",variationBg2:((le=t.logoDisplayOptions)==null?void 0:le.variationBg2)??"#ffffff"}):t.fourthLogo&&d.jsx(gr,{logo:t.fourthLogo,label:"Fourth Logo",onCopy:y,onDownload:w,showBlackWhiteVariations:(($=t.logoDisplayOptions)==null?void 0:$.showBlackWhiteVariations)??!1,inverseBackgroundColor:((re=t.logoDisplayOptions)==null?void 0:re.inverseBackgroundColor)??"#000000",brandColors:((ce=t.colors)==null?void 0:ce.colorList)??[],variationBg1:((Ee=t.logoDisplayOptions)==null?void 0:Ee.variationBg1)??"#000000",variationBg2:((ve=t.logoDisplayOptions)==null?void 0:ve.variationBg2)??"#ffffff"})]}),((te=t.inverseLogos)==null?void 0:te.tertiary)&&t.fourthLogo&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(gr,{logo:t.fourthLogo,label:"Fourth Logo",onCopy:y,onDownload:w,showBlackWhiteVariations:((Ae=t.logoDisplayOptions)==null?void 0:Ae.showBlackWhiteVariations)??!1,inverseBackgroundColor:((I=t.logoDisplayOptions)==null?void 0:I.inverseBackgroundColor)??"#000000",brandColors:((J=t.colors)==null?void 0:J.colorList)??[],variationBg1:((ee=t.logoDisplayOptions)==null?void 0:ee.variationBg1)??"#000000",variationBg2:((V=t.logoDisplayOptions)==null?void 0:V.variationBg2)??"#ffffff"}),((M=t.inverseLogos)==null?void 0:M.fourth)&&d.jsx(gr,{logo:t.inverseLogos.fourth,label:"Fourth Logo (Inverse)",onCopy:y,onDownload:w,showBlackWhiteVariations:((q=t.logoDisplayOptions)==null?void 0:q.showBlackWhiteVariations)??!1,inverseBackgroundColor:((Y=t.logoDisplayOptions)==null?void 0:Y.inverseBackgroundColor)??"#000000",brandColors:((ie=t.colors)==null?void 0:ie.colorList)??[],variationBg1:((W=t.logoDisplayOptions)==null?void 0:W.variationBg1)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff"})]}),(((fe=t.logoDisplayOptions)==null?void 0:fe.showBlackWhiteVariations)??!1)&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(gr,{logo:t.tertiaryLogo,label:d.jsx("span",{className:"text-muted-foreground",children:"Tertiary - White on Black"}),onCopy:y,onDownload:w,background:"black",forceLogoColor:"white",size:"small"}),d.jsx(gr,{logo:t.tertiaryLogo,label:d.jsx("span",{className:"text-muted-foreground",children:"Tertiary - Black on White"}),onCopy:y,onDownload:w,background:"white",forceLogoColor:"black",size:"small"}),t.fourthLogo&&d.jsxs(d.Fragment,{children:[d.jsx(gr,{logo:t.fourthLogo,label:d.jsx("span",{className:"text-muted-foreground",children:"Fourth - White on Black"}),onCopy:y,onDownload:w,background:"black",forceLogoColor:"white",size:"small"}),d.jsx(gr,{logo:t.fourthLogo,label:d.jsx("span",{className:"text-muted-foreground",children:"Fourth - Black on White"}),onCopy:y,onDownload:w,background:"white",forceLogoColor:"black",size:"small"})]})]})]})]})]}),(((de=t.logoDisplayOptions)==null?void 0:de.showLogoDonts)??!0)&&(()=>{var me,Te,We,Xe,Fe,at,Qe,Oe,Ye,ft,Ke,Rt,Qt,ze;const X=((Te=(me=t.allLogoVariations)==null?void 0:me.find(He=>He.type==="color"&&He.data))==null?void 0:Te.data)??((Xe=(We=t.allLogoVariations)==null?void 0:We.find(He=>He.type==="inverse"&&He.data))==null?void 0:Xe.data)??((at=(Fe=t.allLogoVariations)==null?void 0:Fe.find(He=>He.type==="white"&&He.data))==null?void 0:at.data)??((Oe=(Qe=t.allLogoVariations)==null?void 0:Qe.find(He=>He.type==="black"&&He.data))==null?void 0:Oe.data)??((ft=(Ye=t.allLogoVariations)==null?void 0:Ye.find(He=>He.data))==null?void 0:ft.data),xe=[t.logo,t.secondaryLogo,t.tertiaryLogo,t.fourthLogo,t.inverseLogo,(Ke=t.inverseLogos)==null?void 0:Ke.primary,(Rt=t.inverseLogos)==null?void 0:Rt.secondary,(Qt=t.inverseLogos)==null?void 0:Qt.tertiary,(ze=t.inverseLogos)==null?void 0:ze.fourth].find(He=>!!He),Ce=X||xe;if(!Ce)return null;const Se=[{id:"stretch",label:"DON'T stretch or alter the logo",style:{transform:"scaleX(1.4)"}},{id:"squash",label:"DON'T squash or compress the logo",style:{transform:"scaleY(0.6)"}},{id:"crop",label:"DON'T crop the logo",containerStyle:{overflow:"hidden",width:"70%",marginLeft:"auto",marginRight:"auto"},style:{transform:"translateX(-15%)"}},{id:"color",label:"DON'T change the logo colors",style:{filter:"hue-rotate(280deg) saturate(2)"}},{id:"outline",label:"DON'T use outline effects",style:{filter:"grayscale(1) contrast(0) brightness(0.7)",opacity:.6}},{id:"shadow",label:"DON'T add shadows or effects",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.5))"}}];return d.jsxs("section",{className:"mt-8",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-6",children:"Logo Don'ts"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Se.map(He=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"relative bg-white rounded-lg border border-gray-200 p-4 h-32 flex items-center justify-center",children:[d.jsx("div",{className:"flex items-center justify-center h-full w-full",style:He.containerStyle,children:d.jsx("img",{src:Ce,alt:`Logo Don't - ${He.id}`,className:"max-h-16 max-w-full object-contain",style:He.style})}),d.jsx("div",{className:"absolute bottom-2 right-2",children:d.jsx(ZD,{className:"h-5 w-5 text-red-500"})})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:"DON'T"})," ",He.label.replace("DON'T ","")]})]},He.id))})]})})(),(()=>{var Ce,Se;const X=(Ce=t.logoDisplayOptions)==null?void 0:Ce.showDownloadPackage,xe=t.zipFileData||((Se=t.examples)==null?void 0:Se.some(me=>me.zipFileData));return console.log("Download Button Debug:",{showButton:X,hasZipData:xe,zipFileData:t.zipFileData?"present":"missing",logoDisplayOptions:t.logoDisplayOptions}),X&&xe})()&&d.jsx("section",{className:"py-6",children:d.jsx("div",{className:"flex justify-center",children:d.jsx(Pe,{onClick:f,size:"lg",className:"flex items-center gap-2",disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsx(fu,{className:"h-4 w-4 animate-spin"}),"Preparing Download..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Mg,{className:"h-4 w-4"}),"Download Full Logo Package"]})})})}),d.jsxs("section",{children:[d.jsx("div",{className:"mb-6",children:d.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Colors"})}),d.jsx("div",{className:`grid gap-4 ${r===2?"grid-cols-1 md:grid-cols-2":r===3?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:P.map((X,xe)=>{const{value:Ce,name:Se,rgb:me}=X,Te=A6(Ce);return d.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[d.jsx("div",{className:"h-24 flex items-center justify-center",style:{backgroundColor:Ce},children:d.jsx("span",{className:"text-lg font-medium",style:{color:Te},children:Se||`Color ${xe+1}`})}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-mono text-sm uppercase",children:Se}),d.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>x(Ce),children:d.jsx(fs,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"font-mono text-sm",children:["HEX: ",Ce.toUpperCase()]}),me&&d.jsxs("p",{className:"font-mono text-sm",children:["RGB: ",me.r," / ",me.g," / ",me.b]})]})]})]},xe)})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"Typography"}),t.fonts.fontFamilies&&t.fonts.fontFamilies.length>0?d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.fonts.fontFamilies.map((X,xe)=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:xe===0?"Primary Font":xe===1?"Secondary Font":X.name}),d.jsxs("div",{className:"border rounded-lg p-4 md:p-6 space-y-4",children:[d.jsx("span",{className:"text-8xl md:text-9xl block",style:{fontFamily:X.usesCustomFont?X.customFontName||X.name:X.systemFont,fontWeight:X.weight},children:"Aa"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-xl",style:{fontFamily:X.usesCustomFont?X.customFontName||X.name:X.systemFont,fontWeight:X.weight},children:X.usesCustomFont?(X.customFontName||X.name||"Custom Font").replace(/-VariableFont.*$/,"").replace(/VariableFont.*$/,""):X.systemFont}),!X.usesCustomFont&&d.jsxs("span",{className:"text-xs px-2 py-1 bg-muted rounded-full",children:["Weight: ",X.weight]})]}),d.jsx("p",{className:"tracking-wide leading-relaxed break-words",style:{fontFamily:X.usesCustomFont?X.customFontName||X.name:X.systemFont,fontWeight:X.weight,fontSize:`${i}px`,overflowWrap:"break-word",wordWrap:"break-word"},children:_}),X.usesCustomFont&&X.variants&&X.variants.length>0&&d.jsxs("div",{className:"mt-6 pt-4 border-t",children:[d.jsx("h5",{className:"text-sm font-medium mb-3",children:"Available Weights & Styles"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:X.variants.map((Ce,Se)=>d.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-muted/30 rounded",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",style:{fontFamily:X.customFontName||X.name,fontWeight:Ce.weight,fontStyle:Ce.style},children:"Aa"}),d.jsxs("div",{className:"text-xs",children:[d.jsx("div",{className:"font-medium",children:Ce.weight==="100"?"Thin":Ce.weight==="200"?"Extra Light":Ce.weight==="300"?"Light":Ce.weight==="400"?"Regular":Ce.weight==="500"?"Medium":Ce.weight==="600"?"Semi Bold":Ce.weight==="700"?"Bold":Ce.weight==="800"?"Extra Bold":Ce.weight==="900"?"Black":Ce.weight}),Ce.style!=="normal"&&d.jsx("div",{className:"text-muted-foreground",children:Ce.style})]})]}),d.jsxs(Pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(Ce),children:[d.jsx(qn,{className:"h-3 w-3"}),d.jsx("span",{className:"sr-only",children:"Download"})]})]},Se))})]})]})]},X.id))}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Primary Font"}),d.jsxs("div",{className:"border rounded-lg p-4 md:p-6 space-y-4",children:[d.jsx("span",{className:"text-8xl md:text-9xl block",style:{fontFamily:g("primary"),fontWeight:t.fonts.primaryWeight},children:"Aa"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-xl",style:{fontFamily:g("primary"),fontWeight:t.fonts.primaryWeight},children:t.fonts.usesCustomPrimary?t.fonts.customPrimaryFontName||"Custom Primary Font":t.fonts.primary}),d.jsxs("span",{className:"text-xs px-2 py-1 bg-muted rounded-full",children:["Weight: ",t.fonts.primaryWeight]})]}),d.jsx("p",{className:"tracking-wide leading-relaxed break-words",style:{fontFamily:g("primary"),fontWeight:t.fonts.primaryWeight,fontSize:`${i}px`,overflowWrap:"break-word",wordWrap:"break-word"},children:_}),t.fonts.usesCustomPrimary&&((ge=t.fonts.primaryFontVariants)==null?void 0:ge.length)>0&&d.jsxs("div",{className:"mt-6 pt-4 border-t",children:[d.jsx("h5",{className:"text-sm font-medium mb-3",children:"Available Weights & Styles"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.fonts.primaryFontVariants.map((X,xe)=>d.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-muted/30 rounded",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",style:{fontFamily:g("primary"),fontWeight:X.weight,fontStyle:X.style},children:"Aa"}),d.jsxs("div",{className:"text-xs",children:[d.jsx("div",{className:"font-medium",children:X.weight==="100"?"Thin":X.weight==="200"?"Extra Light":X.weight==="300"?"Light":X.weight==="400"?"Regular":X.weight==="500"?"Medium":X.weight==="600"?"Semi Bold":X.weight==="700"?"Bold":X.weight==="800"?"Extra Bold":X.weight==="900"?"Black":X.weight}),X.style!=="normal"&&d.jsx("div",{className:"text-muted-foreground",children:X.style})]})]}),d.jsxs(Pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(X),children:[d.jsx(qn,{className:"h-3 w-3"}),d.jsx("span",{className:"sr-only",children:"Download"})]})]},xe))})]})]})]})}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Secondary Font"}),d.jsxs("div",{className:"border rounded-lg p-4 md:p-6 space-y-4",children:[d.jsx("span",{className:"text-8xl md:text-9xl block",style:{fontFamily:g("secondary"),fontWeight:t.fonts.secondaryWeight},children:"Aa"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-xl",style:{fontFamily:g("secondary"),fontWeight:t.fonts.secondaryWeight},children:t.fonts.usesCustomSecondary?t.fonts.customSecondaryFontName||"Custom Secondary Font":t.fonts.secondary}),d.jsxs("span",{className:"text-xs px-2 py-1 bg-muted rounded-full",children:["Weight: ",t.fonts.secondaryWeight]})]}),d.jsx("p",{className:"tracking-wide leading-relaxed break-words",style:{fontFamily:g("secondary"),fontWeight:t.fonts.secondaryWeight,fontSize:`${i}px`,overflowWrap:"break-word",wordWrap:"break-word"},children:_}),t.fonts.usesCustomSecondary&&((Le=t.fonts.secondaryFontVariants)==null?void 0:Le.length)>0&&d.jsxs("div",{className:"mt-6 pt-4 border-t",children:[d.jsx("h5",{className:"text-sm font-medium mb-3",children:"Available Weights & Styles"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.fonts.secondaryFontVariants.map((X,xe)=>d.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-muted/30 rounded",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",style:{fontFamily:g("secondary"),fontWeight:X.weight,fontStyle:X.style},children:"Aa"}),d.jsxs("div",{className:"text-xs",children:[d.jsx("div",{className:"font-medium",children:X.weight==="100"?"Thin":X.weight==="200"?"Extra Light":X.weight==="300"?"Light":X.weight==="400"?"Regular":X.weight==="500"?"Medium":X.weight==="600"?"Semi Bold":X.weight==="700"?"Bold":X.weight==="800"?"Extra Bold":X.weight==="900"?"Black":X.weight}),X.style!=="normal"&&d.jsx("div",{className:"text-muted-foreground",children:X.style})]})]}),d.jsxs(Pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(X),children:[d.jsx(qn,{className:"h-3 w-3"}),d.jsx("span",{className:"sr-only",children:"Download"})]})]},xe))})]})]})]})})]})]}),(()=>{var Ce;const X=!!t.folderTree,xe=((Ce=t.logoDisplayOptions)==null?void 0:Ce.showFolderPreview)??!0;return console.log("Folder Preview Debug:",{hasFolderTree:X,showFolderPreview:xe,folderTree:t.folderTree?"present":"missing",logoDisplayOptions:t.logoDisplayOptions}),X&&xe})()&&d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"Folder Preview"}),d.jsx("div",{className:"rounded-md border p-4",children:(()=>{const X=me=>{const Te=me.toLowerCase();return!!(Te===".ds_store"||Te.endsWith(".json")||me.startsWith(".")&&me!=="."||Te==="__macosx"||Te==="thumbs.db")},xe=me=>{if(!me||X(me.name))return null;if(me.type==="folder"&&me.children){const Te=me.children.map(We=>xe(We)).filter(We=>We!==null);return{...me,children:Te}}return me},Ce=({node:me,depth:Te=0})=>{const[We,Xe]=b.useState(!0),Fe=me.type==="folder",at=`${Te*16}px`,Qe=async()=>{if(me.type==="file"&&me.dataUrl){try{if(me.mime==="image/svg+xml"){const Ye=await(await fetch(me.dataUrl)).blob(),ft=URL.createObjectURL(Ye),Ke=document.createElement("a");Ke.href=ft,Ke.download=me.name.endsWith(".svg")?me.name:`${me.name}.svg`,Ke.rel="noopener",document.body.appendChild(Ke),Ke.click(),Ke.remove(),URL.revokeObjectURL(ft)}else{const Oe=document.createElement("a");Oe.href=me.dataUrl,Oe.download=me.name,Oe.rel="noopener",document.body.appendChild(Oe),Oe.click(),Oe.remove()}}catch(Oe){console.error("Download failed",Oe)}return}};return d.jsxs("div",{className:"select-none",children:[d.jsxs("div",{className:"flex items-center gap-2 py-1",style:{paddingLeft:at},children:[Fe?d.jsx("button",{className:"text-xs text-muted-foreground hover:text-foreground",onClick:()=>Xe(!We),"aria-label":"toggle",children:We?"":""}):d.jsx("span",{className:"w-3"}),d.jsx("span",{className:Fe?"font-medium cursor-pointer select-none":"cursor-pointer underline-offset-2 hover:underline",onClick:Fe?()=>Xe(!We):Qe,children:me.name})]}),Fe&&We&&me.children&&me.children.map((Oe,Ye)=>d.jsx(Ce,{node:Oe,depth:Te+1},me.path+"-"+Ye))]})},Se=xe(t.folderTree);return Se?Se&&Se.type==="folder"&&(!Se.name||Se.name.trim()==="")?d.jsx("div",{children:Se.children&&Se.children.map((me,Te)=>d.jsx(Ce,{node:me,depth:0},(me.path||"root")+"-"+Te))}):d.jsx(Ce,{node:Se}):null})()})]}),t.examples&&t.examples.length>0&&d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-6",children:"Applications"}),d.jsx("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${e}, minmax(0, 1fr))`},children:[...t.examples].sort((X,xe)=>X.order-xe.order).map(X=>d.jsxs("div",{className:"space-y-4",children:[X.imageData&&d.jsx("div",{className:"border rounded-md overflow-hidden",children:d.jsx("img",{src:X.imageData,alt:X.label,className:"w-full h-auto object-cover"})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-base font-medium",children:X.label}),X.zipFileData&&X.zipFileName&&d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-md",children:[d.jsx(Mg,{className:"h-4 w-4 text-gray-600"}),d.jsx("span",{className:"text-sm text-gray-700 flex-1",children:X.zipFileName}),d.jsxs("button",{onClick:()=>{const xe=document.createElement("a");xe.href=X.zipFileData,xe.download=X.zipFileName,xe.click()},className:"inline-flex items-center gap-1 px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[d.jsx(qn,{className:"h-3 w-3"}),"Download"]})]}),X.link&&d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-md",children:[d.jsx(aT,{className:"h-4 w-4 text-gray-600"}),d.jsx("a",{href:X.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 underline flex-1 truncate",children:X.link})]})]})]},X.id))})]})]})})})}function wN(t){const e=typeof t=="string"?t:t.value,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function A6(t){const e=typeof t=="string"?t:t.value,n=wN(e);return n?(.299*n.r+.587*n.g+.114*n.b)/255>.5?"#000000":"#ffffff":"#000000"}const R6=["admin","guide"];function P6(){const t=Kk(),e=t.customUrl,n=t.id;if(e&&R6.includes(e.toLowerCase()))return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-muted",children:d.jsx(In,{className:"w-full max-w-md mx-4",children:d.jsxs(Hn,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(Ug,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"This URL is reserved for system use."})]})})});const{data:r,error:s,isLoading:i}=Tf({queryKey:[e?`/api/styleguides/by-url/${e}`:`/api/styleguides/${n}`],enabled:!!(e||n),staleTime:0,gcTime:0,refetchOnWindowFocus:!0});return i?d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:d.jsx("p",{children:"Loading style guide..."})}):s||!r?d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-muted",children:d.jsx(In,{className:"w-full max-w-md mx-4",children:d.jsxs(Hn,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(Ug,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Style Guide Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:s instanceof Error?s.message:"The requested style guide could not be found"})]})})}):d.jsx("div",{className:"min-h-screen w-full p-4 md:p-6 lg:p-8",children:d.jsx(Y0,{data:r})})}const _N=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:Ge("w-full caption-bottom text-sm",t),...e})}));_N.displayName="Table";const xN=b.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:Ge("[&_tr]:border-b",t),...e}));xN.displayName="TableHeader";const EN=b.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:Ge("[&_tr:last-child]:border-0",t),...e}));EN.displayName="TableBody";const O6=b.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));O6.displayName="TableFooter";const _y=b.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));_y.displayName="TableRow";const sa=b.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));sa.displayName="TableHead";const ia=b.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ia.displayName="TableCell";const D6=b.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:Ge("mt-4 text-sm text-muted-foreground",t),...e}));D6.displayName="TableCaption";const j6=hu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function th({className:t,variant:e,...n}){return d.jsx("div",{className:Ge(j6({variant:e}),t),...n})}function h1(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function X0(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=b.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:v,children:g})};c.displayName=i+"Provider";function h(f,p){var m;const g=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,L6(s,...e)]}function L6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function f1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=f1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():f1(t[s],null)}}}}function ln(...t){return b.useCallback(bN(...t),t)}function ef(t){const e=F6(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(V6);if(l){const c=l.props.children,h=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function F6(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=B6(s),a=U6(i,s.props);return s.type!==b.Fragment&&(a.ref=r?bN(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M6=Symbol("radix.slottable");function V6(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M6}function U6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function B6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function z6(t){const e=t+"CollectionProvider",[n,r]=X0(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,w=pt.useRef(null),_=pt.useRef(new Map).current;return d.jsx(s,{scope:v,itemMap:_,collectionRef:w,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=ef(a),c=pt.forwardRef((m,v)=>{const{scope:y,children:w}=m,_=i(a,y),S=ln(v,_.collectionRef);return d.jsx(l,{ref:S,children:w})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ef(h),g=pt.forwardRef((m,v)=>{const{scope:y,children:w,..._}=m,S=pt.useRef(null),P=ln(v,S),L=i(h,y);return pt.useEffect(()=>(L.itemMap.set(S,{ref:S,..._}),()=>void L.itemMap.delete(S))),d.jsx(p,{[f]:"",ref:P,children:w})});g.displayName=h;function x(m){const v=i(t+"CollectionConsumer",m);return pt.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((L,T)=>_.indexOf(L.ref.current)-_.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},x,r]}var $6=b.createContext(void 0);function W6(t){const e=b.useContext($6);return t||e||"ltr"}var H6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=H6.reduce((t,e)=>{const n=ef(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function q6(t,e){t&&Ki.flushSync(()=>t.dispatchEvent(e))}function Po(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K6(t,e=globalThis==null?void 0:globalThis.document){const n=Po(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var G6="DismissableLayer",xy="dismissableLayer.update",Q6="dismissableLayer.pointerDownOutside",Y6="dismissableLayer.focusOutside",p1,SN=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),CN=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(SN),[h,f]=b.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),x=ln(e,T=>f(T)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=h?m.indexOf(h):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,P=J6(T=>{const k=T.target,C=[...c.branches].some(O=>O.contains(k));!S||C||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),L=eB(T=>{const k=T.target;[...c.branches].some(O=>O.contains(k))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return K6(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),b.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),m1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p1)}},[h,p,n,c]),b.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),m1())},[h,c]),b.useEffect(()=>{const T=()=>g({});return document.addEventListener(xy,T),()=>document.removeEventListener(xy,T)},[]),d.jsx(Lt.div,{...l,ref:x,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,P.onPointerDownCapture)})});CN.displayName=G6;var X6="DismissableLayerBranch",Z6=b.forwardRef((t,e)=>{const n=b.useContext(SN),r=b.useRef(null),s=ln(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Lt.div,{...t,ref:s})});Z6.displayName=X6;function J6(t,e=globalThis==null?void 0:globalThis.document){const n=Po(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){TN(Q6,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eB(t,e=globalThis==null?void 0:globalThis.document){const n=Po(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&TN(Y6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m1(){const t=new CustomEvent(xy);document.dispatchEvent(t)}function TN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?q6(s,i):s.dispatchEvent(i)}var gm=0;function tB(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??g1()),document.body.insertAdjacentElement("beforeend",t[1]??g1()),gm++,()=>{gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gm--}},[])}function g1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ym="focusScope.autoFocusOnMount",vm="focusScope.autoFocusOnUnmount",y1={bubbles:!1,cancelable:!0},nB="FocusScope",IN=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),c=Po(s),h=Po(i),f=b.useRef(null),p=ln(e,m=>l(m)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let m=function(_){if(g.paused||!a)return;const S=_.target;a.contains(S)?f.current=S:Qs(f.current,{select:!0})},v=function(_){if(g.paused||!a)return;const S=_.relatedTarget;S!==null&&(a.contains(S)||Qs(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const P of _)P.removedNodes.length>0&&Qs(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,g.paused]),b.useEffect(()=>{if(a){w1.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(ym,y1);a.addEventListener(ym,c),a.dispatchEvent(y),y.defaultPrevented||(rB(lB(kN(a)),{select:!0}),document.activeElement===m&&Qs(a))}return()=>{a.removeEventListener(ym,c),setTimeout(()=>{const y=new CustomEvent(vm,y1);a.addEventListener(vm,h),a.dispatchEvent(y),y.defaultPrevented||Qs(m??document.body,{select:!0}),a.removeEventListener(vm,h),w1.remove(g)},0)}}},[a,c,h,g]);const x=b.useCallback(m=>{if(!n&&!r||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const w=m.currentTarget,[_,S]=sB(w);_&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&Qs(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),n&&Qs(S,{select:!0})):y===w&&m.preventDefault()}},[n,r,g.paused]);return d.jsx(Lt.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});IN.displayName=nB;function rB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Qs(r,{select:e}),document.activeElement!==n)return}function sB(t){const e=kN(t),n=v1(e,t),r=v1(e.reverse(),t);return[n,r]}function kN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function v1(t,e){for(const n of t)if(!iB(n,{upTo:e}))return n}function iB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oB(t){return t instanceof HTMLInputElement&&"select"in t}function Qs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oB(t)&&e&&t.select()}}var w1=aB();function aB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_1(t,e),t.unshift(e)},remove(e){var n;t=_1(t,e),(n=t[0])==null||n.resume()}}}function _1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lB(t){return t.filter(e=>e.tagName!=="A")}var Vn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},cB=vl[" useId ".trim().toString()]||(()=>{}),uB=0;function Z0(t){const[e,n]=b.useState(cB());return Vn(()=>{n(r=>r??String(uB++))},[t]),e?`radix-${e}`:""}const dB=["top","right","bottom","left"],Ui=Math.min,Kn=Math.max,tf=Math.round,Ed=Math.floor,Kr=t=>({x:t,y:t}),hB={left:"right",right:"left",bottom:"top",top:"bottom"},fB={start:"end",end:"start"};function Ey(t,e,n){return Kn(t,Ui(e,n))}function Fs(t,e){return typeof t=="function"?t(e):t}function Ms(t){return t.split("-")[0]}function Rl(t){return t.split("-")[1]}function J0(t){return t==="x"?"y":"x"}function ew(t){return t==="y"?"height":"width"}function Bi(t){return["top","bottom"].includes(Ms(t))?"y":"x"}function tw(t){return J0(Bi(t))}function pB(t,e,n){n===void 0&&(n=!1);const r=Rl(t),s=tw(t),i=ew(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=nf(o)),[o,nf(o)]}function mB(t){const e=nf(t);return[by(t),e,by(e)]}function by(t){return t.replace(/start|end/g,e=>fB[e])}function gB(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function yB(t,e,n,r){const s=Rl(t);let i=gB(Ms(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(by)))),i}function nf(t){return t.replace(/left|right|bottom|top/g,e=>hB[e])}function vB(t){return{top:0,right:0,bottom:0,left:0,...t}}function NN(t){return typeof t!="number"?vB(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function x1(t,e,n){let{reference:r,floating:s}=t;const i=Bi(e),o=tw(e),a=ew(o),l=Ms(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Rl(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const wB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=x1(c,r,l),p=r,g={},x=0;for(let m=0;m<a.length;m++){const{name:v,fn:y}=a[m],{x:w,y:_,data:S,reset:P}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});h=w??h,f=_??f,g={...g,[v]:{...g[v],...S}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:f}=x1(c,p,l)),m=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function tu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Fs(e,t),x=NN(g),v=a[p?f==="floating"?"reference":"floating":f],y=rf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},P=rf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(y.top-P.top+x.top)/S.y,bottom:(P.bottom-y.bottom+x.bottom)/S.y,left:(y.left-P.left+x.left)/S.x,right:(P.right-y.right+x.right)/S.x}}const _B=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Fs(t,e)||{};if(c==null)return{};const f=NN(h),p={x:n,y:r},g=tw(s),x=ew(g),m=await o.getDimensions(c),v=g==="y",y=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[g]-p[g]-i.floating[x],P=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=L?L[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(L)))&&(T=a.floating[_]||i.floating[x]);const k=S/2-P/2,C=T/2-m[x]/2-1,O=Ui(f[y],C),j=Ui(f[w],C),R=O,D=T-m[x]-j,N=T/2-m[x]/2+k,G=Ey(R,N,D),oe=!l.arrow&&Rl(s)!=null&&N!==G&&i.reference[x]/2-(N<R?O:j)-m[x]/2<0,Z=oe?N<R?N-R:N-D:0;return{[g]:p[g]+Z,data:{[g]:G,centerOffset:N-G-Z,...oe&&{alignmentOffset:Z}},reset:oe}}}),xB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...v}=Fs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ms(s),w=Bi(a),_=Ms(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(_||!m?[nf(a)]:mB(a)),L=x!=="none";!p&&L&&P.push(...yB(a,m,x,S));const T=[a,...P],k=await tu(e,v),C=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(k[y]),f){const N=pB(s,o,S);C.push(k[N[0]],k[N[1]])}if(O=[...O,{placement:s,overflows:C}],!C.every(N=>N<=0)){var j,R;const N=(((j=i.flip)==null?void 0:j.index)||0)+1,G=T[N];if(G)return{data:{index:N,overflows:O},reset:{placement:G}};let oe=(R=O.filter(Z=>Z.overflows[0]<=0).sort((Z,K)=>Z.overflows[1]-K.overflows[1])[0])==null?void 0:R.placement;if(!oe)switch(g){case"bestFit":{var D;const Z=(D=O.filter(K=>{if(L){const B=Bi(K.placement);return B===w||B==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(B=>B>0).reduce((B,Q)=>B+Q,0)]).sort((K,B)=>K[1]-B[1])[0])==null?void 0:D[0];Z&&(oe=Z);break}case"initialPlacement":oe=a;break}if(s!==oe)return{reset:{placement:oe}}}return{}}}};function E1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b1(t){return dB.some(e=>t[e]>=0)}const EB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Fs(t,e);switch(r){case"referenceHidden":{const i=await tu(e,{...s,elementContext:"reference"}),o=E1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b1(o)}}}case"escaped":{const i=await tu(e,{...s,altBoundary:!0}),o=E1(i,n.floating);return{data:{escapedOffsets:o,escaped:b1(o)}}}default:return{}}}}};async function bB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ms(n),a=Rl(n),l=Bi(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Fs(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const SB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await bB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},CB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...l}=Fs(t,e),c={x:n,y:r},h=await tu(e,l),f=Bi(Ms(s)),p=J0(f);let g=c[p],x=c[f];if(i){const v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",w=g+h[v],_=g-h[y];g=Ey(w,g,_)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=x+h[v],_=x-h[y];x=Ey(w,x,_)}const m=a.fn({...e,[p]:g,[f]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:i,[f]:o}}}}}},TB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fs(t,e),h={x:n,y:r},f=Bi(s),p=J0(f);let g=h[p],x=h[f];const m=Fs(a,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=p==="y"?"height":"width",S=i.reference[p]-i.floating[_]+v.mainAxis,P=i.reference[p]+i.reference[_]-v.mainAxis;g<S?g=S:g>P&&(g=P)}if(c){var y,w;const _=p==="y"?"width":"height",S=["top","left"].includes(Ms(s)),P=i.reference[f]-i.floating[_]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),L=i.reference[f]+i.reference[_]+(S?0:((w=o.offset)==null?void 0:w[f])||0)-(S?v.crossAxis:0);x<P?x=P:x>L&&(x=L)}return{[p]:g,[f]:x}}}},IB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Fs(t,e),h=await tu(e,c),f=Ms(s),p=Rl(s),g=Bi(s)==="y",{width:x,height:m}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,v=p==="end"?"top":"bottom");const w=m-h.top-h.bottom,_=x-h.left-h.right,S=Ui(m-h[v],w),P=Ui(x-h[y],_),L=!e.middlewareData.shift;let T=S,k=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),L&&!p){const O=Kn(h.left,0),j=Kn(h.right,0),R=Kn(h.top,0),D=Kn(h.bottom,0);g?k=x-2*(O!==0||j!==0?O+j:Kn(h.left,h.right)):T=m-2*(R!==0||D!==0?R+D:Kn(h.top,h.bottom))}await l({...e,availableWidth:k,availableHeight:T});const C=await o.getDimensions(a.floating);return x!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function tp(){return typeof window<"u"}function Pl(t){return AN(t)?(t.nodeName||"").toLowerCase():"#document"}function Xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ts(t){var e;return(e=(AN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AN(t){return tp()?t instanceof Node||t instanceof Xn(t).Node:!1}function Rr(t){return tp()?t instanceof Element||t instanceof Xn(t).Element:!1}function Xr(t){return tp()?t instanceof HTMLElement||t instanceof Xn(t).HTMLElement:!1}function S1(t){return!tp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xn(t).ShadowRoot}function ku(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function kB(t){return["table","td","th"].includes(Pl(t))}function np(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function nw(t){const e=rw(),n=Rr(t)?Pr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NB(t){let e=zi(t);for(;Xr(e)&&!gl(e);){if(nw(e))return e;if(np(e))return null;e=zi(e)}return null}function rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(t){return["html","body","#document"].includes(Pl(t))}function Pr(t){return Xn(t).getComputedStyle(t)}function rp(t){return Rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zi(t){if(Pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||S1(t)&&t.host||ts(t);return S1(e)?e.host:e}function RN(t){const e=zi(t);return gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xr(e)&&ku(e)?e:RN(e)}function nu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Xn(s);if(i){const a=Sy(o);return e.concat(o,o.visualViewport||[],ku(s)?s:[],a&&n?nu(a):[])}return e.concat(s,nu(s,[],n))}function Sy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PN(t){const e=Pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=tf(n)!==i||tf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function sw(t){return Rr(t)?t:t.contextElement}function Da(t){const e=sw(t);if(!Xr(e))return Kr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PN(e);let o=(i?tf(n.width):n.width)/r,a=(i?tf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AB=Kr(0);function ON(t){const e=Xn(t);return!rw()||!e.visualViewport?AB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xn(t)?!1:e}function Oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=sw(t);let o=Kr(1);e&&(r?Rr(r)&&(o=Da(r)):o=Da(t));const a=RB(i,n,r)?ON(i):Kr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Xn(i),g=r&&Rr(r)?Xn(r):r;let x=p,m=Sy(x);for(;m&&r&&g!==x;){const v=Da(m),y=m.getBoundingClientRect(),w=Pr(m),_=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,S=y.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,h*=v.x,f*=v.y,l+=_,c+=S,x=Xn(m),m=Sy(x)}}return rf({width:h,height:f,x:l,y:c})}function iw(t,e){const n=rp(t).scrollLeft;return e?e.left+n:Oo(ts(t)).left+n}function DN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:iw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function PB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ts(r),a=e?np(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Kr(1);const h=Kr(0),f=Xr(r);if((f||!f&&!i)&&((Pl(r)!=="body"||ku(o))&&(l=rp(r)),Xr(r))){const g=Oo(r);c=Da(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?DN(o,l,!0):Kr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function OB(t){return Array.from(t.getClientRects())}function DB(t){const e=ts(t),n=rp(t),r=t.ownerDocument.body,s=Kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iw(t);const a=-n.scrollTop;return Pr(r).direction==="rtl"&&(o+=Kn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function jB(t,e){const n=Xn(t),r=ts(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=rw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function LB(t,e){const n=Oo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xr(t)?Da(t):Kr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function C1(t,e,n){let r;if(e==="viewport")r=jB(t,n);else if(e==="document")r=DB(ts(t));else if(Rr(e))r=LB(e,n);else{const s=ON(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rf(r)}function jN(t,e){const n=zi(t);return n===e||!Rr(n)||gl(n)?!1:Pr(n).position==="fixed"||jN(n,e)}function FB(t,e){const n=e.get(t);if(n)return n;let r=nu(t,[],!1).filter(a=>Rr(a)&&Pl(a)!=="body"),s=null;const i=Pr(t).position==="fixed";let o=i?zi(t):t;for(;Rr(o)&&!gl(o);){const a=Pr(o),l=nw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ku(o)&&!l&&jN(t,o))?r=r.filter(h=>h!==o):s=a,o=zi(o)}return e.set(t,r),r}function MB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?np(e)?[]:FB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=C1(e,h,s);return c.top=Kn(f.top,c.top),c.right=Ui(f.right,c.right),c.bottom=Ui(f.bottom,c.bottom),c.left=Kn(f.left,c.left),c},C1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VB(t){const{width:e,height:n}=PN(t);return{width:e,height:n}}function UB(t,e,n){const r=Xr(e),s=ts(e),i=n==="fixed",o=Oo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Kr(0);if(r||!r&&!i)if((Pl(e)!=="body"||ku(s))&&(a=rp(e)),r){const p=Oo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=iw(s));const c=s&&!r&&!i?DN(s,a):Kr(0),h=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:h,y:f,width:o.width,height:o.height}}function wm(t){return Pr(t).position==="static"}function T1(t,e){if(!Xr(t)||Pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ts(t)===n&&(n=n.ownerDocument.body),n}function LN(t,e){const n=Xn(t);if(np(t))return n;if(!Xr(t)){let s=zi(t);for(;s&&!gl(s);){if(Rr(s)&&!wm(s))return s;s=zi(s)}return n}let r=T1(t,e);for(;r&&kB(r)&&wm(r);)r=T1(r,e);return r&&gl(r)&&wm(r)&&!nw(r)?n:r||NB(t)||n}const BB=async function(t){const e=this.getOffsetParent||LN,n=this.getDimensions,r=await n(t.floating);return{reference:UB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zB(t){return Pr(t).direction==="rtl"}const $B={convertOffsetParentRelativeRectToViewportRelativeRect:PB,getDocumentElement:ts,getClippingRect:MB,getOffsetParent:LN,getElementRects:BB,getClientRects:OB,getDimensions:VB,getScale:Da,isElement:Rr,isRTL:zB};function WB(t,e){let n=null,r;const s=ts(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=Ed(h),x=Ed(s.clientWidth-(c+f)),m=Ed(s.clientHeight-(h+p)),v=Ed(c),w={rootMargin:-g+"px "+-x+"px "+-m+"px "+-v+"px",threshold:Kn(0,Ui(1,l))||1};let _=!0;function S(P){const L=P[0].intersectionRatio;if(L!==l){if(!_)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function HB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=sw(t),h=s||i?[...c?nu(c):[],...nu(e)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=c&&a?WB(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,m=l?Oo(t):null;l&&v();function v(){const y=Oo(t);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,x=requestAnimationFrame(v)}return n(),()=>{var y;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const qB=SB,KB=CB,GB=xB,QB=IB,YB=EB,I1=_B,XB=TB,ZB=(t,e,n)=>{const r=new Map,s={platform:$B,...n},i={...s.platform,_c:r};return wB(t,e,{...s,platform:i})};var nh=typeof document<"u"?b.useLayoutEffect:b.useEffect;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k1(t,e){const n=FN(t);return Math.round(e*n)/n}function _m(t){const e=b.useRef(t);return nh(()=>{e.current=t}),e}function JB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(r);sf(p,r)||g(r);const[x,m]=b.useState(null),[v,y]=b.useState(null),w=b.useCallback(K=>{K!==L.current&&(L.current=K,m(K))},[]),_=b.useCallback(K=>{K!==T.current&&(T.current=K,y(K))},[]),S=i||x,P=o||v,L=b.useRef(null),T=b.useRef(null),k=b.useRef(h),C=l!=null,O=_m(l),j=_m(s),R=_m(c),D=b.useCallback(()=>{if(!L.current||!T.current)return;const K={placement:e,strategy:n,middleware:p};j.current&&(K.platform=j.current),ZB(L.current,T.current,K).then(B=>{const Q={...B,isPositioned:R.current!==!1};N.current&&!sf(k.current,Q)&&(k.current=Q,Ki.flushSync(()=>{f(Q)}))})},[p,e,n,j,R]);nh(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[c]);const N=b.useRef(!1);nh(()=>(N.current=!0,()=>{N.current=!1}),[]),nh(()=>{if(S&&(L.current=S),P&&(T.current=P),S&&P){if(O.current)return O.current(S,P,D);D()}},[S,P,D,O,C]);const G=b.useMemo(()=>({reference:L,floating:T,setReference:w,setFloating:_}),[w,_]),oe=b.useMemo(()=>({reference:S,floating:P}),[S,P]),Z=b.useMemo(()=>{const K={position:n,left:0,top:0};if(!oe.floating)return K;const B=k1(oe.floating,h.x),Q=k1(oe.floating,h.y);return a?{...K,transform:"translate("+B+"px, "+Q+"px)",...FN(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Q}},[n,a,oe.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:D,refs:G,elements:oe,floatingStyles:Z}),[h,D,G,oe,Z])}const ez=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?I1({element:r.current,padding:s}).fn(n):{}:r?I1({element:r,padding:s}).fn(n):{}}}},tz=(t,e)=>({...qB(t),options:[t,e]}),nz=(t,e)=>({...KB(t),options:[t,e]}),rz=(t,e)=>({...XB(t),options:[t,e]}),sz=(t,e)=>({...GB(t),options:[t,e]}),iz=(t,e)=>({...QB(t),options:[t,e]}),oz=(t,e)=>({...YB(t),options:[t,e]}),az=(t,e)=>({...ez(t),options:[t,e]});var lz="Arrow",MN=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Lt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});MN.displayName=lz;var cz=MN;function uz(t){const[e,n]=b.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ow="Popper",[VN,UN]=X0(ow),[dz,BN]=VN(ow),zN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return d.jsx(dz,{scope:e,anchor:r,onAnchorChange:s,children:n})};zN.displayName=ow;var $N="PopperAnchor",WN=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BN($N,n),o=b.useRef(null),a=ln(e,o),l=b.useRef(null);return b.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:d.jsx(Lt.div,{...s,ref:a})});WN.displayName=$N;var aw="PopperContent",[hz,fz]=VN(aw),HN=b.forwardRef((t,e)=>{var $,re,ce,Ee,ve,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...m}=t,v=BN(aw,n),[y,w]=b.useState(null),_=ln(e,Ae=>w(Ae)),[S,P]=b.useState(null),L=uz(S),T=(L==null?void 0:L.width)??0,k=(L==null?void 0:L.height)??0,C=r+(i!=="center"?"-"+i:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(c)?c:[c],R=j.length>0,D={padding:O,boundary:j.filter(mz),altBoundary:R},{refs:N,floatingStyles:G,placement:oe,isPositioned:Z,middlewareData:K}=JB({strategy:"fixed",placement:C,whileElementsMounted:(...Ae)=>HB(...Ae,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[tz({mainAxis:s+k,alignmentAxis:o}),l&&nz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rz():void 0,...D}),l&&sz({...D}),iz({...D,apply:({elements:Ae,rects:I,availableWidth:J,availableHeight:ee})=>{const{width:V,height:M}=I.reference,q=Ae.floating.style;q.setProperty("--radix-popper-available-width",`${J}px`),q.setProperty("--radix-popper-available-height",`${ee}px`),q.setProperty("--radix-popper-anchor-width",`${V}px`),q.setProperty("--radix-popper-anchor-height",`${M}px`)}}),S&&az({element:S,padding:a}),gz({arrowWidth:T,arrowHeight:k}),p&&oz({strategy:"referenceHidden",...D})]}),[B,Q]=GN(oe),U=Po(x);Vn(()=>{Z&&(U==null||U())},[Z,U]);const z=($=K.arrow)==null?void 0:$.x,he=(re=K.arrow)==null?void 0:re.y,ue=((ce=K.arrow)==null?void 0:ce.centerOffset)!==0,[pe,le]=b.useState();return Vn(()=>{y&&le(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Z?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Ee=K.transformOrigin)==null?void 0:Ee.x,(ve=K.transformOrigin)==null?void 0:ve.y].join(" "),...((te=K.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(hz,{scope:n,placedSide:B,onArrowChange:P,arrowX:z,arrowY:he,shouldHideArrow:ue,children:d.jsx(Lt.div,{"data-side":B,"data-align":Q,...m,ref:_,style:{...m.style,animation:Z?void 0:"none"}})})})});HN.displayName=aw;var qN="PopperArrow",pz={top:"bottom",right:"left",bottom:"top",left:"right"},KN=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=fz(qN,r),o=pz[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(cz,{...s,ref:n,style:{...s.style,display:"block"}})})});KN.displayName=qN;function mz(t){return t!==null}var gz=t=>({name:"transformOrigin",options:t,fn(e){var v,y,w;const{placement:n,rects:r,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=GN(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let x="",m="";return c==="bottom"?(x=o?f:`${p}px`,m=`${-l}px`):c==="top"?(x=o?f:`${p}px`,m=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,m=o?f:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,m=o?f:`${g}px`),{data:{x,y:m}}}});function GN(t){const[e,n="center"]=t.split("-");return[e,n]}var yz=zN,vz=WN,wz=HN,_z=KN,xz="Portal",QN=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Vn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uC.createPortal(d.jsx(Lt.div,{...r,ref:e}),o):null});QN.displayName=xz;var Ez=vl[" useInsertionEffect ".trim().toString()]||Vn;function N1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=bz({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=b.useRef(t!==void 0);b.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=b.useCallback(h=>{var f;if(a){const p=Sz(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function bz({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return Ez(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Sz(t){return typeof t=="function"}function Cz(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var YN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tz="VisuallyHidden",Iz=b.forwardRef((t,e)=>d.jsx(Lt.span,{...t,ref:e,style:{...YN,...t.style}}));Iz.displayName=Tz;var kz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xo=new WeakMap,bd=new WeakMap,Sd={},xm=0,XN=function(t){return t&&(t.host||XN(t.parentNode))},Nz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=XN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Az=function(t,e,n,r){var s=Nz(e,Array.isArray(t)?t:[t]);Sd[n]||(Sd[n]=new WeakMap);var i=Sd[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),x=g!==null&&g!=="false",m=(Xo.get(p)||0)+1,v=(i.get(p)||0)+1;Xo.set(p,m),i.set(p,v),o.push(p),m===1&&x&&bd.set(p,!0),v===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return h(e),a.clear(),xm++,function(){o.forEach(function(f){var p=Xo.get(f)-1,g=i.get(f)-1;Xo.set(f,p),i.set(f,g),p||(bd.has(f)||f.removeAttribute(r),bd.delete(f)),g||f.removeAttribute(n)}),xm--,xm||(Xo=new WeakMap,Xo=new WeakMap,bd=new WeakMap,Sd={})}},Rz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=kz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Az(r,s,n,"aria-hidden")):function(){return null}},rh="right-scroll-bar-position",sh="width-before-scroll-bar",Pz="with-scroll-bars-hidden",Oz="--removed-body-scroll-bar-size";function Em(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dz(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var jz=typeof window<"u"?b.useLayoutEffect:b.useEffect,A1=new WeakMap;function Lz(t,e){var n=Dz(null,function(r){return t.forEach(function(s){return Em(s,r)})});return jz(function(){var r=A1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Em(a,null)}),i.forEach(function(a){s.has(a)||Em(a,o)})}A1.set(n,t)},[t]),n}function Fz(t){return t}function Mz(t,e){e===void 0&&(e=Fz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function Vz(t){t===void 0&&(t={});var e=Mz(null);return e.options=Ur({async:!0,ssr:!1},t),e}var ZN=function(t){var e=t.sideCar,n=gu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ur({},n))};ZN.isSideCarExport=!0;function Uz(t,e){return t.useMedium(e),ZN}var JN=Vz(),bm=function(){},sp=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,x=t.noIsolation,m=t.inert,v=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,_=t.gapMode,S=gu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,L=Lz([n,e]),T=Ur(Ur({},S),s);return b.createElement(b.Fragment,null,h&&b.createElement(P,{sideCar:JN,removeScrollBar:c,shards:f,noRelative:g,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?b.cloneElement(b.Children.only(a),Ur(Ur({},T),{ref:L})):b.createElement(w,Ur({},T,{className:l,ref:L}),a))});sp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sp.classNames={fullWidth:sh,zeroRight:rh};var Bz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bz();return e&&t.setAttribute("nonce",e),t}function $z(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Wz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zz())&&($z(e,n),Wz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qz=function(){var t=Hz();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eA=function(){var t=qz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Kz={left:0,top:0,right:0,gap:0},Sm=function(t){return parseInt(t||"",10)||0},Gz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sm(n),Sm(r),Sm(s)]},Qz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Kz;var e=Gz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Yz=eA(),ja="data-scroll-locked",Xz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Pz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ja,`] {
    `).concat(Oz,": ").concat(a,`px;
  }
`)},R1=function(){var t=parseInt(document.body.getAttribute(ja)||"0",10);return isFinite(t)?t:0},Zz=function(){b.useEffect(function(){return document.body.setAttribute(ja,(R1()+1).toString()),function(){var t=R1()-1;t<=0?document.body.removeAttribute(ja):document.body.setAttribute(ja,t.toString())}},[])},Jz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Zz();var i=b.useMemo(function(){return Qz(s)},[s]);return b.createElement(Yz,{styles:Xz(i,!e,s,n?"":"!important")})},Cy=!1;if(typeof window<"u")try{var Cd=Object.defineProperty({},"passive",{get:function(){return Cy=!0,!0}});window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{Cy=!1}var Zo=Cy?{passive:!1}:!1,e$=function(t){return t.tagName==="TEXTAREA"},tA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!e$(t)&&n[e]==="visible")},t$=function(t){return tA(t,"overflowY")},n$=function(t){return tA(t,"overflowX")},P1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nA(t,r);if(s){var i=rA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},r$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},s$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nA=function(t,e){return t==="v"?t$(e):n$(e)},rA=function(t,e){return t==="v"?r$(e):s$(e)},i$=function(t,e){return t==="h"&&e==="rtl"?-1:1},o$=function(t,e,n,r,s){var i=i$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{if(!a)break;var g=rA(t,a),x=g[0],m=g[1],v=g[2],y=m-v-i*x;(x||y)&&nA(t,a)&&(f+=y,p+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(c=!0),c},Td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},O1=function(t){return[t.deltaX,t.deltaY]},D1=function(t){return t&&"current"in t?t.current:t},a$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},l$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c$=0,Jo=[];function u$(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(c$++)[0],i=b.useState(eA)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=IF([t.lockRef.current],(t.shards||[]).map(D1),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Td(m),w=n.current,_="deltaX"in m?m.deltaX:w[0]-y[0],S="deltaY"in m?m.deltaY:w[1]-y[1],P,L=m.target,T=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&L.type==="range")return!1;var k=P1(T,L);if(!k)return!0;if(k?P=T:(P=T==="v"?"h":"v",k=P1(T,L)),!k)return!1;if(!r.current&&"changedTouches"in m&&(_||S)&&(r.current=P),!P)return!0;var C=r.current||P;return o$(C,v,m,C==="h"?_:S,!0)},[]),l=b.useCallback(function(m){var v=m;if(!(!Jo.length||Jo[Jo.length-1]!==i)){var y="deltaY"in v?O1(v):Td(v),w=e.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&a$(P.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(D1).filter(Boolean).filter(function(P){return P.contains(v.target)}),S=_.length>0?a(v,_[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=b.useCallback(function(m,v,y,w){var _={name:m,delta:v,target:y,should:w,shadowParent:d$(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),h=b.useCallback(function(m){n.current=Td(m),r.current=void 0},[]),f=b.useCallback(function(m){c(m.type,O1(m),m.target,a(m,t.lockRef.current))},[]),p=b.useCallback(function(m){c(m.type,Td(m),m.target,a(m,t.lockRef.current))},[]);b.useEffect(function(){return Jo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Zo),document.addEventListener("touchmove",l,Zo),document.addEventListener("touchstart",h,Zo),function(){Jo=Jo.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Zo),document.removeEventListener("touchmove",l,Zo),document.removeEventListener("touchstart",h,Zo)}},[]);var g=t.removeScrollBar,x=t.inert;return b.createElement(b.Fragment,null,x?b.createElement(i,{styles:l$(s)}):null,g?b.createElement(Jz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function d$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const h$=Uz(JN,u$);var sA=b.forwardRef(function(t,e){return b.createElement(sp,Ur({},t,{ref:e,sideCar:h$}))});sA.classNames=sp.classNames;var f$=[" ","Enter","ArrowUp","ArrowDown"],p$=[" ","Enter"],Do="Select",[ip,op,m$]=z6(Do),[Ol,nW]=X0(Do,[m$,UN]),ap=UN(),[g$,Qi]=Ol(Do),[y$,v$]=Ol(Do),iA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:p,required:g,form:x}=t,m=ap(e),[v,y]=b.useState(null),[w,_]=b.useState(null),[S,P]=b.useState(!1),L=W6(c),[T,k]=N1({prop:r,defaultProp:s??!1,onChange:i,caller:Do}),[C,O]=N1({prop:o,defaultProp:a,onChange:l,caller:Do}),j=b.useRef(null),R=v?x||!!v.closest("form"):!0,[D,N]=b.useState(new Set),G=Array.from(D).map(oe=>oe.props.value).join(";");return d.jsx(yz,{...m,children:d.jsxs(g$,{required:g,scope:e,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:P,contentId:Z0(),value:C,onValueChange:O,open:T,onOpenChange:k,dir:L,triggerPointerDownPosRef:j,disabled:p,children:[d.jsx(ip.Provider,{scope:e,children:d.jsx(y$,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(oe=>{N(Z=>new Set(Z).add(oe))},[]),onNativeOptionRemove:b.useCallback(oe=>{N(Z=>{const K=new Set(Z);return K.delete(oe),K})},[]),children:n})}),R?d.jsxs(NA,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:oe=>O(oe.target.value),disabled:p,form:x,children:[C===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},G):null]})})};iA.displayName=Do;var oA="SelectTrigger",aA=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ap(n),o=Qi(oA,n),a=o.disabled||r,l=ln(e,o.onTriggerChange),c=op(n),h=b.useRef("touch"),[f,p,g]=RA(m=>{const v=c().filter(_=>!_.disabled),y=v.find(_=>_.value===o.value),w=PA(v,m,y);w!==void 0&&o.onValueChange(w.value)}),x=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(vz,{asChild:!0,...i,children:d.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AA(o.value)?"":void 0,...s,ref:l,onClick:Mt(s.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&x(m)}),onPointerDown:Mt(s.onPointerDown,m=>{h.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:Mt(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&f$.includes(m.key)&&(x(),m.preventDefault())})})})});aA.displayName=oA;var lA="SelectValue",cA=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Qi(lA,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,f=ln(e,l.onValueNodeChange);return Vn(()=>{c(h)},[c,h]),d.jsx(Lt.span,{...a,ref:f,style:{pointerEvents:"none"},children:AA(l.value)?d.jsx(d.Fragment,{children:o}):i})});cA.displayName=lA;var w$="SelectIcon",uA=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Lt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});uA.displayName=w$;var _$="SelectPortal",dA=t=>d.jsx(QN,{asChild:!0,...t});dA.displayName=_$;var jo="SelectContent",hA=b.forwardRef((t,e)=>{const n=Qi(jo,t.__scopeSelect),[r,s]=b.useState();if(Vn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ki.createPortal(d.jsx(fA,{scope:t.__scopeSelect,children:d.jsx(ip.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(pA,{...t,ref:e})});hA.displayName=jo;var yr=10,[fA,Yi]=Ol(jo),x$="SelectContentImpl",E$=ef("SelectContent.RemoveScroll"),pA=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:v,...y}=t,w=Qi(jo,n),[_,S]=b.useState(null),[P,L]=b.useState(null),T=ln(e,$=>S($)),[k,C]=b.useState(null),[O,j]=b.useState(null),R=op(n),[D,N]=b.useState(!1),G=b.useRef(!1);b.useEffect(()=>{if(_)return Rz(_)},[_]),tB();const oe=b.useCallback($=>{const[re,...ce]=R().map(te=>te.ref.current),[Ee]=ce.slice(-1),ve=document.activeElement;for(const te of $)if(te===ve||(te==null||te.scrollIntoView({block:"nearest"}),te===re&&P&&(P.scrollTop=0),te===Ee&&P&&(P.scrollTop=P.scrollHeight),te==null||te.focus(),document.activeElement!==ve))return},[R,P]),Z=b.useCallback(()=>oe([k,_]),[oe,k,_]);b.useEffect(()=>{D&&Z()},[D,Z]);const{onOpenChange:K,triggerPointerDownPosRef:B}=w;b.useEffect(()=>{if(_){let $={x:0,y:0};const re=Ee=>{var ve,te;$={x:Math.abs(Math.round(Ee.pageX)-(((ve=B.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((te=B.current)==null?void 0:te.y)??0))}},ce=Ee=>{$.x<=10&&$.y<=10?Ee.preventDefault():_.contains(Ee.target)||K(!1),document.removeEventListener("pointermove",re),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ce,{capture:!0})}}},[_,K,B]),b.useEffect(()=>{const $=()=>K(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[K]);const[Q,U]=RA($=>{const re=R().filter(ve=>!ve.disabled),ce=re.find(ve=>ve.ref.current===document.activeElement),Ee=PA(re,$,ce);Ee&&setTimeout(()=>Ee.ref.current.focus())}),z=b.useCallback(($,re,ce)=>{const Ee=!G.current&&!ce;(w.value!==void 0&&w.value===re||Ee)&&(C($),Ee&&(G.current=!0))},[w.value]),he=b.useCallback(()=>_==null?void 0:_.focus(),[_]),ue=b.useCallback(($,re,ce)=>{const Ee=!G.current&&!ce;(w.value!==void 0&&w.value===re||Ee)&&j($)},[w.value]),pe=r==="popper"?Ty:mA,le=pe===Ty?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:v}:{};return d.jsx(fA,{scope:n,content:_,viewport:P,onViewportChange:L,itemRefCallback:z,selectedItem:k,onItemLeave:he,itemTextRefCallback:ue,focusSelectedItem:Z,selectedItemText:O,position:r,isPositioned:D,searchRef:Q,children:d.jsx(sA,{as:E$,allowPinchZoom:!0,children:d.jsx(IN,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Mt(s,$=>{var re;(re=w.trigger)==null||re.focus({preventScroll:!0}),$.preventDefault()}),children:d.jsx(CN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(pe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...y,...le,onPlaced:()=>N(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Mt(y.onKeyDown,$=>{const re=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!re&&$.key.length===1&&U($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let Ee=R().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes($.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ve=$.target,te=Ee.indexOf(ve);Ee=Ee.slice(te+1)}setTimeout(()=>oe(Ee)),$.preventDefault()}})})})})})})});pA.displayName=x$;var b$="SelectItemAlignedPosition",mA=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Qi(jo,n),o=Yi(jo,n),[a,l]=b.useState(null),[c,h]=b.useState(null),f=ln(e,T=>h(T)),p=op(n),g=b.useRef(!1),x=b.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=o,_=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&v&&y){const T=i.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const ve=O.left-k.left,te=C.left-ve,Ae=T.left-te,I=T.width+Ae,J=Math.max(I,k.width),ee=window.innerWidth-yr,V=h1(te,[yr,Math.max(yr,ee-J)]);a.style.minWidth=I+"px",a.style.left=V+"px"}else{const ve=k.right-O.right,te=window.innerWidth-C.right-ve,Ae=window.innerWidth-T.right-te,I=T.width+Ae,J=Math.max(I,k.width),ee=window.innerWidth-yr,V=h1(te,[yr,Math.max(yr,ee-J)]);a.style.minWidth=I+"px",a.style.right=V+"px"}const j=p(),R=window.innerHeight-yr*2,D=m.scrollHeight,N=window.getComputedStyle(c),G=parseInt(N.borderTopWidth,10),oe=parseInt(N.paddingTop,10),Z=parseInt(N.borderBottomWidth,10),K=parseInt(N.paddingBottom,10),B=G+oe+D+K+Z,Q=Math.min(v.offsetHeight*5,B),U=window.getComputedStyle(m),z=parseInt(U.paddingTop,10),he=parseInt(U.paddingBottom,10),ue=T.top+T.height/2-yr,pe=R-ue,le=v.offsetHeight/2,$=v.offsetTop+le,re=G+oe+$,ce=B-re;if(re<=ue){const ve=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const te=c.clientHeight-m.offsetTop-m.offsetHeight,Ae=Math.max(pe,le+(ve?he:0)+te+Z),I=re+Ae;a.style.height=I+"px"}else{const ve=j.length>0&&v===j[0].ref.current;a.style.top="0px";const Ae=Math.max(ue,G+m.offsetTop+(ve?z:0)+le)+ce;a.style.height=Ae+"px",m.scrollTop=re-ue+m.offsetTop}a.style.margin=`${yr}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,m,v,y,i.dir,r]);Vn(()=>_(),[_]);const[S,P]=b.useState();Vn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const L=b.useCallback(T=>{T&&x.current===!0&&(_(),w==null||w(),x.current=!1)},[_,w]);return d.jsx(C$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:L,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(Lt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mA.displayName=b$;var S$="SelectPopperPosition",Ty=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=yr,...i}=t,o=ap(n);return d.jsx(wz,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ty.displayName=S$;var[C$,lw]=Ol(jo,{}),Iy="SelectViewport",gA=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Yi(Iy,n),o=lw(Iy,n),a=ln(e,i.onViewportChange),l=b.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(ip.Slot,{scope:n,children:d.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Mt(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-h.scrollTop);if(g>0){const x=window.innerHeight-yr*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<x){const w=y+g,_=Math.min(x,w),S=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});gA.displayName=Iy;var yA="SelectGroup",[T$,I$]=Ol(yA),k$=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Z0();return d.jsx(T$,{scope:n,id:s,children:d.jsx(Lt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});k$.displayName=yA;var vA="SelectLabel",wA=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=I$(vA,n);return d.jsx(Lt.div,{id:s.id,...r,ref:e})});wA.displayName=vA;var of="SelectItem",[N$,_A]=Ol(of),xA=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Qi(of,n),l=Yi(of,n),c=a.value===r,[h,f]=b.useState(i??""),[p,g]=b.useState(!1),x=ln(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),m=Z0(),v=b.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(N$,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:b.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(ip.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Lt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Mt(o.onFocus,()=>g(!0)),onBlur:Mt(o.onBlur,()=>g(!1)),onClick:Mt(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Mt(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Mt(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Mt(o.onPointerMove,w=>{var _;v.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Mt(o.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(p$.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});xA.displayName=of;var dc="SelectItemText",EA=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Qi(dc,n),a=Yi(dc,n),l=_A(dc,n),c=v$(dc,n),[h,f]=b.useState(null),p=ln(e,y=>f(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),g=h==null?void 0:h.textContent,x=b.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return Vn(()=>(m(x),()=>v(x)),[m,v,x]),d.jsxs(d.Fragment,{children:[d.jsx(Lt.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ki.createPortal(i.children,o.valueNode):null]})});EA.displayName=dc;var bA="SelectItemIndicator",SA=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _A(bA,n).isSelected?d.jsx(Lt.span,{"aria-hidden":!0,...r,ref:e}):null});SA.displayName=bA;var ky="SelectScrollUpButton",CA=b.forwardRef((t,e)=>{const n=Yi(ky,t.__scopeSelect),r=lw(ky,t.__scopeSelect),[s,i]=b.useState(!1),o=ln(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});CA.displayName=ky;var Ny="SelectScrollDownButton",TA=b.forwardRef((t,e)=>{const n=Yi(Ny,t.__scopeSelect),r=lw(Ny,t.__scopeSelect),[s,i]=b.useState(!1),o=ln(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});TA.displayName=Ny;var IA=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Yi("SelectScrollButton",n),o=b.useRef(null),a=op(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Vn(()=>{var h;const c=a().find(f=>f.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Lt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Mt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Mt(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Mt(s.onPointerLeave,()=>{l()})})}),A$="SelectSeparator",kA=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Lt.div,{"aria-hidden":!0,...r,ref:e})});kA.displayName=A$;var Ay="SelectArrow",R$=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ap(n),i=Qi(Ay,n),o=Yi(Ay,n);return i.open&&o.position==="popper"?d.jsx(_z,{...s,...r,ref:e}):null});R$.displayName=Ay;var P$="SelectBubbleInput",NA=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=ln(r,s),o=Cz(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Lt.select,{...n,style:{...YN,...n.style},ref:i,defaultValue:e})});NA.displayName=P$;function AA(t){return t===""||t===void 0}function RA(t){const e=Po(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function PA(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=O$(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function O$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var D$=iA,OA=aA,j$=cA,L$=uA,F$=dA,DA=hA,M$=gA,jA=wA,LA=xA,V$=EA,U$=SA,FA=CA,MA=TA,VA=kA;const Ni=D$,Ai=j$,Ss=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(OA,{ref:r,className:Ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(L$,{asChild:!0,children:d.jsx(Af,{className:"h-4 w-4 opacity-50"})})]}));Ss.displayName=OA.displayName;const UA=b.forwardRef(({className:t,...e},n)=>d.jsx(FA,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(zv,{className:"h-4 w-4"})}));UA.displayName=FA.displayName;const BA=b.forwardRef(({className:t,...e},n)=>d.jsx(MA,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Af,{className:"h-4 w-4"})}));BA.displayName=MA.displayName;const Cs=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(F$,{children:d.jsxs(DA,{ref:s,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(UA,{}),d.jsx(M$,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(BA,{})]})}));Cs.displayName=DA.displayName;const B$=b.forwardRef(({className:t,...e},n)=>d.jsx(jA,{ref:n,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));B$.displayName=jA.displayName;const Vt=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(LA,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(U$,{children:d.jsx(Nf,{className:"h-4 w-4"})})}),d.jsx(V$,{children:e})]}));Vt.displayName=LA.displayName;const z$=b.forwardRef(({className:t,...e},n)=>d.jsx(VA,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",t),...e}));z$.displayName=VA.displayName;function $$(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function j1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zA(...t){return e=>{let n=!1;const r=t.map(s=>{const i=j1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():j1(t[s],null)}}}}function $A(...t){return b.useCallback(zA(...t),t)}var WA=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),i=s.find(H$);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return d.jsx(Ry,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return d.jsx(Ry,{...r,ref:e,children:n})});WA.displayName="Slot";var Ry=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=K$(n);return b.cloneElement(n,{...q$(r,n.props),ref:e?zA(e,s):s})}return b.Children.count(n)>1?b.Children.only(null):null});Ry.displayName="SlotClone";var W$=({children:t})=>d.jsx(d.Fragment,{children:t});function H$(t){return b.isValidElement(t)&&t.type===W$}function q$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function K$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var G$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cw=G$.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?WA:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Q$(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var HA=t=>{const{present:e,children:n}=t,r=Y$(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=$A(r.ref,X$(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};HA.displayName="Presence";function Y$(t){const[e,n]=b.useState(),r=b.useRef({}),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Q$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Id(r.current);i.current=a==="mounted"?c:"none"},[a]),Oi(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=Id(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Oi(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=g=>{const m=Id(r.current).includes(g.animationName);if(g.target===e&&m&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=g=>{g.target===e&&(i.current=Id(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Id(t){return(t==null?void 0:t.animationName)||"none"}function X$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Z$=vl.useId||(()=>{}),J$=0;function e8(t){const[e,n]=b.useState(Z$());return Oi(()=>{t||n(r=>r??String(J$++))},[t]),t||(e?`radix-${e}`:"")}var uw="Collapsible",[t8,rW]=IC(uw),[n8,dw]=t8(uw),qA=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,c]=jC({prop:r,defaultProp:s,onChange:o});return d.jsx(n8,{scope:n,disabled:i,contentId:e8(),open:l,onOpenToggle:b.useCallback(()=>c(h=>!h),[c]),children:d.jsx(cw.div,{"data-state":fw(l),"data-disabled":i?"":void 0,...a,ref:e})})});qA.displayName=uw;var KA="CollapsibleTrigger",GA=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=dw(KA,n);return d.jsx(cw.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":fw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:$$(t.onClick,s.onOpenToggle)})});GA.displayName=KA;var hw="CollapsibleContent",QA=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=dw(hw,t.__scopeCollapsible);return d.jsx(HA,{present:n||s.open,children:({present:i})=>d.jsx(r8,{...r,ref:e,present:i})})});QA.displayName=hw;var r8=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=dw(hw,n),[a,l]=b.useState(r),c=b.useRef(null),h=$A(e,c),f=b.useRef(0),p=f.current,g=b.useRef(0),x=g.current,m=o.open||a,v=b.useRef(m),y=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Oi(()=>{const w=c.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();f.current=_.height,g.current=_.width,v.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),d.jsx(cw.div,{"data-state":fw(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:m&&s})});function fw(t){return t?"open":"closed"}var s8=qA;const i8=s8,o8=GA,a8=QA,l8=hu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Py=b.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:Ge(l8({variant:e}),t),...n}));Py.displayName="Alert";const c8=b.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:Ge("mb-1 font-medium leading-none tracking-tight",t),...e}));c8.displayName="AlertTitle";const Oy=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ge("text-sm [&_p]:leading-relaxed",t),...e}));Oy.displayName="AlertDescription";function u8(){const{user:t}=M0(),{toast:e}=Gi(),n=Cf(),[r,s]=b.useState(null),[i,o]=b.useState(!1),[a,l]=b.useState("date-desc"),[c,h]=b.useState(new Set),f=(t==null?void 0:t.email)==="ebaqcompany@gmail.com",{data:p=[],isLoading:g,error:x}=Tf({queryKey:["admin","allStyleGuides"],queryFn:C5,enabled:f&&!!t}),m=Pg({mutationFn:T5,onSuccess:()=>{n.invalidateQueries({queryKey:["admin","allStyleGuides"]}),e({title:"Success",description:"Style guide deleted successfully"}),s(null)},onError:C=>{e({title:"Error",description:C.message,variant:"destructive"}),s(null)}}),v=p.length,y=new Set(p.map(C=>C.userId)).size,w=p.filter(C=>{const O=new Date(C.createdAt),j=new Date;return O.getMonth()===j.getMonth()&&O.getFullYear()===j.getFullYear()}).length,_=b.useMemo(()=>[...p].sort((O,j)=>{switch(a){case"date-desc":return new Date(j.createdAt||0).getTime()-new Date(O.createdAt||0).getTime();case"date-asc":return new Date(O.createdAt||0).getTime()-new Date(j.createdAt||0).getTime();case"company-asc":return(O.companyName||"").localeCompare(j.companyName||"");case"company-desc":return(j.companyName||"").localeCompare(O.companyName||"");default:return 0}}),[p,a]),S=b.useMemo(()=>_.reduce((C,O)=>{const j=O.userEmail||"Unknown";return C[j]||(C[j]=[]),C[j].push(O),C},{}),[_]),P=b.useMemo(()=>Object.entries(S).sort(([,C],[,O])=>O.length-C.length),[S]),L=C=>{const O=new Set(c);O.has(C)?O.delete(C):O.add(C),h(O)},T=async(C,O)=>{window.confirm(`Are you sure you want to delete "${O}"?`)&&(s(C),m.mutate(C))},k=async()=>{if(window.confirm("This will remove duplicate style guides. Are you sure?")){o(!0);try{if(!t)throw new Error("User not authenticated");const C=await t.getIdToken(),O=await fetch("/api/styleguides/cleanupDuplicates",{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}),j=await O.json();if(O.ok)e({title:"Success",description:`Cleanup completed: ${j.message}`}),n.invalidateQueries({queryKey:["admin","allStyleGuides"]});else throw new Error(j.message||"Cleanup failed")}catch(C){e({title:"Error",description:C.message,variant:"destructive"})}finally{o(!1)}}};return t?f?g?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),d.jsx("p",{children:"Loading admin dashboard..."})]})}):x?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs(In,{className:"w-96",children:[d.jsx(os,{children:d.jsx(as,{children:"Error"})}),d.jsx(Hn,{children:d.jsx(Py,{children:d.jsxs(Oy,{children:["Failed to load data: ",x.message]})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Manage style guides and monitor platform usage"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs(In,{children:[d.jsxs(os,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(as,{className:"text-sm font-medium",children:"Total Style Guides"}),d.jsx(iT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Hn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:v}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]}),d.jsxs(In,{children:[d.jsxs(os,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(as,{className:"text-sm font-medium",children:"Active Users"}),d.jsx(rj,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Hn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:y}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Users with style guides"})]})]}),d.jsxs(In,{children:[d.jsxs(os,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(as,{className:"text-sm font-medium",children:"This Month"}),d.jsx(YD,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Hn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"New guides created"})]})]})]}),d.jsx("div",{className:"mb-8",children:d.jsxs(In,{children:[d.jsxs(os,{children:[d.jsx(as,{children:"Admin Tools"}),d.jsx(gy,{children:"Maintenance and cleanup operations"})]}),d.jsx(Hn,{children:d.jsx(Pe,{onClick:k,disabled:i,variant:"outline",children:i?d.jsxs(d.Fragment,{children:[d.jsx(fu,{className:"mr-2 h-4 w-4 animate-spin"}),"Cleaning up..."]}):"Remove Duplicate Entries"})})]})}),d.jsxs(In,{children:[d.jsx(os,{children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(as,{children:"Style Guides by User"}),d.jsx(gy,{children:"Projects grouped by user with expandable details"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs(Ni,{value:a,onValueChange:C=>l(C),children:[d.jsx(Ss,{className:"w-48",children:d.jsx(Ai,{})}),d.jsxs(Cs,{children:[d.jsx(Vt,{value:"date-desc",children:"Newest First"}),d.jsx(Vt,{value:"date-asc",children:"Oldest First"}),d.jsx(Vt,{value:"company-asc",children:"Company A-Z"}),d.jsx(Vt,{value:"company-desc",children:"Company Z-A"})]})]})})]})}),d.jsxs(Hn,{children:[d.jsx("div",{className:"space-y-4",children:P.map(([C,O])=>d.jsx(In,{className:"border-l-4 border-l-primary",children:d.jsxs(i8,{open:c.has(C),onOpenChange:()=>L(C),children:[d.jsx(o8,{asChild:!0,children:d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-muted/50 cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(th,{variant:C==="Unknown"?"destructive":"default",children:C}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.length," project",O.length!==1?"s":""]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(th,{variant:"outline",className:"font-mono",children:O.length}),c.has(C)?d.jsx(zv,{className:"h-4 w-4"}):d.jsx(Af,{className:"h-4 w-4"})]})]})}),d.jsx(a8,{children:d.jsx("div",{className:"px-4 pb-4",children:d.jsxs(_N,{children:[d.jsx(xN,{children:d.jsxs(_y,{children:[d.jsx(sa,{children:"Company"}),d.jsx(sa,{children:"Custom URL"}),d.jsx(sa,{children:"Created"}),d.jsx(sa,{children:"Updated"}),d.jsx(sa,{children:"Actions"})]})}),d.jsx(EN,{children:O.map(j=>d.jsxs(_y,{children:[d.jsx(ia,{className:"font-medium",children:j.companyName||"Untitled"}),d.jsx(ia,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(th,{variant:"outline",children:j.customUrl||"No URL"}),j.customUrl&&d.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${j.customUrl}`,"_blank"),children:d.jsx(JD,{className:"h-3 w-3"})})]})}),d.jsx(ia,{children:j.createdAt?new Date(j.createdAt).toLocaleDateString():"Unknown"}),d.jsx(ia,{children:j.updatedAt?new Date(j.updatedAt).toLocaleDateString():"N/A"}),d.jsx(ia,{children:d.jsx(Pe,{variant:"destructive",size:"sm",onClick:()=>T(j.id,j.companyName||"Untitled"),disabled:r===j.id,children:r===j.id?d.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):d.jsx(nl,{className:"h-3 w-3"})})})]},j.id))})]})})})]})},C))}),v===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No style guides found"})]})]})]})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs(In,{className:"w-96",children:[d.jsx(os,{children:d.jsx(as,{children:"Access Denied"})}),d.jsx(Hn,{children:d.jsx(Py,{children:d.jsx(Oy,{children:"You do not have permission to access the admin dashboard."})})})]})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs(In,{className:"w-96",children:[d.jsx(os,{children:d.jsx(as,{children:"Authentication Required"})}),d.jsx(Hn,{children:d.jsx("p",{children:"Please sign in to access the admin dashboard."})})]})})}function d8({url:t}){const[,e]=n6(),{data:n,isLoading:r,error:s}=Tf({queryKey:["styleGuide",t],queryFn:async()=>{var a,l,c,h,f,p,g,x,m,v,y,w,_,S,P,L,T,k,C,O,j,R,D,N,G;try{const{db:oe}=await Ii(),Z=T0(oe,"styleGuides"),K=D0(Z,j0("customUrl","==",t)),B=await F0(K);if(B.empty)throw new Error("Style guide not found");const Q=B.docs[0],U=Q.data();return console.log(" Firestore Fetch Debug:",{hasZipFileData:!!U.zipFileData,hasFolderTree:!!U.folderTree,hasLogoDisplayOptions:!!U.logoDisplayOptions,zipFileData:U.zipFileData?"present":"missing",folderTree:U.folderTree?"present":"missing"}),{id:Q.id,userId:U.userId||"",createdAt:U.createdAt||"",updatedAt:U.updatedAt,companyName:U.companyName||"",customUrl:U.customUrl||"",logo:U.logo||"",inverseLogo:U.inverseLogo||"",secondaryLogo:U.secondaryLogo||"",tertiaryLogo:U.tertiaryLogo||"",fourthLogo:U.fourthLogo||"",examples:U.examples||[],allLogoVariations:U.allLogoVariations||[],zipFileData:U.zipFileData||"",zipFileName:U.zipFileName||"",folderTree:U.folderTree||null,colors:{colorList:(a=U.colors)!=null&&a.colorList?U.colors.colorList.map((z,he)=>typeof z=="string"?{value:z,name:`Color ${he+1}`}:z):[{value:((l=U.colors)==null?void 0:l.primary)||"#000000",name:"Primary"},{value:((c=U.colors)==null?void 0:c.secondary)||"#FFFFFF",name:"Secondary"},{value:((h=U.colors)==null?void 0:h.accent)||"#808080",name:"Accent"},...(f=U.colors)!=null&&f.additional?U.colors.additional.map((z,he)=>typeof z=="string"?{value:z,name:`Color ${he+1}`}:z):[]]},fonts:{primary:((p=U.fonts)==null?void 0:p.primary)||"Inter",secondary:((g=U.fonts)==null?void 0:g.secondary)||"Open Sans",primaryWeight:((x=U.fonts)==null?void 0:x.primaryWeight)||"400",secondaryWeight:((m=U.fonts)==null?void 0:m.secondaryWeight)||"400",customPrimaryFont:(v=U.fonts)==null?void 0:v.customPrimaryFont,customSecondaryFont:(y=U.fonts)==null?void 0:y.customSecondaryFont,customPrimaryFontName:(w=U.fonts)==null?void 0:w.customPrimaryFontName,customSecondaryFontName:(_=U.fonts)==null?void 0:_.customSecondaryFontName,usesCustomPrimary:((S=U.fonts)==null?void 0:S.usesCustomPrimary)||!1,usesCustomSecondary:((P=U.fonts)==null?void 0:P.usesCustomSecondary)||!1,primaryFontVariants:((L=U.fonts)==null?void 0:L.primaryFontVariants)||[],secondaryFontVariants:((T=U.fonts)==null?void 0:T.secondaryFontVariants)||[],fontFamilies:((k=U.fonts)==null?void 0:k.fontFamilies)||[]},logoDisplayOptions:{showBlackWhiteVariations:((C=U.logoDisplayOptions)==null?void 0:C.showBlackWhiteVariations)??!1,inverseBackgroundColor:((O=U.logoDisplayOptions)==null?void 0:O.inverseBackgroundColor)??"#000000",variationBg1:((j=U.logoDisplayOptions)==null?void 0:j.variationBg1)??"#000000",variationBg2:((R=U.logoDisplayOptions)==null?void 0:R.variationBg2)??"#ffffff",showDownloadPackage:((D=U.logoDisplayOptions)==null?void 0:D.showDownloadPackage)??!1,showFolderPreview:((N=U.logoDisplayOptions)==null?void 0:N.showFolderPreview)??!0,showLogoDonts:((G=U.logoDisplayOptions)==null?void 0:G.showLogoDonts)??!0}}}catch(oe){throw console.error("Error fetching style guide:",oe),oe}}});if(b.useEffect(()=>{n!=null&&n.companyName?document.title=`Guidelines.online | ${n.companyName}`:document.title="Guidelines.online"},[n==null?void 0:n.companyName]),r)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(fu,{className:"h-8 w-8 animate-spin text-primary"})});if(s||!n)return d.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:d.jsx(In,{className:"w-full max-w-md",children:d.jsxs(Hn,{className:"pt-6 space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-center",children:"Guidelines.online"}),d.jsx("p",{className:"text-center text-muted-foreground",children:"The requested style guide could not be found."}),d.jsx("button",{onClick:()=>e("/"),className:"w-full px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"Return Home"})]})})});const i=n.fonts.primaryFontVariants||[],o=n.fonts.secondaryFontVariants||[];return i.length>0||o.length>0,d.jsx("div",{className:"min-h-screen w-full bg-background",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"space-y-12",children:d.jsx(Y0,{data:n})})})})}function h8({path:t,component:e}){return M0(),d.jsx(uc,{path:t,children:d.jsx(e,{})})}const Ut=b.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ut.displayName="Input";function L1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function f8(...t){return e=>{let n=!1;const r=t.map(s=>{const i=L1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():L1(t[s],null)}}}}var YA=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),i=s.find(m8);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return d.jsx(Dy,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return d.jsx(Dy,{...r,ref:e,children:n})});YA.displayName="Slot";var Dy=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=y8(n);return b.cloneElement(n,{...g8(r,n.props),ref:e?f8(e,s):s})}return b.Children.count(n)>1?b.Children.only(null):null});Dy.displayName="SlotClone";var p8=({children:t})=>d.jsx(d.Fragment,{children:t});function m8(t){return b.isValidElement(t)&&t.type===p8}function g8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function y8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],w8=v8.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?YA:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),_8="Label",XA=b.forwardRef((t,e)=>d.jsx(w8.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XA.displayName=_8;var ZA=XA;const x8=hu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=b.forwardRef(({className:t,...e},n)=>d.jsx(ZA,{ref:n,className:Ge(x8(),t),...e}));lt.displayName=ZA.displayName;function kd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var JA={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function o(c,h){if(!s[c]){if(!r[c]){var f=typeof kd=="function"&&kd;if(!h&&f)return f(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=s[c]={exports:{}};r[c][0].call(g.exports,function(x){var m=r[c][1][x];return o(m||x)},g,g.exports,n,r,s,i)}return s[c].exports}for(var a=typeof kd=="function"&&kd,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,h,f,p,g,x,m,v=[],y=0,w=l.length,_=w,S=i.getTypeOf(l)!=="string";y<l.length;)_=w-y,f=S?(c=l[y++],h=y<w?l[y++]:0,y<w?l[y++]:0):(c=l.charCodeAt(y++),h=y<w?l.charCodeAt(y++):0,y<w?l.charCodeAt(y++):0),p=c>>2,g=(3&c)<<4|h>>4,x=1<_?(15&h)<<2|f>>6:64,m=2<_?63&f:64,v.push(a.charAt(p)+a.charAt(g)+a.charAt(x)+a.charAt(m));return v.join("")},s.decode=function(l){var c,h,f,p,g,x,m=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=o.uint8array?new Uint8Array(0|_):new Array(0|_);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(p=a.indexOf(l.charAt(m++)))>>4,h=(15&p)<<4|(g=a.indexOf(l.charAt(m++)))>>2,f=(3&g)<<6|(x=a.indexOf(l.charAt(m++))),w[v++]=c,g!==64&&(w[v++]=h),x!==64&&(w[v++]=f);return w}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(h,f,p,g,x){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=g,this.compressedContent=x}c.prototype={getContentWorker:function(){var h=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,f,p){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,h,f,p){var g=o,x=p+f;c^=-1;for(var m=p;m<x;m++)c=c>>>8^g[255&(c^h[m])];return-1^c}(0|l,a,a.length,0):function(c,h,f,p){var g=o,x=p+f;c^=-1;for(var m=p;m<x;m++)c=c>>>8^g[255&(c^h.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=i?"uint8array":"array";function h(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}s.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,f.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(g,x){var m,v="";for(m=0;m<x;m++)v+=String.fromCharCode(255&g),g>>>=8;return v}function o(g,x,m,v,y,w){var _,S,P=g.file,L=g.compression,T=w!==c.utf8encode,k=a.transformTo("string",w(P.name)),C=a.transformTo("string",c.utf8encode(P.name)),O=P.comment,j=a.transformTo("string",w(O)),R=a.transformTo("string",c.utf8encode(O)),D=C.length!==P.name.length,N=R.length!==O.length,G="",oe="",Z="",K=P.dir,B=P.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};x&&!m||(Q.crc32=g.crc32,Q.compressedSize=g.compressedSize,Q.uncompressedSize=g.uncompressedSize);var U=0;x&&(U|=8),T||!D&&!N||(U|=2048);var z=0,he=0;K&&(z|=16),y==="UNIX"?(he=798,z|=function(pe,le){var $=pe;return pe||($=le?16893:33204),(65535&$)<<16}(P.unixPermissions,K)):(he=20,z|=function(pe){return 63&(pe||0)}(P.dosPermissions)),_=B.getUTCHours(),_<<=6,_|=B.getUTCMinutes(),_<<=5,_|=B.getUTCSeconds()/2,S=B.getUTCFullYear()-1980,S<<=4,S|=B.getUTCMonth()+1,S<<=5,S|=B.getUTCDate(),D&&(oe=i(1,1)+i(h(k),4)+C,G+="up"+i(oe.length,2)+oe),N&&(Z=i(1,1)+i(h(j),4)+R,G+="uc"+i(Z.length,2)+Z);var ue="";return ue+=`
\0`,ue+=i(U,2),ue+=L.magic,ue+=i(_,2),ue+=i(S,2),ue+=i(Q.crc32,4),ue+=i(Q.compressedSize,4),ue+=i(Q.uncompressedSize,4),ue+=i(k.length,2),ue+=i(G.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ue+k+G,dirRecord:f.CENTRAL_FILE_HEADER+i(he,2)+ue+i(j.length,2)+"\0\0\0\0"+i(z,4)+i(v,4)+k+G+j}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),h=n("../crc32"),f=n("../signature");function p(g,x,m,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=m,this.encodeFileName=v,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(g){var x=g.meta.percent||0,m=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:m?(x+100*(m-v-1))/m:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var x=this.streamFiles&&!g.file.dir;if(x){var m=o(g,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var x=this.streamFiles&&!g.file.dir,m=o(g,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),x)this.push({data:function(v){return f.DATA_DESCRIPTOR+i(v.crc32,4)+i(v.compressedSize,4)+i(v.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var m=this.bytesWritten-g,v=function(y,w,_,S,P){var L=a.transformTo("string",P(S));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(w,4)+i(_,4)+i(L.length,2)+L}(this.dirRecords.length,m,g,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var x=this;return g.on("data",function(m){x.processChunk(m)}),g.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),g.on("error",function(m){x.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var x=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var m=0;m<x.length;m++)try{x[m].error(g)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,x=0;x<g.length;x++)g[x].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,c){var h=new o(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,g){f++;var x=function(w,_){var S=w||_,P=i[S];if(!P)throw new Error(S+" is not a valid compression method !");return P}(g.options.compression,l.compression),m=g.options.compressionOptions||l.compressionOptions||{},v=g.dir,y=g.date;g._compressWorker(x,m).withStreamInfo("file",{name:p,dir:v,date:y,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(p){return new o.Promise(function(g,x){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(v){x(v)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var x=this;return g=i.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(m){var v=new l(g);return v.load(m),v}).then(function(m){var v=[o.Promise.resolve(m)],y=m.files;if(g.checkCRC32)for(var w=0;w<y.length;w++)v.push(f(y[w]));return o.Promise.all(v)}).then(function(m){for(var v=m.shift(),y=v.files,w=0;w<y.length;w++){var _=y[w],S=_.fileNameStr,P=i.resolve(_.fileNameStr);x.file(P,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:g.createFolders}),_.dir||(x.file(P).unsafeOriginalName=S)}return v.zipComment.length&&(x.comment=v.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,c){i.call(this,l),this._helper=a;var h=this;a.on("data",function(f,p){h.push(f)||h._helper.pause(),c&&c(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(P,L,T){var k,C=a.getTypeOf(L),O=a.extend(T||{},h);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(P=y(P)),O.createFolders&&(k=v(P))&&w.call(this,k,!0);var j=C==="string"&&O.binary===!1&&O.base64===!1;T&&T.binary!==void 0||(O.binary=!j),(L instanceof f&&L.uncompressedSize===0||O.dir||!L||L.length===0)&&(O.base64=!1,O.binary=!0,L="",O.compression="STORE",C="string");var R=null;R=L instanceof f||L instanceof l?L:x.isNode&&x.isStream(L)?new m(P,L):a.prepareContent(P,L,O.binary,O.optimizedBinaryString,O.base64);var D=new p(P,R,O);this.files[P]=D}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),x=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),v=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var L=P.lastIndexOf("/");return 0<L?P.substring(0,L):""},y=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},w=function(P,L){return L=L!==void 0?L:h.createFolders,P=y(P),this.files[P]||i.call(this,P,null,{dir:!0,createFolders:L}),this.files[P]};function _(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var L,T,k;for(L in this.files)k=this.files[L],(T=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&P(T,k)},filter:function(P){var L=[];return this.forEach(function(T,k){P(T,k)&&L.push(k)}),L},file:function(P,L,T){if(arguments.length!==1)return P=this.root+P,i.call(this,P,L,T),this;if(_(P)){var k=P;return this.filter(function(O,j){return!j.dir&&k.test(O)})}var C=this.files[this.root+P];return C&&!C.dir?C:null},folder:function(P){if(!P)return this;if(_(P))return this.filter(function(C,O){return O.dir&&P.test(C)});var L=this.root+P,T=w.call(this,L),k=this.clone();return k.root=T.name,k},remove:function(P){P=this.root+P;var L=this.files[P];if(L||(P.slice(-1)!=="/"&&(P+="/"),L=this.files[P]),L&&!L.dir)delete this.files[P];else for(var T=this.filter(function(C,O){return O.name.slice(0,P.length)===P}),k=0;k<T.length;k++)delete this.files[T[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var L,T={};try{if((T=a.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var k=T.comment||this.comment||"";L=g.generateWorker(this,T,k)}catch(C){(L=new l("error")).error(C)}return new c(L,T.type||"string",T.mimeType)},generateAsync:function(P,L){return this.generateInternalStream(P).accumulate(L)},generateNodeStream:function(P,L){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(L)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&h===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var p=i.getTypeOf(f);return i.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(f):o.uint8array?new h(i.transformTo("uint8array",f)):new a(i.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=i.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),h=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(x,m){return new h.Promise(function(v,y){var w=[],_=x._internalType,S=x._outputType,P=x._mimeType;x.on("data",function(L,T){w.push(L),m&&m(T)}).on("error",function(L){w=[],y(L)}).on("end",function(){try{var L=function(T,k,C){switch(T){case"blob":return i.newBlob(i.transformTo("arraybuffer",k),C);case"base64":return l.encode(k);default:return i.transformTo(T,k)}}(S,function(T,k){var C,O=0,j=null,R=0;for(C=0;C<k.length;C++)R+=k[C].length;switch(T){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(j=new Uint8Array(R),C=0;C<k.length;C++)j.set(k[C],O),O+=k[C].length;return j;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+T+"'")}}(_,w),P);v(L)}catch(T){y(T)}w=[]}).resume()})}function g(x,m,v){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=v,i.checkSupport(y),this._worker=x.pipe(new o(y)),x.lock()}catch(w){this._worker=new a("error"),this._worker.error(w)}}g.prototype={accumulate:function(x){return p(this,x)},on:function(x,m){var v=this;return x==="data"?this._worker.on(x,function(y){m.call(v,y.data,y.meta)}):this._worker.on(x,function(){i.delay(m,arguments,v)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}s.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):function(x){var m,v,y,w,_,S=x.length,P=0;for(w=0;w<S;w++)(64512&(v=x.charCodeAt(w)))==55296&&w+1<S&&(64512&(y=x.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),P+=v<128?1:v<2048?2:v<65536?3:4;for(m=o.uint8array?new Uint8Array(P):new Array(P),w=_=0;_<P;w++)(64512&(v=x.charCodeAt(w)))==55296&&w+1<S&&(64512&(y=x.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),v<128?m[_++]=v:(v<2048?m[_++]=192|v>>>6:(v<65536?m[_++]=224|v>>>12:(m[_++]=240|v>>>18,m[_++]=128|v>>>12&63),m[_++]=128|v>>>6&63),m[_++]=128|63&v);return m}(g)},s.utf8decode=function(g){return o.nodebuffer?i.transformTo("nodebuffer",g).toString("utf-8"):function(x){var m,v,y,w,_=x.length,S=new Array(2*_);for(m=v=0;m<_;)if((y=x[m++])<128)S[v++]=y;else if(4<(w=c[y]))S[v++]=65533,m+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&m<_;)y=y<<6|63&x[m++],w--;1<w?S[v++]=65533:y<65536?S[v++]=y:(y-=65536,S[v++]=55296|y>>10&1023,S[v++]=56320|1023&y)}return S.length!==v&&(S.subarray?S=S.subarray(0,v):S.length=v),i.applyFromCharCode(S)}(g=i.transformTo(o.uint8array?"uint8array":"array",g))},i.inherits(f,l),f.prototype.processChunk=function(g){var x=i.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=x;(x=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),x.set(m,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var v=function(w,_){var S;for((_=_||w.length)>w.length&&(_=w.length),S=_-1;0<=S&&(192&w[S])==128;)S--;return S<0||S===0?_:S+c[w[S]]>_?S:_}(x),y=x;v!==x.length&&(o.uint8array?(y=x.subarray(0,v),this.leftOver=x.subarray(v,x.length)):(y=x.slice(0,v),this.leftOver=x.slice(v,x.length))),this.push({data:s.utf8decode(y),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,i.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function h(m,v){for(var y=0;y<m.length;++y)v[y]=255&m.charCodeAt(y);return v}n("setimmediate"),s.newBlob=function(m,v){s.checkSupport("blob");try{return new Blob([m],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,v,y){var w=[],_=0,S=m.length;if(S<=y)return String.fromCharCode.apply(null,m);for(;_<S;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,m.slice(_,Math.min(_+y,S)))):w.push(String.fromCharCode.apply(null,m.subarray(_,Math.min(_+y,S)))),_+=y;return w.join("")},stringifyByChar:function(m){for(var v="",y=0;y<m.length;y++)v+=String.fromCharCode(m[y]);return v},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var v=65536,y=s.getTypeOf(m),w=!0;if(y==="uint8array"?w=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=f.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return f.stringifyByChunk(m,y,v)}catch{v=Math.floor(v/2)}return f.stringifyByChar(m)}function g(m,v){for(var y=0;y<m.length;y++)v[y]=m[y];return v}s.applyFromCharCode=p;var x={};x.string={string:c,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return x.string.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:function(m){return h(m,a.allocBuffer(m.length))}},x.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},x.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return g(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},x.uint8array={string:p,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},x.nodebuffer={string:p,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return x.nodebuffer.uint8array(m).buffer},uint8array:function(m){return g(m,new Uint8Array(m.length))},nodebuffer:c},s.transformTo=function(m,v){if(v=v||"",!m)return v;s.checkSupport(m);var y=s.getTypeOf(v);return x[y][m](v)},s.resolve=function(m){for(var v=m.split("/"),y=[],w=0;w<v.length;w++){var _=v[w];_==="."||_===""&&w!==0&&w!==v.length-1||(_===".."?y.pop():y.push(_))}return y.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var v,y,w="";for(y=0;y<(m||"").length;y++)w+="\\x"+((v=m.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return w},s.delay=function(m,v,y){setImmediate(function(){m.apply(y||null,v||[])})},s.inherits=function(m,v){function y(){}y.prototype=v.prototype,m.prototype=new y},s.extend=function(){var m,v,y={};for(m=0;m<arguments.length;m++)for(v in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],v)&&y[v]===void 0&&(y[v]=arguments[m][v]);return y},s.prepareContent=function(m,v,y,w,_){return l.Promise.resolve(v).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(P,L){var T=new FileReader;T.onload=function(k){P(k.target.result)},T.onerror=function(k){L(k.target.error)},T.readAsArrayBuffer(S)}):S}).then(function(S){var P=s.getTypeOf(S);return P?(P==="arraybuffer"?S=s.transformTo("uint8array",S):P==="string"&&(_?S=o.decode(S):y&&w!==!0&&(S=function(L){return h(L,i.uint8array?new Uint8Array(L.length):new Array(L.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var g=this.reader.index;this.reader.setIndex(f);var x=this.reader.readString(4)===p;return this.reader.setIndex(g),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,g,x=this.zip64EndOfCentralSize-44;0<x;)f=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var x=p-g;if(0<x)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),h=n("./compressions"),f=n("./support");function p(g,x){this.options=g,this.loadOptions=x}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var x,m;if(g.skip(22),this.fileNameLength=g.readInt(2),m=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(v){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===v)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,x,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var x=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(x),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var x,m,v,y=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<y;)x=g.readInt(2),m=g.readInt(2),v=g.readData(m),this.extraFields[x]={id:x,length:m,value:v};g.setIndex(y)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var m=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var x=i(g.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var x=i(g.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(g.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(x,m,v){this.name=x,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=m,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),h=n("./stream/GenericWorker");i.prototype={internalStream:function(x){var m=null,v="string";try{if(!x)throw new Error("No output type specified.");var y=(v=x.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),m=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!w&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(_){(m=new h("error")).error(_)}return new o(m,v,"")},async:function(x,m){return this.internalStream(x).accumulate(m)},nodeStream:function(x,m){return this.internalStream(x||"nodebuffer").toNodejsStream(m)},_compressWorker:function(x,m){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,x,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)i.prototype[f[g]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,h=new l(x),f=i.document.createTextNode("");h.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){x(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(x,0)};else{var p=new i.MessageChannel;p.port1.onmessage=x,o=function(){p.port2.postMessage(0)}}var g=[];function x(){var m,v;a=!0;for(var y=g.length;y;){for(v=g,g=[],m=-1;++m<y;)v[m]();y=g.length}a=!1}r.exports=function(m){g.push(m)!==1||a||o()}}).call(this,typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function p(y,w,_){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function g(y,w,_){i(function(){var S;try{S=w(_)}catch(P){return a.reject(y,P)}S===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,S)})}function x(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function m(y,w){var _=!1;function S(T){_||(_=!0,a.reject(y,T))}function P(T){_||(_=!0,a.resolve(y,T))}var L=v(function(){w(P,S)});L.status==="error"&&S(L.value)}function v(y,w){var _={};try{_.value=y(w),_.status="success"}catch(S){_.status="error",_.value=S}return _}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(_){return w.resolve(y()).then(function(){return _})},function(_){return w.resolve(y()).then(function(){throw _})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,w){if(typeof y!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==h?g(_,this.state===c?y:w,this.outcome):this.queue.push(new p(_,y,w)),_},p.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){g(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){a.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){g(this.promise,this.onRejected,y)},a.resolve=function(y,w){var _=v(x,w);if(_.status==="error")return a.reject(y,_.value);var S=_.value;if(S)m(y,S);else{y.state=c,y.outcome=w;for(var P=-1,L=y.queue.length;++P<L;)y.queue[P].callFulfilled(w)}return y},a.reject=function(y,w){y.state=l,y.outcome=w;for(var _=-1,S=y.queue.length;++_<S;)y.queue[_].callRejected(w);return y},f.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},f.reject=function(y){var w=new this(o);return a.reject(w,y)},f.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=y.length,S=!1;if(!_)return this.resolve([]);for(var P=new Array(_),L=0,T=-1,k=new this(o);++T<_;)C(y[T],T);return k;function C(O,j){w.resolve(O).then(function(R){P[j]=R,++L!==_||S||(S=!0,a.resolve(k,P))},function(R){S||(S=!0,a.reject(k,R))})}},f.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=y.length,S=!1;if(!_)return this.resolve([]);for(var P=-1,L=new this(o);++P<_;)T=y[P],w.resolve(T).then(function(k){S||(S=!0,a.resolve(L,k))},function(k){S||(S=!0,a.reject(L,k))});var T;return L}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,g=0,x=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:p,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=i.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(_!==f)throw new Error(l[_]);if(w.header&&i.deflateSetHeader(this.strm,w.header),w.dictionary){var S;if(S=typeof w.dictionary=="string"?a.string2buf(w.dictionary):h.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(_=i.deflateSetDictionary(this.strm,S))!==f)throw new Error(l[_]);this._dict_set=!0}}function v(y,w){var _=new m(w);if(_.push(y,!0),_.err)throw _.msg||l[_.err];return _.result}m.prototype.push=function(y,w){var _,S,P=this.strm,L=this.options.chunkSize;if(this.ended)return!1;S=w===~~w?w:w===!0?4:0,typeof y=="string"?P.input=a.string2buf(y):h.call(y)==="[object ArrayBuffer]"?P.input=new Uint8Array(y):P.input=y,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new o.Buf8(L),P.next_out=0,P.avail_out=L),(_=i.deflate(P,S))!==1&&_!==f)return this.onEnd(_),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(P.output,P.next_out))):this.onData(o.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&_!==1);return S===4?(_=i.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f):S!==2||(this.onEnd(f),!(P.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Deflate=m,s.deflate=v,s.deflateRaw=function(y,w){return(w=w||{}).raw=!0,v(y,w)},s.gzip=function(y,w){return(w=w||{}).gzip=!0,v(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function g(m){if(!(this instanceof g))return new g(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||m&&m.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function x(m,v){var y=new g(v);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}g.prototype.push=function(m,v){var y,w,_,S,P,L,T=this.strm,k=this.options.chunkSize,C=this.options.dictionary,O=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?T.input=a.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(k),T.next_out=0,T.avail_out=k),(y=i.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&C&&(L=typeof C=="string"?a.string2buf(C):p.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,y=i.inflateSetDictionary(this.strm,L)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&y!==l.Z_STREAM_END&&(T.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(T.output,T.next_out),S=T.next_out-_,P=a.buf2string(T.output,_),T.next_out=S,T.avail_out=k-S,S&&o.arraySet(T.output,T.output,_,S,0),this.onData(P)):this.onData(o.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(O=!0)}while((0<T.avail_in||T.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=g,s.inflate=x,s.inflateRaw=function(m,v){return(v=v||{}).raw=!0,x(m,v)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,h,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+f),p);else for(var g=0;g<f;g++)l[p+g]=c[h+g]},flattenChunks:function(l){var c,h,f,p,g,x;for(c=f=0,h=l.length;c<h;c++)f+=l[c].length;for(x=new Uint8Array(f),c=p=0,h=l.length;c<h;c++)g=l[c],x.set(g,p),p+=g.length;return x}},a={arraySet:function(l,c,h,f,p){for(var g=0;g<f;g++)l[p+g]=c[h+g]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(f,p));for(var g="",x=0;x<p;x++)g+=String.fromCharCode(f[x]);return g}l[254]=l[254]=1,s.string2buf=function(f){var p,g,x,m,v,y=f.length,w=0;for(m=0;m<y;m++)(64512&(g=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(x=f.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),m++),w+=g<128?1:g<2048?2:g<65536?3:4;for(p=new i.Buf8(w),m=v=0;v<w;m++)(64512&(g=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(x=f.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),m++),g<128?p[v++]=g:(g<2048?p[v++]=192|g>>>6:(g<65536?p[v++]=224|g>>>12:(p[v++]=240|g>>>18,p[v++]=128|g>>>12&63),p[v++]=128|g>>>6&63),p[v++]=128|63&g);return p},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var p=new i.Buf8(f.length),g=0,x=p.length;g<x;g++)p[g]=f.charCodeAt(g);return p},s.buf2string=function(f,p){var g,x,m,v,y=p||f.length,w=new Array(2*y);for(g=x=0;g<y;)if((m=f[g++])<128)w[x++]=m;else if(4<(v=l[m]))w[x++]=65533,g+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&g<y;)m=m<<6|63&f[g++],v--;1<v?w[x++]=65533:m<65536?w[x++]=m:(m-=65536,w[x++]=55296|m>>10&1023,w[x++]=56320|1023&m)}return h(w,x)},s.utf8border=function(f,p){var g;for((p=p||f.length)>f.length&&(p=f.length),g=p-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?p:g+l[f[g]]>p?g:p}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var c=65535&i|0,h=i>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;h=h+(c=c+o[l++]|0)|0,--f;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var h=i,f=c+l;o^=-1;for(var p=c;p<f;p++)o=o>>>8^h[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),h=n("./messages"),f=0,p=4,g=0,x=-2,m=-1,v=4,y=2,w=8,_=9,S=286,P=30,L=19,T=2*S+1,k=15,C=3,O=258,j=O+C+1,R=42,D=113,N=1,G=2,oe=3,Z=4;function K(I,J){return I.msg=h[J],J}function B(I){return(I<<1)-(4<I?9:0)}function Q(I){for(var J=I.length;0<=--J;)I[J]=0}function U(I){var J=I.state,ee=J.pending;ee>I.avail_out&&(ee=I.avail_out),ee!==0&&(o.arraySet(I.output,J.pending_buf,J.pending_out,ee,I.next_out),I.next_out+=ee,J.pending_out+=ee,I.total_out+=ee,I.avail_out-=ee,J.pending-=ee,J.pending===0&&(J.pending_out=0))}function z(I,J){a._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,J),I.block_start=I.strstart,U(I.strm)}function he(I,J){I.pending_buf[I.pending++]=J}function ue(I,J){I.pending_buf[I.pending++]=J>>>8&255,I.pending_buf[I.pending++]=255&J}function pe(I,J){var ee,V,M=I.max_chain_length,q=I.strstart,Y=I.prev_length,ie=I.nice_match,W=I.strstart>I.w_size-j?I.strstart-(I.w_size-j):0,se=I.window,fe=I.w_mask,de=I.prev,ge=I.strstart+O,Le=se[q+Y-1],X=se[q+Y];I.prev_length>=I.good_match&&(M>>=2),ie>I.lookahead&&(ie=I.lookahead);do if(se[(ee=J)+Y]===X&&se[ee+Y-1]===Le&&se[ee]===se[q]&&se[++ee]===se[q+1]){q+=2,ee++;do;while(se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&se[++q]===se[++ee]&&q<ge);if(V=O-(ge-q),q=ge-O,Y<V){if(I.match_start=J,ie<=(Y=V))break;Le=se[q+Y-1],X=se[q+Y]}}while((J=de[J&fe])>W&&--M!=0);return Y<=I.lookahead?Y:I.lookahead}function le(I){var J,ee,V,M,q,Y,ie,W,se,fe,de=I.w_size;do{if(M=I.window_size-I.lookahead-I.strstart,I.strstart>=de+(de-j)){for(o.arraySet(I.window,I.window,de,de,0),I.match_start-=de,I.strstart-=de,I.block_start-=de,J=ee=I.hash_size;V=I.head[--J],I.head[J]=de<=V?V-de:0,--ee;);for(J=ee=de;V=I.prev[--J],I.prev[J]=de<=V?V-de:0,--ee;);M+=de}if(I.strm.avail_in===0)break;if(Y=I.strm,ie=I.window,W=I.strstart+I.lookahead,se=M,fe=void 0,fe=Y.avail_in,se<fe&&(fe=se),ee=fe===0?0:(Y.avail_in-=fe,o.arraySet(ie,Y.input,Y.next_in,fe,W),Y.state.wrap===1?Y.adler=l(Y.adler,ie,fe,W):Y.state.wrap===2&&(Y.adler=c(Y.adler,ie,fe,W)),Y.next_in+=fe,Y.total_in+=fe,fe),I.lookahead+=ee,I.lookahead+I.insert>=C)for(q=I.strstart-I.insert,I.ins_h=I.window[q],I.ins_h=(I.ins_h<<I.hash_shift^I.window[q+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[q+C-1])&I.hash_mask,I.prev[q&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=q,q++,I.insert--,!(I.lookahead+I.insert<C)););}while(I.lookahead<j&&I.strm.avail_in!==0)}function $(I,J){for(var ee,V;;){if(I.lookahead<j){if(le(I),I.lookahead<j&&J===f)return N;if(I.lookahead===0)break}if(ee=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ee!==0&&I.strstart-ee<=I.w_size-j&&(I.match_length=pe(I,ee)),I.match_length>=C)if(V=a._tr_tally(I,I.strstart-I.match_start,I.match_length-C),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=C){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else V=a._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(V&&(z(I,!1),I.strm.avail_out===0))return N}return I.insert=I.strstart<C-1?I.strstart:C-1,J===p?(z(I,!0),I.strm.avail_out===0?oe:Z):I.last_lit&&(z(I,!1),I.strm.avail_out===0)?N:G}function re(I,J){for(var ee,V,M;;){if(I.lookahead<j){if(le(I),I.lookahead<j&&J===f)return N;if(I.lookahead===0)break}if(ee=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=C-1,ee!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ee<=I.w_size-j&&(I.match_length=pe(I,ee),I.match_length<=5&&(I.strategy===1||I.match_length===C&&4096<I.strstart-I.match_start)&&(I.match_length=C-1)),I.prev_length>=C&&I.match_length<=I.prev_length){for(M=I.strstart+I.lookahead-C,V=a._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-C),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=M&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=C-1,I.strstart++,V&&(z(I,!1),I.strm.avail_out===0))return N}else if(I.match_available){if((V=a._tr_tally(I,0,I.window[I.strstart-1]))&&z(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return N}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(V=a._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<C-1?I.strstart:C-1,J===p?(z(I,!0),I.strm.avail_out===0?oe:Z):I.last_lit&&(z(I,!1),I.strm.avail_out===0)?N:G}function ce(I,J,ee,V,M){this.good_length=I,this.max_lazy=J,this.nice_length=ee,this.max_chain=V,this.func=M}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*T),this.dyn_dtree=new o.Buf16(2*(2*P+1)),this.bl_tree=new o.Buf16(2*(2*L+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*S+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(I){var J;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=y,(J=I.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?R:D,I.adler=J.wrap===2?0:1,J.last_flush=f,a._tr_init(J),g):K(I,x)}function te(I){var J=ve(I);return J===g&&function(ee){ee.window_size=2*ee.w_size,Q(ee.head),ee.max_lazy_match=i[ee.level].max_lazy,ee.good_match=i[ee.level].good_length,ee.nice_match=i[ee.level].nice_length,ee.max_chain_length=i[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=C-1,ee.match_available=0,ee.ins_h=0}(I.state),J}function Ae(I,J,ee,V,M,q){if(!I)return x;var Y=1;if(J===m&&(J=6),V<0?(Y=0,V=-V):15<V&&(Y=2,V-=16),M<1||_<M||ee!==w||V<8||15<V||J<0||9<J||q<0||v<q)return K(I,x);V===8&&(V=9);var ie=new Ee;return(I.state=ie).strm=I,ie.wrap=Y,ie.gzhead=null,ie.w_bits=V,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=M+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+C-1)/C),ie.window=new o.Buf8(2*ie.w_size),ie.head=new o.Buf16(ie.hash_size),ie.prev=new o.Buf16(ie.w_size),ie.lit_bufsize=1<<M+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new o.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=J,ie.strategy=q,ie.method=ee,te(I)}i=[new ce(0,0,0,0,function(I,J){var ee=65535;for(ee>I.pending_buf_size-5&&(ee=I.pending_buf_size-5);;){if(I.lookahead<=1){if(le(I),I.lookahead===0&&J===f)return N;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var V=I.block_start+ee;if((I.strstart===0||I.strstart>=V)&&(I.lookahead=I.strstart-V,I.strstart=V,z(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-j&&(z(I,!1),I.strm.avail_out===0))return N}return I.insert=0,J===p?(z(I,!0),I.strm.avail_out===0?oe:Z):(I.strstart>I.block_start&&(z(I,!1),I.strm.avail_out),N)}),new ce(4,4,8,4,$),new ce(4,5,16,8,$),new ce(4,6,32,32,$),new ce(4,4,16,16,re),new ce(8,16,32,32,re),new ce(8,16,128,128,re),new ce(8,32,128,256,re),new ce(32,128,258,1024,re),new ce(32,258,258,4096,re)],s.deflateInit=function(I,J){return Ae(I,J,w,15,8,0)},s.deflateInit2=Ae,s.deflateReset=te,s.deflateResetKeep=ve,s.deflateSetHeader=function(I,J){return I&&I.state?I.state.wrap!==2?x:(I.state.gzhead=J,g):x},s.deflate=function(I,J){var ee,V,M,q;if(!I||!I.state||5<J||J<0)return I?K(I,x):x;if(V=I.state,!I.output||!I.input&&I.avail_in!==0||V.status===666&&J!==p)return K(I,I.avail_out===0?-5:x);if(V.strm=I,ee=V.last_flush,V.last_flush=J,V.status===R)if(V.wrap===2)I.adler=0,he(V,31),he(V,139),he(V,8),V.gzhead?(he(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),he(V,255&V.gzhead.time),he(V,V.gzhead.time>>8&255),he(V,V.gzhead.time>>16&255),he(V,V.gzhead.time>>24&255),he(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),he(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(he(V,255&V.gzhead.extra.length),he(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(I.adler=c(I.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(he(V,0),he(V,0),he(V,0),he(V,0),he(V,0),he(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),he(V,3),V.status=D);else{var Y=w+(V.w_bits-8<<4)<<8;Y|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(Y|=32),Y+=31-Y%31,V.status=D,ue(V,Y),V.strstart!==0&&(ue(V,I.adler>>>16),ue(V,65535&I.adler)),I.adler=1}if(V.status===69)if(V.gzhead.extra){for(M=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),U(I),M=V.pending,V.pending!==V.pending_buf_size));)he(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){M=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),U(I),M=V.pending,V.pending===V.pending_buf_size)){q=1;break}q=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,he(V,q)}while(q!==0);V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),q===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){M=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),U(I),M=V.pending,V.pending===V.pending_buf_size)){q=1;break}q=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,he(V,q)}while(q!==0);V.gzhead.hcrc&&V.pending>M&&(I.adler=c(I.adler,V.pending_buf,V.pending-M,M)),q===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&U(I),V.pending+2<=V.pending_buf_size&&(he(V,255&I.adler),he(V,I.adler>>8&255),I.adler=0,V.status=D)):V.status=D),V.pending!==0){if(U(I),I.avail_out===0)return V.last_flush=-1,g}else if(I.avail_in===0&&B(J)<=B(ee)&&J!==p)return K(I,-5);if(V.status===666&&I.avail_in!==0)return K(I,-5);if(I.avail_in!==0||V.lookahead!==0||J!==f&&V.status!==666){var ie=V.strategy===2?function(W,se){for(var fe;;){if(W.lookahead===0&&(le(W),W.lookahead===0)){if(se===f)return N;break}if(W.match_length=0,fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,fe&&(z(W,!1),W.strm.avail_out===0))return N}return W.insert=0,se===p?(z(W,!0),W.strm.avail_out===0?oe:Z):W.last_lit&&(z(W,!1),W.strm.avail_out===0)?N:G}(V,J):V.strategy===3?function(W,se){for(var fe,de,ge,Le,X=W.window;;){if(W.lookahead<=O){if(le(W),W.lookahead<=O&&se===f)return N;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=C&&0<W.strstart&&(de=X[ge=W.strstart-1])===X[++ge]&&de===X[++ge]&&de===X[++ge]){Le=W.strstart+O;do;while(de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&de===X[++ge]&&ge<Le);W.match_length=O-(Le-ge),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=C?(fe=a._tr_tally(W,1,W.match_length-C),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),fe&&(z(W,!1),W.strm.avail_out===0))return N}return W.insert=0,se===p?(z(W,!0),W.strm.avail_out===0?oe:Z):W.last_lit&&(z(W,!1),W.strm.avail_out===0)?N:G}(V,J):i[V.level].func(V,J);if(ie!==oe&&ie!==Z||(V.status=666),ie===N||ie===oe)return I.avail_out===0&&(V.last_flush=-1),g;if(ie===G&&(J===1?a._tr_align(V):J!==5&&(a._tr_stored_block(V,0,0,!1),J===3&&(Q(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),U(I),I.avail_out===0))return V.last_flush=-1,g}return J!==p?g:V.wrap<=0?1:(V.wrap===2?(he(V,255&I.adler),he(V,I.adler>>8&255),he(V,I.adler>>16&255),he(V,I.adler>>24&255),he(V,255&I.total_in),he(V,I.total_in>>8&255),he(V,I.total_in>>16&255),he(V,I.total_in>>24&255)):(ue(V,I.adler>>>16),ue(V,65535&I.adler)),U(I),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?g:1)},s.deflateEnd=function(I){var J;return I&&I.state?(J=I.state.status)!==R&&J!==69&&J!==73&&J!==91&&J!==103&&J!==D&&J!==666?K(I,x):(I.state=null,J===D?K(I,-3):g):x},s.deflateSetDictionary=function(I,J){var ee,V,M,q,Y,ie,W,se,fe=J.length;if(!I||!I.state||(q=(ee=I.state).wrap)===2||q===1&&ee.status!==R||ee.lookahead)return x;for(q===1&&(I.adler=l(I.adler,J,fe,0)),ee.wrap=0,fe>=ee.w_size&&(q===0&&(Q(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),se=new o.Buf8(ee.w_size),o.arraySet(se,J,fe-ee.w_size,ee.w_size,0),J=se,fe=ee.w_size),Y=I.avail_in,ie=I.next_in,W=I.input,I.avail_in=fe,I.next_in=0,I.input=J,le(ee);ee.lookahead>=C;){for(V=ee.strstart,M=ee.lookahead-(C-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[V+C-1])&ee.hash_mask,ee.prev[V&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=V,V++,--M;);ee.strstart=V,ee.lookahead=C-1,le(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=C-1,ee.match_available=0,I.next_in=ie,I.input=W,I.avail_in=Y,ee.wrap=q,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,c,h,f,p,g,x,m,v,y,w,_,S,P,L,T,k,C,O,j,R,D,N,G;a=i.state,l=i.next_in,N=i.input,c=l+(i.avail_in-5),h=i.next_out,G=i.output,f=h-(o-i.avail_out),p=h+(i.avail_out-257),g=a.dmax,x=a.wsize,m=a.whave,v=a.wnext,y=a.window,w=a.hold,_=a.bits,S=a.lencode,P=a.distcode,L=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{_<15&&(w+=N[l++]<<_,_+=8,w+=N[l++]<<_,_+=8),k=S[w&L];t:for(;;){if(w>>>=C=k>>>24,_-=C,(C=k>>>16&255)===0)G[h++]=65535&k;else{if(!(16&C)){if(!(64&C)){k=S[(65535&k)+(w&(1<<C)-1)];continue t}if(32&C){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}O=65535&k,(C&=15)&&(_<C&&(w+=N[l++]<<_,_+=8),O+=w&(1<<C)-1,w>>>=C,_-=C),_<15&&(w+=N[l++]<<_,_+=8,w+=N[l++]<<_,_+=8),k=P[w&T];n:for(;;){if(w>>>=C=k>>>24,_-=C,!(16&(C=k>>>16&255))){if(!(64&C)){k=P[(65535&k)+(w&(1<<C)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(j=65535&k,_<(C&=15)&&(w+=N[l++]<<_,(_+=8)<C&&(w+=N[l++]<<_,_+=8)),g<(j+=w&(1<<C)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(w>>>=C,_-=C,(C=h-f)<j){if(m<(C=j-C)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(D=y,(R=0)===v){if(R+=x-C,C<O){for(O-=C;G[h++]=y[R++],--C;);R=h-j,D=G}}else if(v<C){if(R+=x+v-C,(C-=v)<O){for(O-=C;G[h++]=y[R++],--C;);if(R=0,v<O){for(O-=C=v;G[h++]=y[R++],--C;);R=h-j,D=G}}}else if(R+=v-C,C<O){for(O-=C;G[h++]=y[R++],--C;);R=h-j,D=G}for(;2<O;)G[h++]=D[R++],G[h++]=D[R++],G[h++]=D[R++],O-=3;O&&(G[h++]=D[R++],1<O&&(G[h++]=D[R++]))}else{for(R=h-j;G[h++]=G[R++],G[h++]=G[R++],G[h++]=G[R++],2<(O-=3););O&&(G[h++]=G[R++],1<O&&(G[h++]=G[R++]))}break}}break}}while(l<c&&h<p);l-=O=_>>3,w&=(1<<(_-=O<<3))-1,i.next_in=l,i.next_out=h,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=h<p?p-h+257:257-(h-p),a.hold=w,a.bits=_}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),h=1,f=2,p=0,g=-2,x=1,m=852,v=592;function y(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(R){var D;return R&&R.state?(D=R.state,R.total_in=R.total_out=D.total=0,R.msg="",D.wrap&&(R.adler=1&D.wrap),D.mode=x,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new i.Buf32(m),D.distcode=D.distdyn=new i.Buf32(v),D.sane=1,D.back=-1,p):g}function S(R){var D;return R&&R.state?((D=R.state).wsize=0,D.whave=0,D.wnext=0,_(R)):g}function P(R,D){var N,G;return R&&R.state?(G=R.state,D<0?(N=0,D=-D):(N=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?g:(G.window!==null&&G.wbits!==D&&(G.window=null),G.wrap=N,G.wbits=D,S(R))):g}function L(R,D){var N,G;return R?(G=new w,(R.state=G).window=null,(N=P(R,D))!==p&&(R.state=null),N):g}var T,k,C=!0;function O(R){if(C){var D;for(T=new i.Buf32(512),k=new i.Buf32(32),D=0;D<144;)R.lens[D++]=8;for(;D<256;)R.lens[D++]=9;for(;D<280;)R.lens[D++]=7;for(;D<288;)R.lens[D++]=8;for(c(h,R.lens,0,288,T,0,R.work,{bits:9}),D=0;D<32;)R.lens[D++]=5;c(f,R.lens,0,32,k,0,R.work,{bits:5}),C=!1}R.lencode=T,R.lenbits=9,R.distcode=k,R.distbits=5}function j(R,D,N,G){var oe,Z=R.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new i.Buf8(Z.wsize)),G>=Z.wsize?(i.arraySet(Z.window,D,N-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(G<(oe=Z.wsize-Z.wnext)&&(oe=G),i.arraySet(Z.window,D,N-G,oe,Z.wnext),(G-=oe)?(i.arraySet(Z.window,D,N-G,G,0),Z.wnext=G,Z.whave=Z.wsize):(Z.wnext+=oe,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=oe))),0}s.inflateReset=S,s.inflateReset2=P,s.inflateResetKeep=_,s.inflateInit=function(R){return L(R,15)},s.inflateInit2=L,s.inflate=function(R,D){var N,G,oe,Z,K,B,Q,U,z,he,ue,pe,le,$,re,ce,Ee,ve,te,Ae,I,J,ee,V,M=0,q=new i.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return g;(N=R.state).mode===12&&(N.mode=13),K=R.next_out,oe=R.output,Q=R.avail_out,Z=R.next_in,G=R.input,B=R.avail_in,U=N.hold,z=N.bits,he=B,ue=Q,J=p;e:for(;;)switch(N.mode){case x:if(N.wrap===0){N.mode=13;break}for(;z<16;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(2&N.wrap&&U===35615){q[N.check=0]=255&U,q[1]=U>>>8&255,N.check=a(N.check,q,2,0),z=U=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&U)<<8)+(U>>8))%31){R.msg="incorrect header check",N.mode=30;break}if((15&U)!=8){R.msg="unknown compression method",N.mode=30;break}if(z-=4,I=8+(15&(U>>>=4)),N.wbits===0)N.wbits=I;else if(I>N.wbits){R.msg="invalid window size",N.mode=30;break}N.dmax=1<<I,R.adler=N.check=1,N.mode=512&U?10:12,z=U=0;break;case 2:for(;z<16;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(N.flags=U,(255&N.flags)!=8){R.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){R.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=U>>8&1),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=a(N.check,q,2,0)),z=U=0,N.mode=3;case 3:for(;z<32;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.head&&(N.head.time=U),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,q[2]=U>>>16&255,q[3]=U>>>24&255,N.check=a(N.check,q,4,0)),z=U=0,N.mode=4;case 4:for(;z<16;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.head&&(N.head.xflags=255&U,N.head.os=U>>8),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=a(N.check,q,2,0)),z=U=0,N.mode=5;case 5:if(1024&N.flags){for(;z<16;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.length=U,N.head&&(N.head.extra_len=U),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=a(N.check,q,2,0)),z=U=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(B<(pe=N.length)&&(pe=B),pe&&(N.head&&(I=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),i.arraySet(N.head.extra,G,Z,pe,I)),512&N.flags&&(N.check=a(N.check,G,pe,Z)),B-=pe,Z+=pe,N.length-=pe),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(B===0)break e;for(pe=0;I=G[Z+pe++],N.head&&I&&N.length<65536&&(N.head.name+=String.fromCharCode(I)),I&&pe<B;);if(512&N.flags&&(N.check=a(N.check,G,pe,Z)),B-=pe,Z+=pe,I)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(B===0)break e;for(pe=0;I=G[Z+pe++],N.head&&I&&N.length<65536&&(N.head.comment+=String.fromCharCode(I)),I&&pe<B;);if(512&N.flags&&(N.check=a(N.check,G,pe,Z)),B-=pe,Z+=pe,I)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;z<16;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(U!==(65535&N.check)){R.msg="header crc mismatch",N.mode=30;break}z=U=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),R.adler=N.check=0,N.mode=12;break;case 10:for(;z<32;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}R.adler=N.check=y(U),z=U=0,N.mode=11;case 11:if(N.havedict===0)return R.next_out=K,R.avail_out=Q,R.next_in=Z,R.avail_in=B,N.hold=U,N.bits=z,2;R.adler=N.check=1,N.mode=12;case 12:if(D===5||D===6)break e;case 13:if(N.last){U>>>=7&z,z-=7&z,N.mode=27;break}for(;z<3;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}switch(N.last=1&U,z-=1,3&(U>>>=1)){case 0:N.mode=14;break;case 1:if(O(N),N.mode=20,D!==6)break;U>>>=2,z-=2;break e;case 2:N.mode=17;break;case 3:R.msg="invalid block type",N.mode=30}U>>>=2,z-=2;break;case 14:for(U>>>=7&z,z-=7&z;z<32;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if((65535&U)!=(U>>>16^65535)){R.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&U,z=U=0,N.mode=15,D===6)break e;case 15:N.mode=16;case 16:if(pe=N.length){if(B<pe&&(pe=B),Q<pe&&(pe=Q),pe===0)break e;i.arraySet(oe,G,Z,pe,K),B-=pe,Z+=pe,Q-=pe,K+=pe,N.length-=pe;break}N.mode=12;break;case 17:for(;z<14;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(N.nlen=257+(31&U),U>>>=5,z-=5,N.ndist=1+(31&U),U>>>=5,z-=5,N.ncode=4+(15&U),U>>>=4,z-=4,286<N.nlen||30<N.ndist){R.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;z<3;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.lens[Y[N.have++]]=7&U,U>>>=3,z-=3}for(;N.have<19;)N.lens[Y[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,ee={bits:N.lenbits},J=c(0,N.lens,0,19,N.lencode,0,N.work,ee),N.lenbits=ee.bits,J){R.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ce=(M=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,Ee=65535&M,!((re=M>>>24)<=z);){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(Ee<16)U>>>=re,z-=re,N.lens[N.have++]=Ee;else{if(Ee===16){for(V=re+2;z<V;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(U>>>=re,z-=re,N.have===0){R.msg="invalid bit length repeat",N.mode=30;break}I=N.lens[N.have-1],pe=3+(3&U),U>>>=2,z-=2}else if(Ee===17){for(V=re+3;z<V;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}z-=re,I=0,pe=3+(7&(U>>>=re)),U>>>=3,z-=3}else{for(V=re+7;z<V;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}z-=re,I=0,pe=11+(127&(U>>>=re)),U>>>=7,z-=7}if(N.have+pe>N.nlen+N.ndist){R.msg="invalid bit length repeat",N.mode=30;break}for(;pe--;)N.lens[N.have++]=I}}if(N.mode===30)break;if(N.lens[256]===0){R.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,ee={bits:N.lenbits},J=c(h,N.lens,0,N.nlen,N.lencode,0,N.work,ee),N.lenbits=ee.bits,J){R.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,ee={bits:N.distbits},J=c(f,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,ee),N.distbits=ee.bits,J){R.msg="invalid distances set",N.mode=30;break}if(N.mode=20,D===6)break e;case 20:N.mode=21;case 21:if(6<=B&&258<=Q){R.next_out=K,R.avail_out=Q,R.next_in=Z,R.avail_in=B,N.hold=U,N.bits=z,l(R,ue),K=R.next_out,oe=R.output,Q=R.avail_out,Z=R.next_in,G=R.input,B=R.avail_in,U=N.hold,z=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ce=(M=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,Ee=65535&M,!((re=M>>>24)<=z);){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(ce&&!(240&ce)){for(ve=re,te=ce,Ae=Ee;ce=(M=N.lencode[Ae+((U&(1<<ve+te)-1)>>ve)])>>>16&255,Ee=65535&M,!(ve+(re=M>>>24)<=z);){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}U>>>=ve,z-=ve,N.back+=ve}if(U>>>=re,z-=re,N.back+=re,N.length=Ee,ce===0){N.mode=26;break}if(32&ce){N.back=-1,N.mode=12;break}if(64&ce){R.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ce,N.mode=22;case 22:if(N.extra){for(V=N.extra;z<V;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.length+=U&(1<<N.extra)-1,U>>>=N.extra,z-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ce=(M=N.distcode[U&(1<<N.distbits)-1])>>>16&255,Ee=65535&M,!((re=M>>>24)<=z);){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(!(240&ce)){for(ve=re,te=ce,Ae=Ee;ce=(M=N.distcode[Ae+((U&(1<<ve+te)-1)>>ve)])>>>16&255,Ee=65535&M,!(ve+(re=M>>>24)<=z);){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}U>>>=ve,z-=ve,N.back+=ve}if(U>>>=re,z-=re,N.back+=re,64&ce){R.msg="invalid distance code",N.mode=30;break}N.offset=Ee,N.extra=15&ce,N.mode=24;case 24:if(N.extra){for(V=N.extra;z<V;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}N.offset+=U&(1<<N.extra)-1,U>>>=N.extra,z-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){R.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(Q===0)break e;if(pe=ue-Q,N.offset>pe){if((pe=N.offset-pe)>N.whave&&N.sane){R.msg="invalid distance too far back",N.mode=30;break}le=pe>N.wnext?(pe-=N.wnext,N.wsize-pe):N.wnext-pe,pe>N.length&&(pe=N.length),$=N.window}else $=oe,le=K-N.offset,pe=N.length;for(Q<pe&&(pe=Q),Q-=pe,N.length-=pe;oe[K++]=$[le++],--pe;);N.length===0&&(N.mode=21);break;case 26:if(Q===0)break e;oe[K++]=N.length,Q--,N.mode=21;break;case 27:if(N.wrap){for(;z<32;){if(B===0)break e;B--,U|=G[Z++]<<z,z+=8}if(ue-=Q,R.total_out+=ue,N.total+=ue,ue&&(R.adler=N.check=N.flags?a(N.check,oe,ue,K-ue):o(N.check,oe,ue,K-ue)),ue=Q,(N.flags?U:y(U))!==N.check){R.msg="incorrect data check",N.mode=30;break}z=U=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;z<32;){if(B===0)break e;B--,U+=G[Z++]<<z,z+=8}if(U!==(4294967295&N.total)){R.msg="incorrect length check",N.mode=30;break}z=U=0}N.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return g}return R.next_out=K,R.avail_out=Q,R.next_in=Z,R.avail_in=B,N.hold=U,N.bits=z,(N.wsize||ue!==R.avail_out&&N.mode<30&&(N.mode<27||D!==4))&&j(R,R.output,R.next_out,ue-R.avail_out)?(N.mode=31,-4):(he-=R.avail_in,ue-=R.avail_out,R.total_in+=he,R.total_out+=ue,N.total+=ue,N.wrap&&ue&&(R.adler=N.check=N.flags?a(N.check,oe,ue,R.next_out-ue):o(N.check,oe,ue,R.next_out-ue)),R.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(he==0&&ue===0||D===4)&&J===p&&(J=-5),J)},s.inflateEnd=function(R){if(!R||!R.state)return g;var D=R.state;return D.window&&(D.window=null),R.state=null,p},s.inflateGetHeader=function(R,D){var N;return R&&R.state&&2&(N=R.state).wrap?((N.head=D).done=!1,p):g},s.inflateSetDictionary=function(R,D){var N,G=D.length;return R&&R.state?(N=R.state).wrap!==0&&N.mode!==11?g:N.mode===11&&o(1,D,G,0)!==N.check?-3:j(R,D,G,G)?(N.mode=31,-4):(N.havedict=1,p):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,p,g,x,m,v,y){var w,_,S,P,L,T,k,C,O,j=y.bits,R=0,D=0,N=0,G=0,oe=0,Z=0,K=0,B=0,Q=0,U=0,z=null,he=0,ue=new i.Buf16(16),pe=new i.Buf16(16),le=null,$=0;for(R=0;R<=15;R++)ue[R]=0;for(D=0;D<g;D++)ue[f[p+D]]++;for(oe=j,G=15;1<=G&&ue[G]===0;G--);if(G<oe&&(oe=G),G===0)return x[m++]=20971520,x[m++]=20971520,y.bits=1,0;for(N=1;N<G&&ue[N]===0;N++);for(oe<N&&(oe=N),R=B=1;R<=15;R++)if(B<<=1,(B-=ue[R])<0)return-1;if(0<B&&(h===0||G!==1))return-1;for(pe[1]=0,R=1;R<15;R++)pe[R+1]=pe[R]+ue[R];for(D=0;D<g;D++)f[p+D]!==0&&(v[pe[f[p+D]]++]=D);if(T=h===0?(z=le=v,19):h===1?(z=o,he-=257,le=a,$-=257,256):(z=l,le=c,-1),R=N,L=m,K=D=U=0,S=-1,P=(Q=1<<(Z=oe))-1,h===1&&852<Q||h===2&&592<Q)return 1;for(;;){for(k=R-K,O=v[D]<T?(C=0,v[D]):v[D]>T?(C=le[$+v[D]],z[he+v[D]]):(C=96,0),w=1<<R-K,N=_=1<<Z;x[L+(U>>K)+(_-=w)]=k<<24|C<<16|O|0,_!==0;);for(w=1<<R-1;U&w;)w>>=1;if(w!==0?(U&=w-1,U+=w):U=0,D++,--ue[R]==0){if(R===G)break;R=f[p+v[D]]}if(oe<R&&(U&P)!==S){for(K===0&&(K=oe),L+=N,B=1<<(Z=R-K);Z+K<G&&!((B-=ue[Z+K])<=0);)Z++,B<<=1;if(Q+=1<<Z,h===1&&852<Q||h===2&&592<Q)return 1;x[S=U&P]=oe<<24|Z<<16|L-m|0}}return U!==0&&(x[L+U]=R-K<<24|64<<16|0),y.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(M){for(var q=M.length;0<=--q;)M[q]=0}var c=0,h=29,f=256,p=f+1+h,g=30,x=19,m=2*p+1,v=15,y=16,w=7,_=256,S=16,P=17,L=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(p+2));l(j);var R=new Array(2*g);l(R);var D=new Array(512);l(D);var N=new Array(256);l(N);var G=new Array(h);l(G);var oe,Z,K,B=new Array(g);function Q(M,q,Y,ie,W){this.static_tree=M,this.extra_bits=q,this.extra_base=Y,this.elems=ie,this.max_length=W,this.has_stree=M&&M.length}function U(M,q){this.dyn_tree=M,this.max_code=0,this.stat_desc=q}function z(M){return M<256?D[M]:D[256+(M>>>7)]}function he(M,q){M.pending_buf[M.pending++]=255&q,M.pending_buf[M.pending++]=q>>>8&255}function ue(M,q,Y){M.bi_valid>y-Y?(M.bi_buf|=q<<M.bi_valid&65535,he(M,M.bi_buf),M.bi_buf=q>>y-M.bi_valid,M.bi_valid+=Y-y):(M.bi_buf|=q<<M.bi_valid&65535,M.bi_valid+=Y)}function pe(M,q,Y){ue(M,Y[2*q],Y[2*q+1])}function le(M,q){for(var Y=0;Y|=1&M,M>>>=1,Y<<=1,0<--q;);return Y>>>1}function $(M,q,Y){var ie,W,se=new Array(v+1),fe=0;for(ie=1;ie<=v;ie++)se[ie]=fe=fe+Y[ie-1]<<1;for(W=0;W<=q;W++){var de=M[2*W+1];de!==0&&(M[2*W]=le(se[de]++,de))}}function re(M){var q;for(q=0;q<p;q++)M.dyn_ltree[2*q]=0;for(q=0;q<g;q++)M.dyn_dtree[2*q]=0;for(q=0;q<x;q++)M.bl_tree[2*q]=0;M.dyn_ltree[2*_]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function ce(M){8<M.bi_valid?he(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Ee(M,q,Y,ie){var W=2*q,se=2*Y;return M[W]<M[se]||M[W]===M[se]&&ie[q]<=ie[Y]}function ve(M,q,Y){for(var ie=M.heap[Y],W=Y<<1;W<=M.heap_len&&(W<M.heap_len&&Ee(q,M.heap[W+1],M.heap[W],M.depth)&&W++,!Ee(q,ie,M.heap[W],M.depth));)M.heap[Y]=M.heap[W],Y=W,W<<=1;M.heap[Y]=ie}function te(M,q,Y){var ie,W,se,fe,de=0;if(M.last_lit!==0)for(;ie=M.pending_buf[M.d_buf+2*de]<<8|M.pending_buf[M.d_buf+2*de+1],W=M.pending_buf[M.l_buf+de],de++,ie===0?pe(M,W,q):(pe(M,(se=N[W])+f+1,q),(fe=T[se])!==0&&ue(M,W-=G[se],fe),pe(M,se=z(--ie),Y),(fe=k[se])!==0&&ue(M,ie-=B[se],fe)),de<M.last_lit;);pe(M,_,q)}function Ae(M,q){var Y,ie,W,se=q.dyn_tree,fe=q.stat_desc.static_tree,de=q.stat_desc.has_stree,ge=q.stat_desc.elems,Le=-1;for(M.heap_len=0,M.heap_max=m,Y=0;Y<ge;Y++)se[2*Y]!==0?(M.heap[++M.heap_len]=Le=Y,M.depth[Y]=0):se[2*Y+1]=0;for(;M.heap_len<2;)se[2*(W=M.heap[++M.heap_len]=Le<2?++Le:0)]=1,M.depth[W]=0,M.opt_len--,de&&(M.static_len-=fe[2*W+1]);for(q.max_code=Le,Y=M.heap_len>>1;1<=Y;Y--)ve(M,se,Y);for(W=ge;Y=M.heap[1],M.heap[1]=M.heap[M.heap_len--],ve(M,se,1),ie=M.heap[1],M.heap[--M.heap_max]=Y,M.heap[--M.heap_max]=ie,se[2*W]=se[2*Y]+se[2*ie],M.depth[W]=(M.depth[Y]>=M.depth[ie]?M.depth[Y]:M.depth[ie])+1,se[2*Y+1]=se[2*ie+1]=W,M.heap[1]=W++,ve(M,se,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(X,xe){var Ce,Se,me,Te,We,Xe,Fe=xe.dyn_tree,at=xe.max_code,Qe=xe.stat_desc.static_tree,Oe=xe.stat_desc.has_stree,Ye=xe.stat_desc.extra_bits,ft=xe.stat_desc.extra_base,Ke=xe.stat_desc.max_length,Rt=0;for(Te=0;Te<=v;Te++)X.bl_count[Te]=0;for(Fe[2*X.heap[X.heap_max]+1]=0,Ce=X.heap_max+1;Ce<m;Ce++)Ke<(Te=Fe[2*Fe[2*(Se=X.heap[Ce])+1]+1]+1)&&(Te=Ke,Rt++),Fe[2*Se+1]=Te,at<Se||(X.bl_count[Te]++,We=0,ft<=Se&&(We=Ye[Se-ft]),Xe=Fe[2*Se],X.opt_len+=Xe*(Te+We),Oe&&(X.static_len+=Xe*(Qe[2*Se+1]+We)));if(Rt!==0){do{for(Te=Ke-1;X.bl_count[Te]===0;)Te--;X.bl_count[Te]--,X.bl_count[Te+1]+=2,X.bl_count[Ke]--,Rt-=2}while(0<Rt);for(Te=Ke;Te!==0;Te--)for(Se=X.bl_count[Te];Se!==0;)at<(me=X.heap[--Ce])||(Fe[2*me+1]!==Te&&(X.opt_len+=(Te-Fe[2*me+1])*Fe[2*me],Fe[2*me+1]=Te),Se--)}}(M,q),$(se,Le,M.bl_count)}function I(M,q,Y){var ie,W,se=-1,fe=q[1],de=0,ge=7,Le=4;for(fe===0&&(ge=138,Le=3),q[2*(Y+1)+1]=65535,ie=0;ie<=Y;ie++)W=fe,fe=q[2*(ie+1)+1],++de<ge&&W===fe||(de<Le?M.bl_tree[2*W]+=de:W!==0?(W!==se&&M.bl_tree[2*W]++,M.bl_tree[2*S]++):de<=10?M.bl_tree[2*P]++:M.bl_tree[2*L]++,se=W,Le=(de=0)===fe?(ge=138,3):W===fe?(ge=6,3):(ge=7,4))}function J(M,q,Y){var ie,W,se=-1,fe=q[1],de=0,ge=7,Le=4;for(fe===0&&(ge=138,Le=3),ie=0;ie<=Y;ie++)if(W=fe,fe=q[2*(ie+1)+1],!(++de<ge&&W===fe)){if(de<Le)for(;pe(M,W,M.bl_tree),--de!=0;);else W!==0?(W!==se&&(pe(M,W,M.bl_tree),de--),pe(M,S,M.bl_tree),ue(M,de-3,2)):de<=10?(pe(M,P,M.bl_tree),ue(M,de-3,3)):(pe(M,L,M.bl_tree),ue(M,de-11,7));se=W,Le=(de=0)===fe?(ge=138,3):W===fe?(ge=6,3):(ge=7,4)}}l(B);var ee=!1;function V(M,q,Y,ie){ue(M,(c<<1)+(ie?1:0),3),function(W,se,fe,de){ce(W),he(W,fe),he(W,~fe),i.arraySet(W.pending_buf,W.window,se,fe,W.pending),W.pending+=fe}(M,q,Y)}s._tr_init=function(M){ee||(function(){var q,Y,ie,W,se,fe=new Array(v+1);for(W=ie=0;W<h-1;W++)for(G[W]=ie,q=0;q<1<<T[W];q++)N[ie++]=W;for(N[ie-1]=W,W=se=0;W<16;W++)for(B[W]=se,q=0;q<1<<k[W];q++)D[se++]=W;for(se>>=7;W<g;W++)for(B[W]=se<<7,q=0;q<1<<k[W]-7;q++)D[256+se++]=W;for(Y=0;Y<=v;Y++)fe[Y]=0;for(q=0;q<=143;)j[2*q+1]=8,q++,fe[8]++;for(;q<=255;)j[2*q+1]=9,q++,fe[9]++;for(;q<=279;)j[2*q+1]=7,q++,fe[7]++;for(;q<=287;)j[2*q+1]=8,q++,fe[8]++;for($(j,p+1,fe),q=0;q<g;q++)R[2*q+1]=5,R[2*q]=le(q,5);oe=new Q(j,T,f+1,p,v),Z=new Q(R,k,0,g,v),K=new Q(new Array(0),C,0,x,w)}(),ee=!0),M.l_desc=new U(M.dyn_ltree,oe),M.d_desc=new U(M.dyn_dtree,Z),M.bl_desc=new U(M.bl_tree,K),M.bi_buf=0,M.bi_valid=0,re(M)},s._tr_stored_block=V,s._tr_flush_block=function(M,q,Y,ie){var W,se,fe=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(de){var ge,Le=4093624447;for(ge=0;ge<=31;ge++,Le>>>=1)if(1&Le&&de.dyn_ltree[2*ge]!==0)return o;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return a;for(ge=32;ge<f;ge++)if(de.dyn_ltree[2*ge]!==0)return a;return o}(M)),Ae(M,M.l_desc),Ae(M,M.d_desc),fe=function(de){var ge;for(I(de,de.dyn_ltree,de.l_desc.max_code),I(de,de.dyn_dtree,de.d_desc.max_code),Ae(de,de.bl_desc),ge=x-1;3<=ge&&de.bl_tree[2*O[ge]+1]===0;ge--);return de.opt_len+=3*(ge+1)+5+5+4,ge}(M),W=M.opt_len+3+7>>>3,(se=M.static_len+3+7>>>3)<=W&&(W=se)):W=se=Y+5,Y+4<=W&&q!==-1?V(M,q,Y,ie):M.strategy===4||se===W?(ue(M,2+(ie?1:0),3),te(M,j,R)):(ue(M,4+(ie?1:0),3),function(de,ge,Le,X){var xe;for(ue(de,ge-257,5),ue(de,Le-1,5),ue(de,X-4,4),xe=0;xe<X;xe++)ue(de,de.bl_tree[2*O[xe]+1],3);J(de,de.dyn_ltree,ge-1),J(de,de.dyn_dtree,Le-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,fe+1),te(M,M.dyn_ltree,M.dyn_dtree)),re(M),ie&&ce(M)},s._tr_tally=function(M,q,Y){return M.pending_buf[M.d_buf+2*M.last_lit]=q>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&q,M.pending_buf[M.l_buf+M.last_lit]=255&Y,M.last_lit++,q===0?M.dyn_ltree[2*Y]++:(M.matches++,q--,M.dyn_ltree[2*(N[Y]+f+1)]++,M.dyn_dtree[2*z(q)]++),M.last_lit===M.lit_bufsize-1},s._tr_align=function(M){ue(M,2,3),pe(M,_,j),function(q){q.bi_valid===16?(he(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,c,h,f,p=1,g={},x=!1,m=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,l={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){w(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,P=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=P,S}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(S){o.postMessage(f+S,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(S){w(S.data)},function(S){h.port2.postMessage(S)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(S){var P=m.createElement("script");P.onreadystatechange=function(){w(S),P.onreadystatechange=null,c.removeChild(P),P=null},c.appendChild(P)}):function(S){setTimeout(w,0,S)},v.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var P=new Array(arguments.length-1),L=0;L<P.length;L++)P[L]=arguments[L+1];var T={callback:S,args:P};return g[p]=T,l(p),p++},v.clearImmediate=y}function y(S){delete g[S]}function w(S){if(x)setTimeout(w,0,S);else{var P=g[S];if(P){x=!0;try{(function(L){var T=L.callback,k=L.args;switch(k.length){case 0:T();break;case 1:T(k[0]);break;case 2:T(k[0],k[1]);break;case 3:T(k[0],k[1],k[2]);break;default:T.apply(a,k)}})(P)}finally{y(S),x=!1}}}}function _(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(f)===0&&w(+S.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(JA);var E8=JA.exports;const b8=Vy(E8);function S8({onLogosExtracted:t}){const[e,n]=b.useState(!1),[r,s]=b.useState(!1),{toast:i}=Gi(),o=f=>{f.preventDefault(),n(!0)},a=()=>{n(!1)},l=async f=>{f.preventDefault(),n(!1);const p=f.dataTransfer.files[0];p&&p.type==="application/zip"?h(p):i({title:"Invalid file",description:"Please upload a ZIP file",variant:"destructive"})},c=f=>{var g;const p=(g=f.target.files)==null?void 0:g[0];p&&p.type==="application/zip"?h(p):p&&i({title:"Invalid file",description:"Please upload a ZIP file",variant:"destructive"})},h=async f=>{s(!0);try{const p=await new Promise(($,re)=>{const ce=new FileReader;ce.onload=()=>$(ce.result),ce.onerror=re,ce.readAsDataURL(f)}),x=await new b8().loadAsync(f),m=[],v=[],y=[],w=[],_=[],S=[],P=[],L=new Map,T=new Set,k={name:"",path:"",type:"folder",children:[]},C=new Map;C.set("",k);const O=$=>{const re=$.split("/").pop()||$,ce=re.toLowerCase();return!!(ce===".ds_store"||ce.endsWith(".json")||re.startsWith(".")&&re!=="."||ce==="__macosx"||ce==="thumbs.db")},j=$=>{const re=$.split("/").pop()||$;return!!(re.toLowerCase()==="__macosx"||re.startsWith(".")&&re!==".")},R=new Set,D=new Set;for(const $ of Object.keys(x.files)){if(x.files[$].dir){const ce=$.slice(0,-1);if(j(ce))continue;L.set(ce,[]);const Ee=ce.split("/").slice(0,-1).join("/"),ve=C.get(Ee)||k,te={name:ce.split("/").pop()||ce,path:ce,type:"folder",children:[]};ve.children.push(te),C.set(ce,te);const Ae=ce.split("/");if(Ae.length>0){const I=Ae[Ae.length-1].toLowerCase();T.add(I),(I==="web"||I==="digital"||I==="rgb"||I.includes("web")||I.includes("digital")||I.includes("rgb"))&&(R.add(ce),console.log("Identified Web/Digital folder:",ce)),(I==="print"||I==="cmyk"||I.includes("print")||I.includes("cmyk"))&&(D.add(ce),console.log("Identified Print/CMYK folder:",ce))}continue}const re=$.split("/");if(re.length>1){const ce=re.slice(0,-1).join("/"),Ee=L.get(ce)||[];Ee.push($),L.set(ce,Ee);const ve=C.get(ce);if(ve&&!O($)){const Ae=$.split("/").pop()||$;ve.children.push({name:Ae,path:$,type:"file"})}const te=re[re.length-2].toLowerCase();T.add(te),(te==="web"||te==="digital"||te==="rgb"||te.includes("web")||te.includes("digital")||te.includes("rgb"))&&R.add(ce),(te==="print"||te==="cmyk"||te.includes("print")||te.includes("cmyk"))&&D.add(ce)}}console.log("Web/Digital folders for RGB colors:",Array.from(R)),console.log("Print/CMYK folders to avoid:",Array.from(D));const N=R.size>0,G=Array.from(T).some($=>$==="logo"||$==="logos"||$.includes("logo")),oe=Array.from(T).some($=>$==="mark"||$==="marks"||$==="monogram"||$==="symbol"||$==="symbols"||$.includes("mark")||$.includes("monogram")||$.includes("symbol"));console.log("Folder analysis:",{folderNames:Array.from(T),hasLogoFolder:G,hasMarkFolder:oe});const Z=Object.keys(x.files).map(async $=>{var ft;if(x.files[$].dir)return;if(!$.toLowerCase().endsWith(".svg")){const Ke=((ft=$.split(".").pop())==null?void 0:ft.toLowerCase())||"",Qt={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp",gif:"image/gif",pdf:"application/pdf",eps:"application/postscript",ico:"image/x-icon",svg:"image/svg+xml"}[Ke]||"application/octet-stream";try{const ze=await x.files[$].async("base64"),He=`data:${Qt};base64,${ze}`,nr=$.split("/").slice(0,-1).join("/"),Pt=C.get(nr);if(Pt){const bn=(Pt.children||[]).find(ct=>ct.type==="file"&&ct.path===$);bn&&(bn.dataUrl=He,bn.mime=Qt,bn.size=ze.length)}}catch(ze){console.warn("Failed to create dataUrl for",$,ze)}return}let re=await x.files[$].async("text");if(!re.trim().startsWith("<")){console.warn(`Invalid SVG content for ${$}, skipping`);return}const ce=$.split("/"),Ee=ce.pop()||"",ve=ce.length>0?ce[ce.length-1].toLowerCase():"",te=Ee.toLowerCase();_.push(re);const Ae=ce.length>0?ce.join("/"):"",I=Array.from(R).some(Ke=>Ae.startsWith(Ke)),J=Array.from(D).some(Ke=>Ae.startsWith(Ke));I?(console.log(`Found SVG in Web/Digital folder: ${$}`),S.push(re)):J&&(console.log(`Found SVG in Print/CMYK folder: ${$}`),P.push(re));const ee=te.includes("white")||te.includes("negative")||te.includes("reversed")||te.includes("light"),V=te.includes("black")||te.includes("dark"),M=te.includes("inverse")||te.includes("inverted")||ve.includes("inverse")||ve.includes("inverted"),q=!ee&&!V&&!M&&(te.includes("color")||te.includes("full")||te.includes("rgb")||te.includes("cmyk")||!te.includes("white")&&!te.includes("black")),Y=re.includes("<text")||re.includes("font-family")||re.includes("font-size")||re.toLowerCase().includes("ventur")||re.includes("textPath")||re.includes("<tspan"),ie=!Y&&(re.includes("<circle")||re.includes("<rect")||re.includes("<path")||re.includes("<polygon")||re.includes("<ellipse"));let W=0,se=0,fe=0;const de=re.length;(ve==="logo"||ve==="logos"||ve==="primary")&&(W+=50),Y&&(W+=40),te.includes("primary")&&(W+=50),te.includes("main")&&(W+=35),te.includes("logo")&&!te.includes("mark")&&(W+=30),te.includes("full")&&(W+=35),te.includes("horizontal")&&(W+=30),te.includes("wordmark")&&(W+=35),(te.includes("lockup")||ve.includes("lockup"))&&(W+=40),te.includes("text")&&(W+=25),te.includes("complete")&&(W+=25),de>1e4&&(W+=15),!Y&&(te.includes("mark")||te.includes("symbol")||te.includes("icon"))&&(W-=30),(ve==="mark"||ve==="marks"||ve==="symbol"||ve==="symbols"||ve==="brandmark"||ve==="brandmarks"||ve==="monogram"||ve.includes("icon"))&&(se+=60),ie&&!Y&&(se+=70),te.includes("brandmark")&&(se+=50),te.includes("brand-mark")&&(se+=50),te.includes("brand_mark")&&(se+=50),te.includes("secondary")&&(se+=45),te.includes("mark")&&!te.includes("trademark")&&!te.includes("watermark")&&(se+=40),te.includes("symbol")&&(se+=40),te.includes("monogram")&&(se+=40),te.includes("icon")&&!te.includes("favicon")&&(se+=35),te.includes("logomark")&&(se+=45),te.includes("logo-mark")&&(se+=45),te.includes("logo_mark")&&(se+=45),te.includes("emblem")&&(se+=35),te.includes("badge")&&(se+=30),Y&&(se-=60),(te.includes("full")||te.includes("complete")||te.includes("horizontal"))&&(se-=20),G&&oe&&((ve==="icon"||ve==="icons")&&(fe+=50),te.includes("tertiary")&&(fe+=40),te.includes("badge")&&(fe+=35),te.includes("emblem")&&(fe+=35),te.includes("stacked")&&(fe+=30),te.includes("vertical")&&(fe+=30));let ge;try{const Ke=re.trim();ge=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(Ke)))}`}catch(Ke){console.warn(`Failed to encode SVG ${$}:`,Ke),ge=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(re)}`}const Le=C.get(ce.length>0?ce.join("/"):""),X=C.get(ce.slice(0,-1).join("/"));if(X){const Ke=(X.children||[]).find(Rt=>Rt.type==="file"&&Rt.path===$);Ke&&(Ke.dataUrl=ge,Ke.mime="image/svg+xml",Ke.size=re.length)}let xe="Primary Logo";const Ce=ve.includes("monogram")||te.includes("monogram"),Se=ve.includes("brandmark")||te.includes("brandmark")||te.includes("brand-mark")||te.includes("brand_mark"),me=(ve.includes("icon")||te.includes("icon"))&&!te.includes("favicon"),Te=ve.includes("mark")||ve.includes("symbol")||te.includes("mark")||te.includes("symbol")||Se||Ce||me,We=ve.includes("badge")||te.includes("badge"),Xe=ve.includes("horizontal")||te.includes("horizontal"),Fe=ve.includes("stacked")||te.includes("stacked"),at=(ve.includes("vertical")||te.includes("vertical"))&&!Fe,Qe=ve.includes("lockup")||te.includes("lockup");Ce?xe="Monogram Logo":me?xe="Logo Icon":Te?xe="Logo Mark":We?xe="Logo Badge":Xe&&!Te?xe="Horizontal Logo":Fe&&!Te?xe="Logo Stacked":at&&!Te?xe="Vertical Logo":Qe&&(xe=Xe?"Horizontal Logo":Fe?"Logo Stacked":at?"Vertical Logo":"Primary Logo");let Oe="color";ee?Oe="white":V?Oe="black":M&&(Oe="inverse"),w.push({data:ge,filename:$,category:xe,type:Oe,isHorizontal:te.includes("horizontal"),isVertical:te.includes("vertical"),isBadge:te.includes("badge"),isMark:te.includes("mark")||te.includes("symbol")});const Ye={data:ge,filename:$,isColor:q,isWhite:ee,isBlack:V,isInverse:M,score:Math.max(W,se,fe)};W>=se&&W>=fe?m.push({...Ye,score:W}):se>=W&&se>=fe?v.push({...Ye,score:se}):y.push({...Ye,score:fe})});await Promise.all(Z),m.sort(($,re)=>re.score-$.score),v.sort(($,re)=>re.score-$.score),y.sort(($,re)=>re.score-$.score),console.log("Categorized logos:",{primary:m.length,secondary:v.length,tertiary:y.length}),console.log("Primary logos with scores:",m.map($=>({filename:$.filename,score:$.score,hasText:$.filename,isColor:$.isColor}))),console.log("Secondary logos with scores:",v.map($=>({filename:$.filename,score:$.score,hasText:$.filename,isColor:$.isColor})));const K=m.filter($=>$.isColor),B=v.filter($=>$.isColor),Q=y.filter($=>$.isColor),U=m.filter($=>$.isInverse),z=v.filter($=>$.isInverse),he=y.filter($=>$.isInverse),ue=[];K.length>0&&(ue.push({type:"primary",data:K[0].data,score:K[0].score}),console.log("Added primary logo:",K[0].filename),U.length>0&&(ue.push({type:"primary",data:U[0].data,isInverse:!0,score:U[0].score}),console.log("Added inverse primary logo:",U[0].filename))),B.length>0?(ue.push({type:"secondary",data:B[0].data,score:B[0].score}),console.log("Added secondary logo:",B[0].filename),z.length>0&&(ue.push({type:"secondary",data:z[0].data,isInverse:!0,score:z[0].score}),console.log("Added inverse secondary logo:",z[0].filename))):K.length>0&&(ue.push({type:"secondary",data:K[0].data,score:K[0].score}),console.log("Using primary logo as secondary logo (fallback)"),U.length>0&&z.length===0&&(ue.push({type:"secondary",data:U[0].data,isInverse:!0,score:U[0].score}),console.log("Using inverse primary logo as inverse secondary logo (fallback)"))),G&&oe&&K.length>0&&B.length>0&&Q.length>0&&(ue.push({type:"tertiary",data:Q[0].data,score:Q[0].score}),console.log("Added tertiary logo:",Q[0].filename),he.length>0&&(ue.push({type:"tertiary",data:he[0].data,isInverse:!0,score:he[0].score}),console.log("Added inverse tertiary logo:",he[0].filename)),Q.length>1&&(ue.push({type:"fourth",data:Q[1].data,score:Q[1].score}),console.log("Added fourth logo:",Q[1].filename),he.length>1&&(ue.push({type:"fourth",data:he[1].data,isInverse:!0,score:he[1].score}),console.log("Added inverse fourth logo:",he[1].filename))));const le=[];if(_.length>0){const $=R.size>0?S:_;console.log(`Using ${R.size>0?"Digital/Web SVGs":"All SVGs"} for color extraction`),console.log(`Available SVGs for color extraction: ${$.length}`);const re=$.map(I=>Hj(I));console.log(`Extracted ${re.length} color sets from SVGs`);const ce=new Map;re.forEach(I=>{const J=I.accent;J&&ce.set(J,(ce.get(J)||0)+100),I.additional.forEach((ee,V)=>{if(!ee)return;const M=90-V*10;ce.set(ee,(ce.get(ee)||0)+M)})});const Ee=Array.from(ce.entries()).filter(([I,J])=>!$j(I)),ve=(I,J)=>{const ee=Y=>{const ie=parseInt(Y.substring(1,3),16),W=parseInt(Y.substring(3,5),16),se=parseInt(Y.substring(5,7),16);return{r:ie,g:W,b:se}},V=ee(I),M=ee(J);return Math.sqrt(Math.pow(V.r-M.r,2)+Math.pow(V.g-M.g,2)+Math.pow(V.b-M.b,2))<30},te=Ee.sort((I,J)=>J[1]-I[1]),Ae=[];te.forEach(([I,J])=>{if(!I)return;Ae.some(V=>ve(I,V))?console.log(`Skipping color ${I} as it's too similar to an existing color`):Ae.push(I)}),console.log(`Found ${te.length} colors, deduplicated to ${Ae.length}`),Ae.forEach((I,J)=>{le.push({value:I,name:`Color ${J+1}`})})}if(ue.length===0){i({title:"No SVG logos found",description:"The ZIP file doesn't contain any recognizable SVG logo files",variant:"destructive"}),s(!1);return}t(ue,{colorList:le},w,f.name,p,k),console.log(`Extracted ${w.length} total logo variations:`,w.map($=>({category:$.category,type:$.type,filename:$.filename}))),i({title:"ZIP File Processed",description:`Successfully extracted ${ue.length} main logos, ${w.length} variations, and ${le.length} colors`})}catch(p){console.error("Error processing ZIP file:",p),i({title:"Error",description:p instanceof Error?p.message:"Failed to process ZIP file",variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:`border-2 border-dashed rounded-md p-4 text-center cursor-pointer transition-colors ${e?"border-primary bg-primary/5":"border-muted-foreground/20"}`,onDragOver:o,onDragLeave:a,onDrop:l,onClick:()=>{var f;return(f=document.getElementById("zip-file-input"))==null?void 0:f.click()},children:[d.jsx("input",{type:"file",id:"zip-file-input",className:"hidden",accept:".zip",onChange:c}),d.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r?d.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}):d.jsx(Rf,{className:"h-8 w-8 text-muted-foreground"}),d.jsx("div",{className:"text-sm font-medium",children:r?"Processing ZIP file...":"Upload or drag and drop a ZIP file"}),d.jsx("p",{className:"text-xs text-muted-foreground max-w-xs",children:"Upload a ZIP file containing SVG logos. The file structure should include folders for logos, marks, and other brand assets."})]})]})}function C8({label:t,value:e,onChange:n,onNameChange:r,className:s,editable:i=!1,onMoveUp:o,onMoveDown:a,onDelete:l}){const c=typeof e=="string"?{value:e}:e,[h,f]=b.useState(c.name||""),[p,g]=b.useState(!1);b.useEffect(()=>{typeof e!="string"&&e.name!==h&&f(e.name||"")},[e]);const x=v=>{f(v),r?r(v):n({...c,name:v||void 0})},m=v=>{n({...c,value:v})};return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:Ge("flex items-center justify-between",s),children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p?d.jsx(Ut,{type:"text",value:h,onChange:v=>x(v.target.value),onBlur:()=>g(!1),onKeyDown:v=>{v.key==="Enter"&&g(!1)},placeholder:"Color name",className:"text-sm font-medium",autoFocus:!0}):d.jsx(lt,{className:"font-medium cursor-pointer",onClick:()=>g(!0),children:h||t}),i&&d.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>g(!0),className:"h-6 w-6 p-0",children:d.jsx(tj,{className:"h-3 w-3"})})]}),i&&d.jsxs("div",{className:"flex items-center gap-1",children:[o&&d.jsx(Pe,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0",children:d.jsx(zv,{className:"h-3 w-3"})}),a&&d.jsx(Pe,{variant:"ghost",size:"sm",onClick:a,className:"h-6 w-6 p-0",children:d.jsx(Af,{className:"h-3 w-3"})}),l&&d.jsx(Pe,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:d.jsx(nl,{className:"h-3 w-3"})})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ut,{type:"color",value:c.value,onChange:v=>m(v.target.value),className:"w-12 h-12 p-1 rounded-lg border-2"}),d.jsx("div",{className:"flex-1",children:d.jsx(Ut,{type:"text",value:c.value,onChange:v=>m(v.target.value),className:"font-mono text-sm",placeholder:"#000000"})})]})]})}function eR(t,[e,n]){return Math.min(n,Math.max(e,t))}function wa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function F1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tR(...t){return e=>{let n=!1;const r=t.map(s=>{const i=F1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():F1(t[s],null)}}}}function $i(...t){return b.useCallback(tR(...t),t)}function nR(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=b.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:v,children:g})};c.displayName=i+"Provider";function h(f,p){var m;const g=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,T8(s,...e)]}function T8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var rR=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},I8=vl[" useInsertionEffect ".trim().toString()]||rR;function k8({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=N8({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=b.useRef(t!==void 0);b.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=b.useCallback(h=>{var f;if(a){const p=A8(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function N8({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return I8(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function A8(t){return typeof t=="function"}var R8=b.createContext(void 0);function P8(t){const e=b.useContext(R8);return t||e||"ltr"}function O8(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function D8(t){const[e,n]=b.useState(void 0);return rR(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function jy(t){const e=j8(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(F8);if(l){const c=l.props.children,h=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function j8(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=V8(s),a=M8(i,s.props);return s.type!==b.Fragment&&(a.ref=r?tR(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var L8=Symbol("radix.slottable");function F8(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L8}function M8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function V8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var U8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nu=U8.reduce((t,e)=>{const n=jy(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function B8(t){const e=t+"CollectionProvider",[n,r]=nR(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,w=pt.useRef(null),_=pt.useRef(new Map).current;return d.jsx(s,{scope:v,itemMap:_,collectionRef:w,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=jy(a),c=pt.forwardRef((m,v)=>{const{scope:y,children:w}=m,_=i(a,y),S=$i(v,_.collectionRef);return d.jsx(l,{ref:S,children:w})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=jy(h),g=pt.forwardRef((m,v)=>{const{scope:y,children:w,..._}=m,S=pt.useRef(null),P=$i(v,S),L=i(h,y);return pt.useEffect(()=>(L.itemMap.set(S,{ref:S,..._}),()=>void L.itemMap.delete(S))),d.jsx(p,{[f]:"",ref:P,children:w})});g.displayName=h;function x(m){const v=i(t+"CollectionConsumer",m);return pt.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((L,T)=>_.indexOf(L.ref.current)-_.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},x,r]}var sR=["PageUp","PageDown"],iR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Dl="Slider",[Ly,z8,$8]=B8(Dl),[aR,sW]=nR(Dl,[$8]),[W8,lp]=aR(Dl),lR=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:x,...m}=t,v=b.useRef(new Set),y=b.useRef(0),_=o==="horizontal"?H8:q8,[S=[],P]=k8({prop:h,defaultProp:c,onChange:j=>{var D;(D=[...v.current][y.current])==null||D.focus(),f(j)}}),L=b.useRef(S);function T(j){const R=X8(S,j);O(j,R)}function k(j){O(j,y.current)}function C(){const j=L.current[y.current];S[y.current]!==j&&p(S)}function O(j,R,{commit:D}={commit:!1}){const N=t9(i),G=n9(Math.round((j-r)/i)*i+r,N),oe=eR(G,[r,s]);P((Z=[])=>{const K=Q8(Z,oe,R);if(e9(K,l*i)){y.current=K.indexOf(oe);const B=String(K)!==String(Z);return B&&D&&p(K),B?K:Z}else return Z})}return d.jsx(W8,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:y,thumbs:v.current,values:S,orientation:o,form:x,children:d.jsx(Ly.Provider,{scope:t.__scopeSlider,children:d.jsx(Ly.Slot,{scope:t.__scopeSlider,children:d.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:e,onPointerDown:wa(m.onPointerDown,()=>{a||(L.current=S)}),min:r,max:s,inverted:g,onSlideStart:a?void 0:T,onSlideMove:a?void 0:k,onSlideEnd:a?void 0:C,onHomeKeyDown:()=>!a&&O(r,0,{commit:!0}),onEndKeyDown:()=>!a&&O(s,S.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const G=sR.includes(j.key)||j.shiftKey&&iR.includes(j.key)?10:1,oe=y.current,Z=S[oe],K=i*G*R;O(Z+K,oe,{commit:!0})}}})})})})});lR.displayName=Dl;var[cR,uR]=aR(Dl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),H8=b.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...h}=t,[f,p]=b.useState(null),g=$i(e,_=>p(_)),x=b.useRef(void 0),m=P8(s),v=m==="ltr",y=v&&!i||!v&&i;function w(_){const S=x.current||f.getBoundingClientRect(),P=[0,S.width],T=pw(P,y?[n,r]:[r,n]);return x.current=S,T(_-S.left)}return d.jsx(cR,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:d.jsx(dR,{dir:m,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const S=w(_.clientX);o==null||o(S)},onSlideMove:_=>{const S=w(_.clientX);a==null||a(S)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:_=>{const P=oR[y?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:P?-1:1})}})})}),q8=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,h=b.useRef(null),f=$i(e,h),p=b.useRef(void 0),g=!s;function x(m){const v=p.current||h.current.getBoundingClientRect(),y=[0,v.height],_=pw(y,g?[r,n]:[n,r]);return p.current=v,_(m-v.top)}return d.jsx(cR,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:d.jsx(dR,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=x(m.clientY);i==null||i(v)},onSlideMove:m=>{const v=x(m.clientY);o==null||o(v)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:m=>{const y=oR[g?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:y?-1:1})}})})}),dR=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,h=lp(Dl,n);return d.jsx(Nu.span,{...c,ref:e,onKeyDown:wa(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):sR.concat(iR).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:wa(t.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():r(f)}),onPointerMove:wa(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:wa(t.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),i(f))})})}),hR="SliderTrack",fR=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=lp(hR,n);return d.jsx(Nu.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});fR.displayName=hR;var Fy="SliderRange",pR=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=lp(Fy,n),i=uR(Fy,n),o=b.useRef(null),a=$i(e,o),l=s.values.length,c=s.values.map(p=>yR(p,s.min,s.max)),h=l>1?Math.min(...c):0,f=100-Math.max(...c);return d.jsx(Nu.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});pR.displayName=Fy;var My="SliderThumb",mR=b.forwardRef((t,e)=>{const n=z8(t.__scopeSlider),[r,s]=b.useState(null),i=$i(e,a=>s(a)),o=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(K8,{...t,ref:i,index:o})}),K8=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=lp(My,n),a=uR(My,n),[l,c]=b.useState(null),h=$i(e,w=>c(w)),f=l?o.form||!!l.closest("form"):!0,p=D8(l),g=o.values[r],x=g===void 0?0:yR(g,o.min,o.max),m=Y8(r,o.values.length),v=p==null?void 0:p[a.size],y=v?Z8(v,x,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${y}px)`},children:[d.jsx(Ly.ItemSlot,{scope:t.__scopeSlider,children:d.jsx(Nu.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:wa(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&d.jsx(gR,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});mR.displayName=My;var G8="RadioBubbleInput",gR=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=b.useRef(null),i=$i(s,r),o=O8(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("input",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Nu.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});gR.displayName=G8;function Q8(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function yR(t,e,n){const i=100/(n-e)*(t-e);return eR(i,[0,100])}function Y8(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function X8(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function Z8(t,e,n){const r=t/2,i=pw([0,50],[0,r]);return(r-i(e)*n)*n}function J8(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function e9(t,e){if(e>0){const n=J8(t);return Math.min(...n)>=e}return!0}function pw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function t9(t){return(String(t).split(".")[1]||"").length}function n9(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var vR=lR,r9=fR,s9=pR,i9=mR;const mw=b.forwardRef(({className:t,...e},n)=>d.jsxs(vR,{ref:n,className:Ge("relative flex w-full touch-none select-none items-center",t),...e,children:[d.jsx(r9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(s9,{className:"absolute h-full bg-primary"})}),d.jsx(i9,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));mw.displayName=vR.displayName;var wR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M1=pt.createContext&&pt.createContext(wR),o9=["attr","size","title"];function a9(t,e){if(t==null)return{};var n=l9(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){c9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c9(t,e,n){return e=u9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t){var e=d9(t,"string");return typeof e=="symbol"?e:e+""}function d9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _R(t){return t&&t.map((e,n)=>pt.createElement(e.tag,lf({key:n},e.attr),_R(e.child)))}function h9(t){return e=>pt.createElement(f9,af({attr:lf({},t.attr)},e),_R(t.child))}function f9(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=a9(t,o9),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),pt.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:lf(lf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&pt.createElement("title",null,i),t.children)};return M1!==void 0?pt.createElement(M1.Consumer,null,n=>e(n)):e(wR)}function p9(t){return h9({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const Cm=async(t,e)=>{const n=await fetch("/api/upload-font",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fontData:t,path:e})}),r=await n.text();try{const s=JSON.parse(r);if(!n.ok)throw new Error(s.error||"Font upload failed");return s.url}catch{throw new Error("Font upload failed")}},m9=async(t,e)=>{var s,i,o;const n=JSON.parse(JSON.stringify(t)),r=5e5;if((s=n.fonts)!=null&&s.primaryFontVariants)for(let a=0;a<n.fonts.primaryFontVariants.length;a++){const l=n.fonts.primaryFontVariants[a];if(l.fontData&&l.fontData.startsWith("data:")&&l.fontData.length>r)try{console.log(` Uploading primary font variant ${a}...`);const c=await Cm(l.fontData,`style-guides/${e}/fonts/primary/${a}_${l.weight}_${l.style}`);n.fonts.primaryFontVariants[a].fontData=c,console.log(` Primary font variant ${a} uploaded`)}catch{console.warn(` Failed to upload primary font ${a}, keeping base64`)}}if((i=n.fonts)!=null&&i.secondaryFontVariants)for(let a=0;a<n.fonts.secondaryFontVariants.length;a++){const l=n.fonts.secondaryFontVariants[a];if(l.fontData&&l.fontData.startsWith("data:")&&l.fontData.length>r)try{console.log(` Uploading secondary font variant ${a}...`);const c=await Cm(l.fontData,`style-guides/${e}/fonts/secondary/${a}_${l.weight}_${l.style}`);n.fonts.secondaryFontVariants[a].fontData=c,console.log(` Secondary font variant ${a} uploaded`)}catch{console.warn(` Failed to upload secondary font ${a}, keeping base64`)}}if((o=n.fonts)!=null&&o.fontFamilies)for(let a=0;a<n.fonts.fontFamilies.length;a++){const l=n.fonts.fontFamilies[a];if(l.variants)for(let c=0;c<l.variants.length;c++){const h=l.variants[c];if(h.fontData&&h.fontData.startsWith("data:")&&h.fontData.length>r)try{console.log(` Uploading font family ${l.name} variant ${c}...`);const f=await Cm(h.fontData,`style-guides/${e}/fonts/family_${a}/${c}_${h.weight}_${h.style}`);n.fonts.fontFamilies[a].variants[c].fontData=f,console.log(" Font family variant uploaded")}catch{console.warn(" Failed to upload font family variant, keeping base64")}}}return n},g9=async(t,e,n)=>{console.log(" Starting server-side save operation...");try{const r=n||`guide_${Date.now()}`;console.log(" Checking for large fonts to upload separately...");const s=await m9(e,r),i=JSON.stringify({userId:t,styleGuide:s,existingFirebaseId:n}).length;console.log(` Payload size after optimization: ${(i/1024/1024).toFixed(2)}MB`);const o=await fetch("/api/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,styleGuide:s,existingFirebaseId:n||r})}),a=await o.text();let l;try{l=JSON.parse(a)}catch{throw console.error(" Server returned non-JSON response:",a.substring(0,200)),new Error("Server error occurred. Please try again.")}if(!o.ok)throw new Error(l.error||l.details||"Upload failed");return console.log(" Server upload successful:",l),{success:!0,id:l.id,uploadedUrls:l.uploadedUrls,message:l.message}}catch(r){throw console.error(" Server upload failed:",r),r}};function y9(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function U1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xR(...t){return e=>{let n=!1;const r=t.map(s=>{const i=U1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():U1(t[s],null)}}}}function ER(...t){return b.useCallback(xR(...t),t)}function v9(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:p,children:g,...x}=f,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=b.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:v,children:g})};c.displayName=i+"Provider";function h(f,p){var m;const g=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,w9(s,...e)]}function w9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var bR=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},_9=vl[" useInsertionEffect ".trim().toString()]||bR;function x9({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=E9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=b.useRef(t!==void 0);b.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=b.useCallback(h=>{var f;if(a){const p=b9(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function E9({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return _9(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function b9(t){return typeof t=="function"}function S9(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function C9(t){const[e,n]=b.useState(void 0);return bR(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function T9(t){const e=I9(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(N9);if(l){const c=l.props.children,h=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function I9(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=R9(s),a=A9(i,s.props);return s.type!==b.Fragment&&(a.ref=r?xR(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var k9=Symbol("radix.slottable");function N9(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===k9}function A9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function R9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var P9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SR=P9.reduce((t,e)=>{const n=T9(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),cp="Switch",[O9,iW]=v9(cp),[D9,j9]=O9(cp),CR=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:h,...f}=t,[p,g]=b.useState(null),x=ER(e,_=>g(_)),m=b.useRef(!1),v=p?h||!!p.closest("form"):!0,[y,w]=x9({prop:s,defaultProp:i??!1,onChange:c,caller:cp});return d.jsxs(D9,{scope:n,checked:y,disabled:a,children:[d.jsx(SR.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":NR(y),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:y9(t.onClick,_=>{w(S=>!S),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&d.jsx(kR,{control:p,bubbles:!m.current,name:r,value:l,checked:y,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});CR.displayName=cp;var TR="SwitchThumb",IR=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=j9(TR,n);return d.jsx(SR.span,{"data-state":NR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});IR.displayName=TR;var L9="SwitchBubbleInput",kR=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=b.useRef(null),a=ER(o,i),l=S9(n),c=C9(e);return b.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const x=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(x)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kR.displayName=L9;function NR(t){return t?"checked":"unchecked"}var AR=CR,F9=IR;const _a=b.forwardRef(({className:t,...e},n)=>d.jsx(AR,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(F9,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_a.displayName=AR.displayName;function M9({axes:t,onChange:e,fontData:n,fontFamily:r}){const s=(o,a)=>{const l=[...t];l[o]={...l[o],value:a},e(l)},i=()=>t.map(o=>`"${o.tag}" ${o.value??o.default}`).join(", ");return!t||t.length===0?null:d.jsxs("div",{className:"space-y-4 mt-4 p-4 bg-muted/50 rounded-md border",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Variable Font Controls"}),d.jsx(th,{variant:"secondary",className:"text-xs",children:"Variable"})]})}),d.jsx("div",{className:"space-y-4",children:t.map((o,a)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(lt,{className:"text-xs font-medium flex items-center gap-2",children:[o.name,d.jsx("span",{className:"text-muted-foreground font-mono text-[10px]",children:o.tag})]}),d.jsx(Ut,{type:"number",value:o.value??o.default,onChange:l=>s(a,parseFloat(l.target.value)),min:o.min,max:o.max,step:1,className:"h-7 w-20 text-xs text-center"})]}),d.jsx(mw,{value:[o.value??o.default],onValueChange:([l])=>s(a,l),min:o.min,max:o.max,step:1,className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[d.jsx("span",{children:o.min}),d.jsx("span",{children:o.max})]})]},o.tag))}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx(lt,{className:"text-xs text-muted-foreground mb-2 block",children:"Preview with Variable Settings"}),d.jsx("style",{children:`
            @font-face {
              font-family: "VariablePreview-${r}";
              src: url("${n}");
              font-variation-settings: ${i()};
            }
          `}),d.jsxs("div",{className:"p-3 bg-background rounded text-lg border",style:{fontFamily:`VariablePreview-${r}`,fontVariationSettings:i()},children:["The quick brown fox jumps over the lazy dog",d.jsx("div",{className:"text-2xl mt-2",children:"AaBbCcDdEe 123456"})]})]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:d.jsxs("code",{className:"bg-muted px-2 py-1 rounded text-[10px]",children:["font-variation-settings: ",i()]})})]})}function V9({onChange:t,label:e,variants:n=[],fontFamily:r}){const[s,i]=b.useState(!1),o=b.useRef(null),{toast:a}=Gi(),l=S=>{S.preventDefault(),i(!0)},c=()=>{i(!1)},h=S=>{S.preventDefault(),i(!1);const P=S.dataTransfer.files;P.length>0&&p(Array.from(P))},f=S=>{const P=S.target.files;P&&P.length>0&&p(Array.from(P))},p=async S=>{try{const P=S.map(g),T=(await Promise.all(P)).filter(Boolean);if(T.length===0){a({title:"Error",description:"No valid font files were found",variant:"destructive"});return}const k=[...n];T.forEach(C=>{const O=k.findIndex(j=>j.weight===C.weight&&j.style===C.style);O>=0?k[O]=C:k.push(C)}),t(k),a({title:"Fonts Processed",description:`Added ${T.length} font variant${T.length===1?"":"s"}`})}catch(P){console.error("Error processing font files:",P),a({title:"Error",description:P instanceof Error?P.message:"Failed to process font files",variant:"destructive"})}},g=async S=>{try{if(!S.name.match(/\.(woff2?|ttf|otf)$/i))return console.warn(`Skipping ${S.name} - not a valid font file`),null;const P=await x(S),L=S.name.split(".")[0];let T=Vj(L);const k=Uj(L),C=L.replace(/\-(regular|medium|bold|light|thin|black|heavy|normal|italic|oblique|\d+)/gi,"").replace(/\_/g," ").trim(),{isVariable:O,axes:j}=await zj(P);return{weight:T,style:k,fontData:P,originalName:C,isVariable:O,variableAxes:O?j:void 0}}catch(P){return console.error(`Error processing ${S.name}:`,P),null}},x=S=>new Promise((P,L)=>{const T=new FileReader;T.onload=k=>{var C;(C=k.target)!=null&&C.result?P(k.target.result.toString()):L(new Error("Failed to read file"))},T.onerror=L,T.readAsDataURL(S)}),m=S=>{const P=[...n];P.splice(S,1),t(P)},v=(S,P)=>{const L=[...n];L[S]={...L[S],weight:P},t(L)},y=(S,P)=>{const L=[...n];L[S]={...L[S],variableAxes:P},t(L)},w=()=>{t([]),a({title:"Fonts Cleared",description:"All font variants have been removed"})},_=S=>`
      @font-face {
        font-family: "SampleFont-${S.weight}-${S.style}";
        src: url("${S.fontData}");
        font-weight: ${S.weight};
        font-style: ${S.style};
      }
    `;return d.jsxs("div",{className:"space-y-4",children:[d.jsx(lt,{children:e}),d.jsxs("div",{className:`
          relative border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer
          ${s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}
        `,onDragOver:l,onDragLeave:c,onDrop:h,onClick:()=>{var S;return(S=o.current)==null?void 0:S.click()},children:[d.jsx(Ut,{ref:o,type:"file",accept:".woff,.woff2,.ttf,.otf",onChange:f,className:"hidden",multiple:!0}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Rf,{className:"h-8 w-8 text-muted-foreground"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.jsx("p",{children:"Click to browse or drag and drop font files"}),d.jsx("p",{className:"mt-1 text-xs",children:"Supports .woff, .woff2, .ttf, .otf"}),d.jsx("p",{className:"mt-1 text-xs",children:"Weight and style will be detected from filenames (e.g., Roboto-Bold.ttf, OpenSans-Regular-Italic.woff)"})]})]})]}),n.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h4",{className:"text-sm font-medium",children:["Uploaded Variants (",n.length,")"]}),d.jsxs(Pe,{variant:"outline",size:"sm",onClick:w,className:"h-7 text-xs flex items-center gap-1",children:[d.jsx(nl,{className:"h-3 w-3"}),"Clear All"]})]}),d.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:n.map((S,P)=>d.jsxs("div",{className:"p-3 bg-muted rounded-md space-y-3",children:[d.jsx("style",{children:_(S)}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(iT,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-medium truncate max-w-[200px]",children:S.originalName||r||"Font"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:S.style!=="normal"?S.style:"normal"})]})]}),d.jsxs(Pe,{variant:"ghost",size:"sm",onClick:()=>m(P),className:"h-7 w-7 p-0",children:[d.jsx(nl,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"sr-only",children:"Remove"})]})]}),S.isVariable?d.jsx(M9,{axes:S.variableAxes||[],onChange:L=>y(P,L),fontData:S.fontData,fontFamily:`${S.originalName||r}-${P}`}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(lt,{className:"text-xs text-muted-foreground mb-1 block",children:"Font Weight"}),d.jsxs(Ni,{value:S.weight,onValueChange:L=>v(P,L),children:[d.jsx(Ss,{className:"h-8 text-xs",children:d.jsx(Ai,{})}),d.jsx(Cs,{children:Object.entries(zg).map(([L,T])=>d.jsxs(Vt,{value:T,children:[L," (",T,")"]},T))})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx(lt,{className:"text-xs text-muted-foreground mb-1 block",children:"Preview"}),d.jsx("div",{className:"h-8 flex items-center px-2 bg-background rounded text-sm border overflow-hidden",style:{fontFamily:`SampleFont-${S.weight}-${S.style}`,fontWeight:S.weight,fontStyle:S.style},children:"AaBbCc123"})]})]})]},P))})]})]})}const U9=["Inter","Open Sans","Roboto","Montserrat","Poppins","Playfair Display","Merriweather","Source Sans Pro","Lato","Raleway","Ubuntu","Roboto Condensed"],B9=[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Regular"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}];function z9({fontFamilies:t=[],onChange:e}){const{toast:n}=Gi(),[r,s]=b.useState(null),[i,o]=b.useState(""),a=()=>`font-${Date.now()}`,l=()=>{const _={id:a(),name:`Font ${t.length+1}`,systemFont:"Inter",weight:"400",usesCustomFont:!1,variants:[]};e([...t,_]),n({title:"Font Family Added",description:`New font family "${_.name}" has been added`})},c=_=>{e(t.filter(S=>S.id!==_)),n({title:"Font Family Removed",description:"The font family has been removed"})},h=(_,S)=>{e(t.map(P=>P.id===_?{...P,usesCustomFont:S}:P))},f=(_,S)=>{e(t.map(P=>P.id===_?{...P,systemFont:S}:P))},p=(_,S)=>{e(t.map(P=>P.id===_?{...P,weight:S}:P))},g=(_,S)=>{s(_),o(S)},x=_=>{if(i.trim()===""){n({title:"Error",description:"Font name cannot be empty",variant:"destructive"});return}e(t.map(S=>S.id===_?{...S,name:i.trim()}:S)),s(null),o(""),n({title:"Name Updated",description:`Font name has been updated to "${i.trim()}"`})},m=()=>{s(null),o("")},v=(_,S)=>{e(t.map(P=>P.id===_?{...P,variants:S,customFontName:S.length>0?S[0].originalName:""}:P))},y=_=>{if(_===0)return;const S=[...t];[S[_],S[_-1]]=[S[_-1],S[_]],e(S)},w=_=>{if(_===t.length-1)return;const S=[...t];[S[_],S[_+1]]=[S[_+1],S[_]],e(S)};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-base font-medium",children:"Font Families"}),d.jsxs(Pe,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[d.jsx($v,{className:"h-4 w-4"}),"Add Font Family"]})]}),t.length===0?d.jsx("div",{className:"border rounded-md p-4 text-center text-muted-foreground",children:d.jsx("p",{children:'No font families added yet. Click "Add Font Family" to get started.'})}):d.jsx("div",{className:"space-y-4",children:t.map((_,S)=>d.jsxs("div",{className:"border rounded-md p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:r===_.id?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ut,{value:i,onChange:P=>o(P.target.value),className:"h-8 w-40"}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>x(_.id),className:"h-8 w-8 p-0",children:d.jsx(Nf,{className:"h-4 w-4"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:m,className:"h-8 w-8 p-0",children:d.jsx(Wv,{className:"h-4 w-4"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"font-medium text-sm",children:_.name}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>g(_.id,_.name),className:"h-6 w-6 p-0",children:d.jsx(dT,{className:"h-3.5 w-3.5"})})]})}),d.jsxs("div",{className:"flex items-center gap-1",children:[S>0&&d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>y(S),className:"h-8 w-8 p-0",children:d.jsx(cT,{className:"h-4 w-4"})}),S<t.length-1&&d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>w(S),className:"h-8 w-8 p-0",children:d.jsx(lT,{className:"h-4 w-4"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>c(_.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive/90",children:d.jsx(nl,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{htmlFor:`custom-font-${_.id}`,className:"cursor-pointer",children:"Use Custom Font"}),d.jsx(_a,{id:`custom-font-${_.id}`,checked:_.usesCustomFont,onCheckedChange:P=>h(_.id,P)})]}),_.usesCustomFont?d.jsx(V9,{onChange:P=>v(_.id,P),label:`Upload ${_.name} Variants`,variants:_.variants,fontFamily:_.name}):d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:`system-font-${_.id}`,children:"System Font"}),d.jsxs(Ni,{value:_.systemFont,onValueChange:P=>f(_.id,P),children:[d.jsx(Ss,{id:`system-font-${_.id}`,children:d.jsx(Ai,{placeholder:"Select font"})}),d.jsx(Cs,{children:U9.map(P=>d.jsx(Vt,{value:P,children:P},P))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:`font-weight-${_.id}`,children:"Font Weight"}),d.jsxs(Ni,{value:_.weight,onValueChange:P=>p(_.id,P),children:[d.jsx(Ss,{id:`font-weight-${_.id}`,children:d.jsx(Ai,{placeholder:"Select weight"})}),d.jsx(Cs,{children:B9.map(P=>d.jsxs(Vt,{value:P.value,children:[P.label," (",P.value,")"]},P.value))})]})]})]})})]})]},_.id))})]})}function $9({examples:t,onChange:e,gridColumns:n=2,onGridColumnsChange:r}){const{toast:s}=Gi(),[i,o]=b.useState(null),[a,l]=b.useState(""),[c,h]=b.useState(!1),[f,p]=b.useState(!1),[g,x]=b.useState(!1),m=b.useRef(null),v=b.useRef(null),y=()=>`example-${Date.now()}`,w=[...t].sort((B,Q)=>B.order-Q.order),_=()=>{m.current&&m.current.click()},S=async B=>{const U=Array.from(B).filter(z=>z.type.startsWith("image/"));if(U.length===0){s({title:"No images found",description:"Please upload JPG, PNG, or other image files",variant:"destructive"});return}x(!0);try{const z=[];for(let he=0;he<U.length;he++){const ue=U[he];let pe;if(py(ue)){const $=my(ue);s({title:`Optimizing image ${he+1}/${U.length}`,description:`Processing ${ue.name}...`}),pe=await fy(ue)}else{const $=new FileReader;pe=await new Promise((re,ce)=>{$.onload=Ee=>{var ve;(ve=Ee.target)!=null&&ve.result?re(Ee.target.result.toString()):ce(new Error("Failed to read file"))},$.onerror=()=>ce(new Error("Failed to read file")),$.readAsDataURL(ue)})}const le={id:y()+`-${he}`,label:ue.name.split(".")[0]||`Application ${t.length+he+1}`,imageData:pe,order:t.length+he};z.push(le)}e([...t,...z]),s({title:"Applications Added",description:`Successfully added ${z.length} application${z.length>1?"s":""}`})}catch(z){console.error("Error processing files:",z),s({title:"Bulk upload failed",description:z instanceof Error?z.message:"Failed to process files",variant:"destructive"})}finally{x(!1)}},P=async B=>{var U;const Q=(U=B.target.files)==null?void 0:U[0];if(Q)try{h(!0);let z;if(Q.type.startsWith("image/")&&py(Q)){const ue=my(Q);s({title:"Optimizing image",description:`Compressing ${Oa(ue)} image for upload...`}),z=await fy(Q);const pe=Math.round(z.length*3/4/1024);s({title:"Image optimized",description:`Reduced from ${Oa(ue)} to ${Oa(pe)}`})}else{const ue=new FileReader;z=await new Promise((pe,le)=>{ue.onload=$=>{var re;(re=$.target)!=null&&re.result?pe($.target.result.toString()):le(new Error("Failed to read file"))},ue.onerror=()=>le(new Error("Failed to read file")),ue.readAsDataURL(Q)})}const he={id:y(),label:Q.name.split(".")[0]||`Application ${t.length+1}`,imageData:Q.type.startsWith("image/")?z:"",order:t.length,zipFileData:Q.name.toLowerCase().endsWith(".zip")?z:void 0,zipFileName:Q.name.toLowerCase().endsWith(".zip")?Q.name:void 0};e([...t,he]),s({title:"Application Added",description:`New application "${he.label}" has been added`})}catch(z){console.error("Error processing file:",z),s({title:"Upload failed",description:z instanceof Error?z.message:"Failed to process file",variant:"destructive"})}finally{h(!1)}},L=B=>{const Q=B.target.files;Q&&Q.length>0&&S(Q)},T=B=>{B.preventDefault(),p(!0)},k=B=>{B.preventDefault(),p(!1)},C=B=>{B.preventDefault(),p(!1);const Q=B.dataTransfer.files;Q&&Q.length>0&&S(Q)},O=(B,Q)=>{var z;const U=(z=Q.target.files)==null?void 0:z[0];if(U&&U.name.toLowerCase().endsWith(".zip")){const he=new FileReader;he.onload=ue=>{var pe;if((pe=ue.target)!=null&&pe.result){const le=t.map($=>$.id===B?{...$,zipFileData:ue.target.result.toString(),zipFileName:U.name}:$);e(le),s({title:"ZIP File Added",description:`ZIP file "${U.name}" has been added to the application`})}},he.readAsDataURL(U)}else s({title:"Invalid file type",description:"Please upload a ZIP file",variant:"destructive"})},j=(B,Q)=>{const U=t.map(z=>z.id===B?{...z,link:Q}:z);e(U)},R=B=>{if(B.zipFileData&&B.zipFileName){const Q=document.createElement("a");Q.href=B.zipFileData,Q.download=B.zipFileName,Q.click()}},D=B=>{e(t.filter(Q=>Q.id!==B)),s({title:"Example Removed",description:"The example has been removed"})},N=B=>{if(B===0)return;const Q=[...w],U=Q[B].order,z=Q[B-1].order;Q[B].order=z,Q[B-1].order=U,e(Q)},G=B=>{if(B===w.length-1)return;const Q=[...w],U=Q[B].order,z=Q[B+1].order;Q[B].order=z,Q[B+1].order=U,e(Q)},oe=(B,Q)=>{o(B),l(Q)},Z=B=>{if(a.trim()===""){s({title:"Error",description:"Label cannot be empty",variant:"destructive"});return}e(t.map(Q=>Q.id===B?{...Q,label:a.trim()}:Q)),o(null),l(""),s({title:"Label Updated",description:`Label has been updated to "${a.trim()}"`})},K=()=>{o(null),l("")};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{className:"text-base font-medium",children:"Applications"}),d.jsxs(Pe,{onClick:_,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[d.jsx($v,{className:"h-4 w-4"}),"Add"]})]}),r&&d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[d.jsx(lt,{htmlFor:"grid-columns",className:"text-sm",children:"Preview Grid:"}),d.jsxs(Ni,{value:n.toString(),onValueChange:B=>r(parseInt(B)),children:[d.jsx(Ss,{id:"grid-columns",className:"w-16 h-8",children:d.jsx(Ai,{})}),d.jsxs(Cs,{children:[d.jsx(Vt,{value:"1",children:"1"}),d.jsx(Vt,{value:"2",children:"2"}),d.jsx(Vt,{value:"3",children:"3"}),d.jsx(Vt,{value:"4",children:"4"})]})]})]}),d.jsx(Ut,{ref:m,type:"file",accept:"image/*,.zip",onChange:P,className:"hidden"}),d.jsx(Ut,{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:L,className:"hidden"}),d.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${f?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragOver:T,onDragLeave:k,onDrop:C,onClick:()=>{var B;return(B=v.current)==null?void 0:B.click()},children:g?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(fu,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing images..."})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Rf,{className:"h-8 w-8 text-gray-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Upload multiple JPG files"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop multiple images or click to browse"})]})]})})]}),t.length===0?d.jsx("div",{className:"border rounded-md p-4 text-center text-muted-foreground",children:d.jsx("p",{children:'No applications added yet. Click "Add" to get started.'})}):d.jsx("div",{className:"space-y-3",children:w.map((B,Q)=>d.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[i===B.id?d.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[d.jsx(Ut,{value:a,onChange:U=>l(U.target.value),className:"h-8"}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>Z(B.id),className:"h-8 w-8 p-0",children:d.jsx(Nf,{className:"h-4 w-4"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:K,className:"h-8 w-8 p-0",children:d.jsx(Wv,{className:"h-4 w-4"})})]}):d.jsx("div",{className:"flex items-center gap-2 flex-1",children:d.jsx("span",{className:"font-medium text-sm truncate",children:B.label})}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>oe(B.id,B.label),className:"h-7 w-7 p-0",children:d.jsx(dT,{className:"h-3.5 w-3.5"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>N(Q),disabled:Q===0,className:"h-7 w-7 p-0",children:d.jsx(cT,{className:"h-3.5 w-3.5"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>G(Q),disabled:Q===w.length-1,className:"h-7 w-7 p-0",children:d.jsx(lT,{className:"h-3.5 w-3.5"})}),d.jsx(Pe,{size:"sm",variant:"ghost",onClick:()=>D(B.id),className:"h-7 w-7 p-0 text-destructive hover:text-destructive",children:d.jsx(nl,{className:"h-3.5 w-3.5"})})]})]}),B.imageData&&d.jsx("div",{className:"w-full h-20 rounded-md overflow-hidden bg-muted",children:d.jsx("img",{src:B.imageData,alt:B.label,className:"w-full h-full object-cover"})}),d.jsx("div",{className:"space-y-2 border-t pt-2",children:d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mg,{className:"h-4 w-4 text-muted-foreground"}),B.zipFileData?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground truncate",children:B.zipFileName}),d.jsxs(Pe,{size:"sm",variant:"outline",onClick:()=>R(B),className:"h-6 px-2",children:[d.jsx(qn,{className:"h-3 w-3 mr-1"}),"Download"]})]}):d.jsxs("div",{className:"flex-1",children:[d.jsx(Ut,{type:"file",accept:".zip",onChange:U=>O(B.id,U),className:"hidden",id:`zip-${B.id}`}),d.jsx(lt,{htmlFor:`zip-${B.id}`,className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground",children:"Upload ZIP file"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aT,{className:"h-4 w-4 text-muted-foreground"}),d.jsx(Ut,{type:"url",placeholder:"Add link (optional)",value:B.link||"",onChange:U=>j(B.id,U.target.value),className:"h-6 text-xs"})]})]})})]},B.id))})]})}const B1={companyName:"",customUrl:"",logo:"",inverseLogo:"",secondaryLogo:"",tertiaryLogo:"",fourthLogo:"",colors:{colorList:[{value:"#000000",name:"Color 1"},{value:"#FFFFFF",name:"Color 2"}]},fonts:{primary:"Inter",secondary:"Open Sans",primaryWeight:"400",secondaryWeight:"400",usesCustomPrimary:!1,usesCustomSecondary:!1,primaryFontVariants:[],secondaryFontVariants:[],customPrimaryFont:"",customSecondaryFont:"",customPrimaryFontName:"",customSecondaryFontName:"",fontFamilies:[{id:"font1",name:"Primary Font",systemFont:"Inter",weight:"400",usesCustomFont:!1,variants:[]},{id:"font2",name:"Secondary Font",systemFont:"Open Sans",weight:"400",usesCustomFont:!1,variants:[]}]},examples:[],inverseLogos:null};function Nd({onChange:t,label:e,value:n,accept:r=".svg",hintText:s}){const i=b.useRef(null);return d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var o;return(o=i.current)==null?void 0:o.click()},children:[d.jsx("input",{ref:i,type:"file",accept:r,onChange:t,className:"hidden"}),d.jsx(Rf,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s||`Click to upload ${r} file`}),n&&d.jsx("p",{className:"text-xs text-green-600 mt-2",children:" File uploaded"})]})}function W9({styleGuideData:t,onUpdate:e,onPublish:n,activeTab:r,setActiveTab:s,applicationsGridColumns:i=2,setApplicationsGridColumns:o,colorsGridColumns:a=3,setColorsGridColumns:l,fontSampleSize:c=32,setFontSampleSize:h}){var ue,pe;const{user:f,signInWithGoogle:p,logout:g}=M0(),{toast:x}=Gi(),[m,v]=b.useState(null);b.useState(!1),t.customUrl;const[y,w]=b.useState(!1);b.useState(!0);const[_,S]=b.useState("new"),P=Cf(),[L,T]=b.useState(!1);b.useState(t.fonts.usesCustomPrimary||t.fonts.usesCustomSecondary);const k=le=>{if(!le)return"";const ce=(le.split("/").pop()||le).replace(/\.(zip|rar|7z|svg|png|jpg|jpeg)$/i,"").replace(/[_.]+/g,"-").replace(/-{2,}/g,"-").trim(),Ee=ce.toLowerCase().indexOf("-logo-");if(Ee>0){const J=ce.slice(0,Ee);return C(J.replace(/-/g,""))||C(J.replace(/-/g," "))}const ve=ce.split("-").filter(Boolean),te=new Set(["logo","brand","branding","package","kit","assets","guidelines","bundle","primary","secondary","tertiary","horizontal","vertical","stacked","full","color","rgb","cmyk","inverse","inverted","white","black","mark","symbol","monogram","icon","badge","web","digital"]),Ae=[];for(const J of ve){if(te.has(J.toLowerCase()))break;Ae.push(J)}const I=Ae.length>0?Ae.join(" "):ve[0]||ce;return C(I.replace(/[^a-zA-Z0-9 ]/g,""))},C=le=>le?/^[A-Z][a-z]+([A-Z][a-z0-9]+)+$/.test(le)?le:le.split(/\s+/).filter(Boolean).map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(""):"",O=le=>{const $=le.toLowerCase();let re=0;return(/-logo-/.test($)||$.includes("logo_")||$.includes("logo "))&&(re+=50),$.includes("primary")&&(re+=30),$.includes("full")&&(re+=20),$.includes("color")&&(re+=10),$.includes("rgb")&&(re+=5),($.includes("mark")||$.includes("symbol")||$.includes("icon")||$.includes("badge"))&&(re-=40),re},j=async le=>{const $=le.toLowerCase().replace(/[^a-z0-9]/g,"");let re=$,ce=1;for(;;)try{if(await b5(re))return re;if(ce++,re=`${$}${ce}`,ce>100)return`${$}${Date.now()}`}catch(Ee){return console.error("Error checking URL availability:",Ee),`${$}${Date.now()}`}},R=[{id:"logos",label:"Logo & Brand Assets",icon:oT,step:1},{id:"colors",label:"Colors",icon:uT,step:2},{id:"typography",label:"Typography",icon:hT,step:3},{id:"examples",label:"Applications",icon:sT,step:4}],D=()=>{const le=R.findIndex($=>$.id===r);le<R.length-1&&s(R[le+1].id)},N=()=>{var le,$,re,ce,Ee,ve,te,Ae,I,J,ee,V,M,q;switch(r){case"logos":return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(lt,{children:"Auto-Extract Logos"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload a ZIP file containing your logo assets. We'll automatically analyze and extract the logos."}),d.jsx(S8,{onLogosExtracted:Q})]}),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(lt,{className:"flex-1",children:"Upload logos manually"}),d.jsx(Pe,{variant:"link",onClick:()=>T(!L),className:"text-xs h-auto p-0",children:L?"Hide":"Show"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Or upload individual logo files if you prefer to select them manually."}),L&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(Nd,{label:"Primary Logo",onChange:Y=>B(Y,"primary"),value:t.logo,hintText:"Upload primary SVG logo"}),d.jsx(Nd,{label:"Secondary Logo",onChange:Y=>B(Y,"secondary"),value:t.inverseLogo,hintText:"Upload secondary SVG logo"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(Nd,{label:"Tertiary Logo",onChange:Y=>B(Y,"tertiary"),value:t.tertiaryLogo,hintText:"Upload tertiary SVG logo"}),d.jsx(Nd,{label:"Fourth Logo",onChange:Y=>B(Y,"fourth"),value:t.fourthLogo,hintText:"Upload fourth SVG logo"})]})]})]}),t.allLogoVariations&&t.allLogoVariations.length>0&&d.jsxs("div",{className:"space-y-4 border-t pt-6",children:[d.jsx(lt,{className:"text-base font-medium",children:"Logo Display Options"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{htmlFor:"hideBlackWhite",className:"text-sm",children:"Hide Black/White Variations"}),d.jsx(_a,{id:"hideBlackWhite",checked:((le=t.logoDisplayOptions)==null?void 0:le.showBlackWhiteVariations)??!1,onCheckedChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:Y,inverseBackgroundColor:((ie=t.logoDisplayOptions)==null?void 0:ie.inverseBackgroundColor)??"#000000",variationBg1:((W=t.logoDisplayOptions)==null?void 0:W.variationBg1)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff",showDownloadPackage:((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1,showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})}})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{htmlFor:"showFolderPreview",className:"text-sm",children:"Show Folder Preview"}),d.jsx(_a,{id:"showFolderPreview",checked:(($=t.logoDisplayOptions)==null?void 0:$.showFolderPreview)??!0,onCheckedChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg1:((se=t.logoDisplayOptions)==null?void 0:se.variationBg1)??"#000000",variationBg2:((fe=t.logoDisplayOptions)==null?void 0:fe.variationBg2)??"#ffffff",showDownloadPackage:((de=t.logoDisplayOptions)==null?void 0:de.showDownloadPackage)??!1,showFolderPreview:Y,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})}})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{htmlFor:"showDownloadPackage",className:"text-sm",children:"Show Download Package Button"}),d.jsx(_a,{id:"showDownloadPackage",checked:((re=t.logoDisplayOptions)==null?void 0:re.showDownloadPackage)??!1,onCheckedChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg1:((se=t.logoDisplayOptions)==null?void 0:se.variationBg1)??"#000000",variationBg2:((fe=t.logoDisplayOptions)==null?void 0:fe.variationBg2)??"#ffffff",showDownloadPackage:Y,showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})}})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{htmlFor:"showLogoDonts",className:"text-sm",children:"Show Logo Don'ts Section"}),d.jsx(_a,{id:"showLogoDonts",checked:((ce=t.logoDisplayOptions)==null?void 0:ce.showLogoDonts)??!0,onCheckedChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg1:((se=t.logoDisplayOptions)==null?void 0:se.variationBg1)??"#000000",variationBg2:((fe=t.logoDisplayOptions)==null?void 0:fe.variationBg2)??"#ffffff",showDownloadPackage:((de=t.logoDisplayOptions)==null?void 0:de.showDownloadPackage)??!1,showFolderPreview:((ge=t.logoDisplayOptions)==null?void 0:ge.showFolderPreview)??!0,showLogoDonts:Y}})}})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"inverseBg",className:"text-sm",children:"Inverse Logo Background Color"}),((Ee=t.colors)==null?void 0:Ee.colorList)&&t.colors.colorList.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs text-muted-foreground",children:"Choose from your brand colors:"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.colors.colorList.map((Y,ie)=>{var de;const W=typeof Y=="string"?Y:Y.value,se=typeof Y=="string"?`Color ${ie+1}`:Y.name||`Color ${ie+1}`,fe=((de=t.logoDisplayOptions)==null?void 0:de.inverseBackgroundColor)===W;return d.jsxs("button",{onClick:()=>{var ge,Le,X,xe,Ce,Se;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ge=t.logoDisplayOptions)==null?void 0:ge.showBlackWhiteVariations)??!1,inverseBackgroundColor:W,variationBg1:((Le=t.logoDisplayOptions)==null?void 0:Le.variationBg1)??"#000000",variationBg2:((X=t.logoDisplayOptions)==null?void 0:X.variationBg2)??"#ffffff",showDownloadPackage:!!(((xe=t.logoDisplayOptions)==null?void 0:xe.showDownloadPackage)??!1),showFolderPreview:((Ce=t.logoDisplayOptions)==null?void 0:Ce.showFolderPreview)??!0,showLogoDonts:((Se=t.logoDisplayOptions)==null?void 0:Se.showLogoDonts)??!0}})},className:`flex items-center gap-2 p-2 border rounded text-sm transition-all ${fe?"border-primary bg-primary/10 shadow-sm":"border-border hover:border-primary/50"}`,children:[d.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:W}}),d.jsx("span",{className:"truncate",children:se})]},ie)})})]}),d.jsxs("div",{children:[d.jsx(lt,{className:"text-xs text-muted-foreground",children:"Or choose a custom color:"}),d.jsxs("div",{className:"flex gap-2 mt-1",children:[d.jsx(Ut,{id:"inverseBg",type:"color",value:((ve=t.logoDisplayOptions)==null?void 0:ve.inverseBackgroundColor)??"#000000",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,inverseBackgroundColor:Y.target.value,variationBg1:((W=t.logoDisplayOptions)==null?void 0:W.variationBg1)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},className:"w-16 h-10 p-1 border rounded"}),d.jsx(Ut,{type:"text",value:((te=t.logoDisplayOptions)==null?void 0:te.inverseBackgroundColor)??"#000000",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,inverseBackgroundColor:Y.target.value,variationBg1:((W=t.logoDisplayOptions)==null?void 0:W.variationBg1)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},placeholder:"#000000",className:"flex-1 text-sm"})]})]})]}),((Ae=t.logoDisplayOptions)==null?void 0:Ae.showBlackWhiteVariations)&&d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsx(lt,{className:"text-sm font-medium",children:"Variation Background Colors"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs text-muted-foreground",children:"Background 1 (Black/White Variations)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ut,{type:"color",value:((I=t.logoDisplayOptions)==null?void 0:I.variationBg1)??"#000000",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,variationBg1:Y.target.value,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},className:"w-16 h-10 p-1 border rounded"}),d.jsx(Ut,{type:"text",value:((J=t.logoDisplayOptions)==null?void 0:J.variationBg1)??"#000000",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,variationBg1:Y.target.value,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg2:((se=t.logoDisplayOptions)==null?void 0:se.variationBg2)??"#ffffff",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},placeholder:"#000000",className:"flex-1 text-sm"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs text-muted-foreground",children:"Background 2 (Black/White Variations)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ut,{type:"color",value:((ee=t.logoDisplayOptions)==null?void 0:ee.variationBg2)??"#ffffff",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,variationBg2:Y.target.value,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg1:((se=t.logoDisplayOptions)==null?void 0:se.variationBg1)??"#000000",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},className:"w-16 h-10 p-1 border rounded"}),d.jsx(Ut,{type:"text",value:((V=t.logoDisplayOptions)==null?void 0:V.variationBg2)??"#ffffff",onChange:Y=>{var ie,W,se,fe,de,ge;return e({...t,logoDisplayOptions:{showBlackWhiteVariations:((ie=t.logoDisplayOptions)==null?void 0:ie.showBlackWhiteVariations)??!1,variationBg2:Y.target.value,inverseBackgroundColor:((W=t.logoDisplayOptions)==null?void 0:W.inverseBackgroundColor)??"#000000",variationBg1:((se=t.logoDisplayOptions)==null?void 0:se.variationBg1)??"#000000",showDownloadPackage:!!(((fe=t.logoDisplayOptions)==null?void 0:fe.showDownloadPackage)??!1),showFolderPreview:((de=t.logoDisplayOptions)==null?void 0:de.showFolderPreview)??!0,showLogoDonts:((ge=t.logoDisplayOptions)==null?void 0:ge.showLogoDonts)??!0}})},placeholder:"#ffffff",className:"flex-1 text-sm"})]})]})]})]})]})]});case"colors":return d.jsxs("div",{className:"space-y-4",children:[l&&d.jsxs("div",{className:"pb-4 border-b",children:[d.jsx(lt,{htmlFor:"colors-grid-select",className:"text-sm font-medium",children:"Preview Grid Layout"}),d.jsxs(Ni,{value:a.toString(),onValueChange:Y=>l(parseInt(Y)),children:[d.jsx(Ss,{className:"w-full mt-1",id:"colors-grid-select",children:d.jsx(Ai,{})}),d.jsxs(Cs,{children:[d.jsx(Vt,{value:"2",children:"2 Columns"}),d.jsx(Vt,{value:"3",children:"3 Columns"}),d.jsx(Vt,{value:"4",children:"4 Columns"})]})]})]}),t.colors.colorList.map((Y,ie)=>d.jsx(C8,{label:`Color ${ie+1}`,value:Y,onChange:W=>{const se=[...t.colors.colorList];se[ie]=W,e({...t,colors:{colorList:se}})},onNameChange:W=>{const se=[...t.colors.colorList];typeof se[ie]=="string"?se[ie]={value:se[ie],name:W}:se[ie]={...se[ie],name:W},e({...t,colors:{colorList:se}})},className:"w-full",editable:!0,onMoveUp:ie>0?()=>he(ie,ie-1):void 0,onMoveDown:ie<t.colors.colorList.length-1?()=>he(ie,ie+1):void 0,onDelete:()=>z(ie)},ie)),(((q=(M=t.colors)==null?void 0:M.colorList)==null?void 0:q.length)||0)<10&&d.jsxs(Pe,{variant:"outline",className:"w-full",onClick:U,children:[d.jsx($v,{className:"h-4 w-4 mr-2"}),"Add Color"]})]});case"typography":return d.jsxs("div",{className:"space-y-6",children:[h&&d.jsxs("div",{className:"pb-4 border-b",children:[d.jsx(lt,{className:"text-sm font-medium mb-2 block",children:"Sample Size"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(mw,{value:[c],onValueChange:([Y])=>h(Y),min:16,max:64,step:4,className:"flex-1"}),d.jsxs("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[c,"px"]})]})]}),d.jsx(z9,{fontFamilies:t.fonts.fontFamilies||[],onChange:Y=>{e({...t,fonts:{...t.fonts,fontFamilies:Y,...Y.length>0&&{primary:Y[0].usesCustomFont?"":Y[0].systemFont,primaryWeight:Y[0].weight,usesCustomPrimary:Y[0].usesCustomFont,customPrimaryFontName:Y[0].customFontName||"",primaryFontVariants:Y[0].variants||[]},...Y.length>1&&{secondary:Y[1].usesCustomFont?"":Y[1].systemFont,secondaryWeight:Y[1].weight,usesCustomSecondary:Y[1].usesCustomFont,customSecondaryFontName:Y[1].customFontName||"",secondaryFontVariants:Y[1].variants||[]}}})}})]});case"examples":return d.jsxs("div",{className:"space-y-6",children:[o&&d.jsxs("div",{className:"pb-4 border-b",children:[d.jsx(lt,{htmlFor:"applications-grid-select",className:"text-sm font-medium",children:"Preview Grid Layout"}),d.jsxs(Ni,{value:i.toString(),onValueChange:Y=>o(parseInt(Y)),children:[d.jsx(Ss,{className:"w-full mt-1",id:"applications-grid-select",children:d.jsx(Ai,{})}),d.jsxs(Cs,{children:[d.jsx(Vt,{value:"2",children:"2 Columns"}),d.jsx(Vt,{value:"3",children:"3 Columns"}),d.jsx(Vt,{value:"4",children:"4 Columns"})]})]})]}),d.jsx($9,{examples:t.examples||[],onChange:Y=>{e({...t,examples:Y})},gridColumns:i})]});default:return null}},{data:G}=Tf({queryKey:["userStyleGuides",f==null?void 0:f.uid],queryFn:()=>f?S5(f.uid):Promise.resolve([]),enabled:!!f}),oe=()=>({...t,companyName:t.companyName||"",customUrl:t.customUrl||"",logo:t.logo||"",inverseLogo:t.inverseLogo||"",secondaryLogo:t.secondaryLogo||"",tertiaryLogo:t.tertiaryLogo||"",fourthLogo:t.fourthLogo||"",colors:t.colors||{colorList:[]},fonts:t.fonts||{primary:"Inter",secondary:"Open Sans",primaryWeight:"400",secondaryWeight:"400",usesCustomPrimary:!1,usesCustomSecondary:!1,primaryVariants:[],secondaryVariants:[],customPrimaryFont:"",customSecondaryFont:"",customPrimaryFontName:"",customSecondaryFontName:"",fontFamilies:[]},examples:t.examples||[],logoDisplayOptions:t.logoDisplayOptions,allLogoVariations:t.allLogoVariations,zipFileData:t.zipFileData,zipFileName:t.zipFileName,folderTree:t.folderTree}),Z=Pg({mutationFn:async()=>{if(!f)throw new Error("You must be logged in to save style guides. Please sign in with Google.");const le=oe();console.log(" Publishing current data contains:",{companyName:le.companyName,customUrl:le.customUrl,examplesCount:le.examples?le.examples.length:0,hasExamples:!!le.examples&&le.examples.length>0,examples:le.examples,logoCount:[le.logo,le.inverseLogo,le.secondaryLogo,le.tertiaryLogo,le.fourthLogo].filter(Boolean).length});let $=_!=="new"?_:void 0;if(!$&&le.customUrl&&G){const re=G.find(ce=>ce.customUrl===le.customUrl&&ce.userId===f.uid);re&&($=re.id,console.log(" Found existing guide by URL:",re.id))}return console.log(" Publish debug:",{selectedGuideId:_,existingFirebaseId:$,isUpdate:!!$,customUrl:le.customUrl,method:$?"UPDATE":"CREATE"}),await g9(f.uid,le,$),le.customUrl||""},onSuccess:le=>{console.log(" Publish success:",le),v(`https://guidelines.online/${le}`),x({title:"Style guide published!",description:"Your style guide is now live and accessible."}),P.invalidateQueries({queryKey:["userStyleGuides"]}),n&&n(le)},onError:le=>{console.error(" Publish error:",le),x({title:"Publishing failed",description:le.message,variant:"destructive"})}});Pg({mutationFn:async le=>{if(!f)throw new Error("You must be logged in to delete style guides. Please sign in with Google.");const $=await getFirebase(),{db:re}=$;await deleteDoc(doc(re,"styleGuides",le))},onSuccess:()=>{x({title:"Style guide deleted",description:"Your style guide has been removed."}),P.invalidateQueries({queryKey:["userStyleGuides"]}),S("new"),e(B1)},onError:le=>{x({title:"Deletion failed",description:le.message,variant:"destructive"})}});const K=async le=>{if(S(le),le==="new"){e(B1);return}const $=G==null?void 0:G.find(re=>re.id===le);$&&e($)},B=async(le,$)=>{var ce;const re=(ce=le.target.files)==null?void 0:ce[0];if(re)try{let Ee;if(re.type==="image/svg+xml"||re.name.toLowerCase().endsWith(".svg")){const te=new FileReader;Ee=await new Promise((Ae,I)=>{te.onload=J=>{var ee;(ee=J.target)!=null&&ee.result?Ae(J.target.result.toString()):I(new Error("Failed to read SVG file"))},te.onerror=()=>I(new Error("Failed to read SVG file")),te.readAsText(re)})}else if(re.type.startsWith("image/"))if(py(re)){const te=my(re);x({title:"Optimizing logo",description:`Compressing ${Oa(te)} image for upload...`}),Ee=await fy(re);const Ae=Math.round(Ee.length*3/4/1024);x({title:"Logo optimized",description:`Reduced from ${Oa(te)} to ${Oa(Ae)}`})}else{const te=new FileReader;Ee=await new Promise((Ae,I)=>{te.onload=J=>{var ee;(ee=J.target)!=null&&ee.result?Ae(J.target.result.toString()):I(new Error("Failed to read image file"))},te.onerror=()=>I(new Error("Failed to read image file")),te.readAsDataURL(re)})}else throw new Error("Unsupported file type. Please upload SVG or image files.");const ve={};$==="primary"?ve.logo=Ee:$==="secondary"?ve.inverseLogo=Ee:$==="tertiary"?ve.tertiaryLogo=Ee:$==="fourth"&&(ve.fourthLogo=Ee),e({...t,...ve}),x({title:"Logo uploaded",description:`${$.charAt(0).toUpperCase()+$.slice(1)} logo has been uploaded successfully`})}catch(Ee){console.error("Error uploading logo:",Ee),x({title:"Upload failed",description:Ee instanceof Error?Ee.message:"Failed to upload logo",variant:"destructive"})}},Q=async(le,$,re,ce,Ee,ve)=>{var I;const te={};if(!t.companyName){let J="";if(re&&re.length>0){const V=[...re].sort((M,q)=>O(q.filename)-O(M.filename))[0];J=k(V.filename)}!J&&ce&&(J=k(ce)),J&&(te.companyName=J,t.customUrl||(te.customUrl=await j(J)))}le.forEach(J=>{J.type==="primary"?te.logo=J.data:J.type==="secondary"?te.secondaryLogo=J.data:J.type==="tertiary"?te.tertiaryLogo=J.data:J.type==="fourth"&&(te.fourthLogo=J.data)});const Ae=le.filter(J=>J.isInverse);Ae.length>0&&(te.inverseLogo=Ae[0].data),$&&$.colorList&&$.colorList.length>0&&(te.colors=$),re&&re.length>0&&(te.allLogoVariations=re),Ee&&(te.zipFileData=Ee,te.zipFileName=ce),ve&&(te.folderTree=ve),e({...t,...te}),x({title:"Assets extracted!",description:`Successfully extracted ${le.length} logos${re?`, ${re.length} variations`:""}${(I=$==null?void 0:$.colorList)!=null&&I.length?` and ${$.colorList.length} colors`:""}.`})},U=()=>{const le={value:"#000000",name:`Color ${t.colors.colorList.length+1}`};e({...t,colors:{colorList:[...t.colors.colorList,le]}})},z=le=>{const $=t.colors.colorList.filter((re,ce)=>ce!==le);e({...t,colors:{colorList:$}})},he=(le,$)=>{const re=[...t.colors.colorList],[ce]=re.splice(le,1);re.splice($,0,ce),e({...t,colors:{colorList:re}})};return d.jsxs("div",{className:"h-full flex flex-col bg-card",children:[d.jsxs("div",{className:"p-4 border-b",children:[d.jsx("h1",{className:"text-lg font-semibold",children:"Guidelines.online"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Free Brand Guidelines Generator"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:(ue=R.find(le=>le.id===r))==null?void 0:ue.label}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",(pe=R.find(le=>le.id===r))==null?void 0:pe.step," of ",R.length]})]}),N()]})}),d.jsxs("div",{className:"border-t p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx(lt,{htmlFor:"companyName",className:"text-sm font-medium",children:"Company Name"}),d.jsx(Ut,{id:"companyName",type:"text",value:t.companyName,onChange:le=>e({...t,companyName:le.target.value}),placeholder:"Enter company name",className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx(lt,{htmlFor:"customUrl",className:"text-sm font-medium",children:"Custom URL"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx(Ut,{id:"customUrl",type:"text",value:t.customUrl,onChange:le=>{const $=le.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");e({...t,customUrl:$})},placeholder:"your-brand-name",className:"pl-3"}),y&&d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx(fu,{className:"h-4 w-4 animate-spin"})})]})]})]}),f?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs(Ni,{value:_,onValueChange:K,children:[d.jsx(Ss,{children:d.jsx(Ai,{placeholder:"Select a style guide to edit"})}),d.jsxs(Cs,{children:[d.jsx(Vt,{value:"new",children:"Create new style guide"}),G==null?void 0:G.map(le=>d.jsx(Vt,{value:le.id,children:le.companyName||`Untitled Guide ${le.id}`},le.id))]})]}),d.jsx(Pe,{variant:"outline",onClick:g,className:"text-xs",children:"Sign Out"})]}):null,d.jsxs("div",{className:"flex gap-2",children:[f?d.jsx(Pe,{onClick:()=>Z.mutate(),disabled:Z.isPending,variant:"outline",className:"flex-1",children:Z.isPending?_==="new"?"Publishing...":"Updating...":_==="new"?"Publish":"Update"}):d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("div",{className:"flex items-center space-x-2 text-amber-600 bg-amber-50 p-2 rounded text-sm",children:d.jsx("div",{children:"Sign in required to save style guides"})}),d.jsxs(Pe,{onClick:p,variant:"outline",className:"w-full",children:[d.jsx(p9,{className:"h-4 w-4 mr-2"}),"Sign in with Google"]})]}),d.jsxs(Pe,{onClick:D,className:"flex-1",disabled:r===R[R.length-1].id,children:["Next Step",d.jsx(Vg,{className:"h-4 w-4 ml-2"})]})]})]})]})}function H9(){return d.jsx(Lk,{children:d.jsxs(i6,{children:[d.jsx(uc,{path:"/",component:q9}),d.jsx(h8,{path:"/admin",component:u8}),d.jsx(uc,{path:"/guide/:id",component:P6}),d.jsx(uc,{path:"/:customUrl",children:t=>t.customUrl==="admin"||t.customUrl==="guide"?null:d.jsx(d8,{url:t.customUrl})}),d.jsx(uc,{component:K9})]})})}function q9(){const[t,e]=b.useState("logos"),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[o,a]=b.useState(2),[l,c]=b.useState(3),[h,f]=b.useState({companyName:"",customUrl:"",logo:"",inverseLogo:"",secondaryLogo:"",tertiaryLogo:"",fourthLogo:"",colors:{colorList:[{value:"#000000",name:"Color 1"},{value:"#FFFFFF",name:"Color 2"}]},fonts:{primary:"Inter",secondary:"Open Sans",primaryWeight:"400",secondaryWeight:"400",usesCustomPrimary:!1,usesCustomSecondary:!1,primaryFontVariants:[],secondaryFontVariants:[],customPrimaryFont:"",customSecondaryFont:"",customPrimaryFontName:"",customSecondaryFontName:"",fontFamilies:[{id:"font1",name:"Primary Font",systemFont:"Inter",weight:"400",usesCustomFont:!1,variants:[]},{id:"font2",name:"Secondary Font",systemFont:"Open Sans",weight:"400",usesCustomFont:!1,variants:[]}]},examples:[],inverseLogos:null});return b.useEffect(()=>{const p=()=>{i(window.innerWidth<768),window.innerWidth<768&&r(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),d.jsxs("div",{className:"flex h-screen bg-background relative",children:[d.jsxs("div",{className:"w-16 bg-muted border-r flex flex-col transition-all duration-300",children:[d.jsx("div",{className:"p-2",children:d.jsx("div",{className:"p-2 rounded-lg",children:d.jsx("img",{src:"/imgs/guidelines_online_icon.png",alt:"Guidelines.online",className:"w-8 h-8 rounded-md object-cover"})})}),d.jsx("div",{className:"flex-1 py-4",children:[{id:"logos",icon:oT,label:"Logos"},{id:"colors",icon:uT,label:"Colors"},{id:"typography",icon:hT,label:"Typography"},{id:"examples",icon:sT,label:"Examples"}].map(p=>{const g=p.icon;return d.jsx("div",{className:"px-2 mb-2",children:d.jsx("button",{onClick:()=>{e(p.id),s&&n&&r(!1)},className:`w-full p-3 rounded-lg transition-colors hover:bg-background ${t===p.id?"bg-background shadow-sm border":""}`,title:p.label,children:d.jsx(g,{className:"h-5 w-5 mx-auto"})})},p.id)})})]}),d.jsxs("div",{className:`${n?"w-0 overflow-hidden":"w-80 md:w-96"} border-r bg-card transition-all duration-300 relative ${s&&!n?"absolute left-16 top-0 h-full z-50 shadow-lg":""}`,children:[d.jsx("div",{className:"absolute -right-4 top-4 z-10",children:d.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>r(!n),className:"h-8 w-8 p-0 rounded-full border shadow-lg hover:shadow-xl",children:n?d.jsx(Vg,{className:"h-4 w-4"}):d.jsx(XD,{className:"h-4 w-4"})})}),!n&&d.jsx(W9,{styleGuideData:h,onUpdate:f,activeTab:t,setActiveTab:e,applicationsGridColumns:o,setApplicationsGridColumns:a,colorsGridColumns:l,setColorsGridColumns:c})]}),n&&d.jsx("div",{className:"absolute left-16 top-4 z-50 transform -translate-x-1/2",children:d.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>r(!1),className:"h-8 w-8 p-0 rounded-full border shadow-lg hover:shadow-xl",children:d.jsx(Vg,{className:"h-4 w-4"})})}),s&&!n&&d.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 md:hidden",onClick:()=>r(!0)}),d.jsx("main",{className:`flex-1 min-h-screen overflow-y-auto bg-background transition-all duration-300 ${n?"ml-0":""}`,children:d.jsx("div",{className:"p-4 md:p-8",children:d.jsx(Y0,{data:h,applicationsGridColumns:o,setApplicationsGridColumns:a,colorsGridColumns:l,setColorsGridColumns:c})})})]})}function K9(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:d.jsx(In,{className:"w-full max-w-md mx-4",children:d.jsx(Hn,{className:"pt-6",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(Ug,{className:"h-5 w-5 text-destructive mt-0.5"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Page Not Found"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The requested style guide could not be found at Guidelines.online"})]})]})})})})}dC(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx(BO,{client:CC,children:d.jsx(k5,{children:d.jsxs(Lk,{children:[d.jsx(H9,{}),d.jsx(Qj,{position:"top-right",toastOptions:{duration:3e3}})]})})})}));
